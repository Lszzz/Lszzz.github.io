<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>java 文件数据输入数相的关问题</title>
      <link href="/2020/04/19/java%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5%E6%95%B0%E7%BB%84/"/>
      <url>/2020/04/19/java%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h1 id="java数据输入数组"><a href="#java数据输入数组" class="headerlink" title="java数据输入数组"></a>java数据输入数组</h1><p>在刷题的时候老是碰到多组数据的输入，有时候会出现录入错误，或格式的问题，因而写了一个程序来讲文本中的数据录入数组之中。</p><p>使用BufferedReader的readLine的方法来录入：</p><p>具体见代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 蓝桥杯;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lszzz</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2020/4/19</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInput</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String fileName;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> m,n;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> a[][];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyInput</span><span class="params">(String fileName,<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.fileName=fileName;</span><br><span class="line"><span class="keyword">this</span>.n=n;</span><br><span class="line"><span class="keyword">this</span>.m=m;</span><br><span class="line">a=<span class="keyword">new</span> <span class="keyword">int</span> [m][n];</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//change的作用是如果结尾存在多个空格，会导致line.split出现错误，会将空格归入数组，造成错误，此处去除末尾的空格。</span></span><br><span class="line"><span class="function">String <span class="title">change</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> tmp=s.length();</span><br><span class="line"><span class="keyword">while</span>(s.charAt(tmp-<span class="number">1</span>)==(<span class="keyword">char</span>)<span class="number">160</span>)</span><br><span class="line">&#123;</span><br><span class="line">s=s.substring(<span class="number">0</span>,tmp-<span class="number">1</span>);</span><br><span class="line">tmp--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> s;</span><br><span class="line"><span class="comment">//System.out.println("fin");</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] Read(String fileName) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">File file=<span class="keyword">new</span> File(fileName);</span><br><span class="line">Reader r=<span class="keyword">new</span> FileReader(file);</span><br><span class="line">BufferedReader buf=<span class="keyword">new</span> BufferedReader(r);</span><br><span class="line">String line=<span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">int</span> row=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((line=buf.readLine())!=<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">line=change(line);</span><br><span class="line">String []str=line.split(<span class="string">" "</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">a[row][i]=Integer.parseInt(str[i]);</span><br><span class="line">&#125;</span><br><span class="line">row++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>这里面有一个坑，在判断末尾是否为空格时，如果单单的==‘ ’是没法判断结尾是否为空格的，因为在ASCII码中32和160都表示空格，如果你的数据是从浏览器中复制来的那么他的空格的ASCII码就是160，如果是在IDEA手动输入的空格就代表32，因此需要进行判断后再进行处理。  </p><p>两个空格区别：<br>32 是一般的空格；</p><p>160 non-breaking space（不换行空格）防止在其位置自动换行的空格字符，一般来源于网页复制。</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 文件流 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Trie树</title>
      <link href="/2020/04/18/Trie%E6%A0%91/"/>
      <url>/2020/04/18/Trie%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<h1 id="Tire树"><a href="#Tire树" class="headerlink" title="Tire树"></a>Tire树</h1><p>单词查找树可以用于搜索引擎的搜索匹配，利用树结构与键值对，键是构成词组的所有结点的集合，而值存在于最深的结点之中，类似于二叉排序树之类的树结构，Tire树的生成，查询，删除都基于递归实现；</p><p>具体实现见代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> trie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lszzz</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TrieST</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 基数：所有链接,之所以为256个是因为(在英文中)ASCII码一共有256个字符编码0-255,如果考虑汉字则需要进行拓展；】‘</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> R=<span class="number">65293</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单词查找树根节点</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> Node root;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用静态内部类对外部进行隐藏</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line"><span class="comment">//具体的每个结点内容</span></span><br><span class="line"><span class="keyword">private</span> Object val;</span><br><span class="line"><span class="comment">//有多个向下的节点链接</span></span><br><span class="line"><span class="keyword">private</span> Node[] next=<span class="keyword">new</span> Node[R];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 进行重载方便外界使用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(String key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Node x=get(root,key,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> (V) x.val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现原理，利用递归，查找每一层的字符，知道查找到为null或深度达到单词长度结束递归。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> x</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> d</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">get</span><span class="params">(Node x,String key,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//返回以x作为根结点的子单词查找树中与key相关联的值。</span></span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(d==key.length())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//找到第d个单词</span></span><br><span class="line"><span class="keyword">char</span> c=key.charAt(d);</span><br><span class="line"><span class="comment">//使用字符编码作为c的值</span></span><br><span class="line"><span class="keyword">return</span> get(x.next[c],key,d+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String key,V val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">root=put(root,key,val,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">put</span><span class="params">(Node x,String key,V val,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//如果没有此节点就创建节点。</span></span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">x=<span class="keyword">new</span> Node();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Trie的值存于键的最后一个结点中。</span></span><br><span class="line"><span class="keyword">if</span>(d==key.length())</span><br><span class="line">&#123;</span><br><span class="line">x.val=val;</span><br><span class="line"><span class="comment">//返回最后结点</span></span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//找到第d个字符对应的单词查找树</span></span><br><span class="line"><span class="keyword">char</span> c=key.charAt(d);</span><br><span class="line">x.next[c]=put(x.next[c],key,val,d+<span class="number">1</span>);</span><br><span class="line"><span class="comment">//返回结点，将结点从底部连接起来。</span></span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> size(root);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">(Node x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//访问到末尾有值算一个。</span></span><br><span class="line"><span class="keyword">if</span>(x.val!=<span class="keyword">null</span>) cnt++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="number">0</span>;c&lt;R;c++)</span><br><span class="line">&#123;</span><br><span class="line">cnt+=size(x.next[c]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//递归，使用queue存取以pre为前缀的所有字符串，如果想要遍历，pre="",即·pre为root</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">keys</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> keysWithPrefix(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">keysWithPrefix</span><span class="params">(String pre)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Queue&lt;String&gt; q=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">collect(get(root,pre,<span class="number">0</span>),pre,q);</span><br><span class="line"><span class="keyword">return</span> q;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">collect</span><span class="params">(Node x,String pre,Queue&lt;String&gt;q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(x.val!=<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">q.add(pre);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="number">0</span>;c&lt;R;c++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//继续递归增加下一个字符，判断存不存在。</span></span><br><span class="line">collect(x.next[c],pre+c,q);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通配符匹配，在每个字节点比较的时候加上一个.条件即可，但结束条件必须既满足长度匹配，有满足是最终节点</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> pat</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterable&lt;String&gt; <span class="title">keysThatMatch</span><span class="params">(String pat)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Queue&lt;String&gt;q=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">collect(root,<span class="string">""</span>,pat,q);</span><br><span class="line"><span class="keyword">return</span> q;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">collect</span><span class="params">(Node x,String pre,String pat,Queue&lt;String&gt; q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> d=pre.length();</span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(x.val!=<span class="keyword">null</span>&amp;&amp;d==pat.length())&#123;</span><br><span class="line">q.add(pre);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(d==pat.length())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">char</span> next=pat.charAt(d);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="number">0</span>;c&lt;R;c++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(next==<span class="string">'.'</span>||next==c)</span><br><span class="line">&#123;</span><br><span class="line">collect(x.next[c],pre+c,pat,q);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 最长前缀，类似于get的递归</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestPrefixOf</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> length=search(root,s,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> s.substring(<span class="number">0</span>,length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(Node x,String s,<span class="keyword">int</span> length,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(x.val!=<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">length=d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(d==s.length())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> s.length();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">char</span> c=s.charAt(d);</span><br><span class="line"><span class="keyword">return</span> search(x.next[c],s,length,d+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除一个键值对，首先找到键对应的节点，将其值设为null，若其有子节点结束操作，若无子节点则删除该节点。</span></span><br><span class="line"><span class="comment"> * 同样使用递归的方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(String key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">root=delete(root,key,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">delete</span><span class="params">(Node x,String key,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(d==key.length())</span><br><span class="line">&#123;</span><br><span class="line">x.val=<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">char</span> c=key.charAt(d);</span><br><span class="line">x.next[c]=delete(x.next[c],key,d+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//防止给的key过长，val会不为null；</span></span><br><span class="line"><span class="keyword">if</span>(x.val!=<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//返回的x不变</span></span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="number">0</span>;c&lt;R;c++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//判断子节点是否为空，不为空返回x，空则返回null;</span></span><br><span class="line"><span class="keyword">if</span>(x.next[c]!=<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Trie树 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kuangbin带你飞一简单搜索</title>
      <link href="/2020/04/12/kuangbin%E5%B8%A6%E4%BD%A0%E9%A3%9E%E4%B8%80%E7%AE%80%E5%8D%95%E6%90%9C%E7%B4%A2/"/>
      <url>/2020/04/12/kuangbin%E5%B8%A6%E4%BD%A0%E9%A3%9E%E4%B8%80%E7%AE%80%E5%8D%95%E6%90%9C%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="kuangbin带你飞："><a href="#kuangbin带你飞：" class="headerlink" title="kuangbin带你飞："></a>kuangbin带你飞：</h1><p><a href="https://vjudge.net/contest/355899#problem/A" target="_blank" rel="noopener">棋盘问题</a></p><a href="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gdrecj8gjhj30j60mvqd1.jpg" data-fancybox="group" data-caption="1" class="fancybox"><img alt="1" style="zoom:80%;" title="1" data-src="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gdrecj8gjhj30j60mvqd1.jpg" class="lazyload"></a><p>简单的dfs，将row作为参数传入dfs，循环遍历column，注意dfs列之后要返回原先状态；</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> n,k,num,cnt; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(k==num)</span><br><span class="line">&#123;</span><br><span class="line">cnt++;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(r&gt;=n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(!vis[j]&amp;&amp;<span class="built_in">map</span>[r][j]==<span class="string">'#'</span>)</span><br><span class="line">&#123;</span><br><span class="line">vis[j]=<span class="number">1</span>;</span><br><span class="line">num++;</span><br><span class="line">dfs(r+<span class="number">1</span>);</span><br><span class="line">vis[j]=<span class="number">0</span>;</span><br><span class="line">num--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">dfs(r+<span class="number">1</span>);<span class="comment">//第r行不放； </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(n==<span class="number">-1</span>&amp;&amp;k==<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;<span class="built_in">map</span>[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">cnt=<span class="number">0</span>;</span><br><span class="line">num=<span class="number">0</span>;</span><br><span class="line">dfs(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/355899#problem/B" target="_blank" rel="noopener">Dungeon Master</a></p><a href="//tvax3.sinaimg.cn/mw690/006rkvIPgy1gdrefp3adej30mi0nj12y.jpg" data-fancybox="group" data-caption="2.1" class="fancybox"><img alt="2.1" style="zoom:80%;" title="2.1" data-src="//tvax3.sinaimg.cn/mw690/006rkvIPgy1gdrefp3adej30mi0nj12y.jpg" class="lazyload"></a><a href="//tva4.sinaimg.cn/mw690/006rkvIPgy1gdregcr1ipj30n00n7n4m.jpg" data-fancybox="group" data-caption="2.2PNG" class="fancybox"><img alt="2.2PNG" style="zoom:80%;" title="2.2PNG" data-src="//tva4.sinaimg.cn/mw690/006rkvIPgy1gdregcr1ipj30n00n7n4m.jpg" class="lazyload"></a><p>迷宫问题拓展为三维状态，与普通的迷宫方法相同，只是使用三维数组表示状态，</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3 4 5</span></span><br><span class="line"><span class="comment">S....</span></span><br><span class="line"><span class="comment">.###.</span></span><br><span class="line"><span class="comment">.##..</span></span><br><span class="line"><span class="comment">###.#</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">##.##</span></span><br><span class="line"><span class="comment">##...</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">#.###</span></span><br><span class="line"><span class="comment">####E</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> gx,gy,gz;</span><br><span class="line"><span class="keyword">int</span> bx,by,bz;</span><br><span class="line"><span class="keyword">int</span> l,r,c;</span><br><span class="line"><span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[<span class="number">31</span>][<span class="number">31</span>][<span class="number">31</span>];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">31</span>][<span class="number">31</span>][<span class="number">31</span>];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">6</span>][<span class="number">3</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line"><span class="keyword">int</span> z;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">step</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">queue</span> &lt;node&gt; q;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">     node m=q.front();</span><br><span class="line"> q.pop();</span><br><span class="line"> <span class="keyword">if</span>(m.x==gx&amp;&amp;m.y==gy&amp;&amp;m.z==gz)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="built_in">cout</span>&lt;&lt;<span class="string">"Escaped in "</span>&lt;&lt;m.<span class="built_in">step</span>&lt;&lt;<span class="string">" minute(s)."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"> <span class="keyword">return</span> ;</span><br><span class="line"> &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmpx=m.x+dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> tmpy=m.y+dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> tmpz=m.z+dir[i][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">if</span>(!vis[tmpx][tmpy][tmpz]&amp;&amp;(<span class="built_in">map</span>[tmpx][tmpy][tmpz]==<span class="string">'.'</span>||<span class="built_in">map</span>[tmpx][tmpy][tmpz]==<span class="string">'E'</span>)&amp;&amp;tmpx&lt;l&amp;&amp;tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpy&lt;r&amp;&amp;tmpy&gt;=<span class="number">0</span>&amp;&amp;tmpz&lt;c&amp;&amp;tmpz&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line"> </span><br><span class="line">vis[tmpx][tmpy][tmpz]=<span class="number">1</span>;</span><br><span class="line">    node b;</span><br><span class="line">b.x=tmpx;</span><br><span class="line">b.y=tmpy;</span><br><span class="line">b.z=tmpz;</span><br><span class="line">b.<span class="built_in">step</span>=m.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line">q.push(b);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"Trapped!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;l&gt;&gt;r&gt;&gt;c)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(l==<span class="number">0</span>&amp;&amp;r==<span class="number">0</span>&amp;&amp;c==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;r;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;c;k++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;<span class="built_in">map</span>[i][j][k];</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j][k]==<span class="string">'S'</span>)</span><br><span class="line">&#123;</span><br><span class="line">bx=i;</span><br><span class="line">by=j;</span><br><span class="line">bz=k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j][k]==<span class="string">'E'</span>)</span><br><span class="line">&#123;</span><br><span class="line">gx=i;</span><br><span class="line">gy=j;</span><br><span class="line">gz=k;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">node a;</span><br><span class="line">a.x=bx;</span><br><span class="line">a.y=by;</span><br><span class="line">a.z=bz;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">vis[bx][by][bz]=<span class="number">1</span>;</span><br><span class="line">a.<span class="built_in">step</span>=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">q.pop();</span><br><span class="line">&#125;</span><br><span class="line">q.push(a);</span><br><span class="line">bfs();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/355899#problem/C" target="_blank" rel="noopener">Catch That Cow</a></p><a href="//tva2.sinaimg.cn/mw690/006rkvIPgy1gdrelq3f33j30lc0m512g.jpg" data-fancybox="group" data-caption="3" class="fancybox"><img alt="3" style="zoom:80%;" title="3" data-src="//tva2.sinaimg.cn/mw690/006rkvIPgy1gdrelq3f33j30lc0m512g.jpg" class="lazyload"></a><p>bfs模板题：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">100001</span>;<span class="comment">//此处范围得准确，如果小了会Wrong</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> vis[maxn],<span class="built_in">step</span>[maxn];</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;que;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> N,<span class="keyword">int</span> K)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> next,top;</span><br><span class="line">    que.push(N);<span class="comment">//农夫所在初始点入队</span></span><br><span class="line">    vis[N]=<span class="literal">true</span>;<span class="comment">//标记已被访问</span></span><br><span class="line">    <span class="built_in">step</span>[N]=<span class="number">0</span>;<span class="comment">//步数初始为0</span></span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;<span class="comment">//队列非空时，执行循环</span></span><br><span class="line">        top=que.front();<span class="comment">//取出队首</span></span><br><span class="line">        que.pop();<span class="comment">//弹出队首</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">0</span>) next=top<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">1</span>) next=top+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> next=top*<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(next&lt;<span class="number">0</span>||next&gt;=maxn) <span class="keyword">continue</span>;<span class="comment">//如已出界，则排除该情况</span></span><br><span class="line">            <span class="keyword">if</span>(!vis[next])&#123;<span class="comment">//如果改点还未被访问过</span></span><br><span class="line">                que.push(next);<span class="comment">//入队</span></span><br><span class="line">                <span class="built_in">step</span>[next]=<span class="built_in">step</span>[top]+<span class="number">1</span>;<span class="comment">//步数+1</span></span><br><span class="line">                vis[next]=<span class="literal">true</span>;<span class="comment">//标记已被访问过</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(next==K) <span class="keyword">return</span> <span class="built_in">step</span>[next];<span class="comment">//当遍历到结果，返回步数</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N,K;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;N,&amp;K))&#123;</span><br><span class="line">        <span class="built_in">memset</span>(<span class="built_in">step</span>,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="built_in">step</span>));</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">while</span>(!que.empty()) que.pop();<span class="comment">//注意调用前要先清空</span></span><br><span class="line">        <span class="keyword">if</span>(N&gt;=K) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,N-K);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,bfs(N,K));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/355899#problem/D" target="_blank" rel="noopener">Fliptile</a></p><a href="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gdrenumsg0j30mz0lt491.jpg" data-fancybox="group" data-caption="4.1" class="fancybox"><img alt="4.1" style="zoom:80%;" title="4.1" data-src="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gdrenumsg0j30mz0lt491.jpg" class="lazyload"></a><a href="//tva4.sinaimg.cn/mw690/006rkvIPgy1gdresqxvezj30ny0d20x4.jpg" data-fancybox="group" data-caption="4.2" class="fancybox"><img alt="4.2" style="zoom:80%;" title="4.2" data-src="//tva4.sinaimg.cn/mw690/006rkvIPgy1gdresqxvezj30ny0d20x4.jpg" class="lazyload"></a><p>此题使用了二进制枚举法，题目的意思是有n*m个方格1是黑，0是白，每次牛翻转一个格子会使周围所有格子反过来，问最少需要多少次将格子全部翻成白的，并且输出哪些位置被翻转了；由题意可知最终的结果肯定是由第一行的摆放情况决定的，因为第一行确定后，为了使所有棋子为白，下一行必须根据上一行的结果进行摆放，一直到最后一行，只需判断最后一行在满足前一行全为白的情况下能否全部取白就满足条件，因为只需对第一行进行二进制枚举即可。</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">16</span>;</span><br><span class="line"><span class="keyword">int</span> g[N][N];</span><br><span class="line"><span class="keyword">int</span> t[N][N];</span><br><span class="line"><span class="keyword">int</span> f[N][N];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">flip</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">++cnt;</span><br><span class="line">f[x][y]=<span class="number">1</span>;<span class="comment">//记录翻转了哪块砖，</span></span><br><span class="line">t[x][y]^=<span class="number">1</span>;<span class="comment">//异或翻转;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmpx=x+dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> tmpy=y+dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>(tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpx&lt;n&amp;&amp;tmpy&gt;=<span class="number">0</span>&amp;&amp;tmpy&lt;m)</span><br><span class="line">&#123;</span><br><span class="line">t[tmpx][tmpy]^=<span class="number">1</span>;<span class="comment">//五个方块全部翻转 </span></span><br><span class="line">&#125;</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line">t[i][j]=g[i][j];<span class="comment">//暂时保存； </span></span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(k&amp;(<span class="number">1</span>&lt;&lt;(m<span class="number">-1</span>-i)))<span class="comment">//二进制枚举法判断该位置是否翻转 </span></span><br><span class="line">&#123;</span><br><span class="line">flip(<span class="number">0</span>,i);</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">if</span>(t[i<span class="number">-1</span>][j]==<span class="number">1</span>)<span class="comment">//如果前面为1就要翻转； </span></span><br><span class="line"> &#123;</span><br><span class="line"> flip(i,j);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">if</span>(t[n<span class="number">-1</span>][j]!=<span class="number">0</span>)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmp=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;g[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ans=m*n+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;m);i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(judge(i)&amp;&amp;cnt&lt;ans)</span><br><span class="line">&#123;</span><br><span class="line">ans=cnt;</span><br><span class="line">tmp=i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line">f[i][j]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp&gt;=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">judge(tmp);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(j&lt;m<span class="number">-1</span>)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;f[i][j]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;f[i][j]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"IMPOSSIBLE"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/355899#problem/E" target="_blank" rel="noopener">Find The Multiple</a></p><a href="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gdrfdqoa6wj30ms0jon5k.jpg" data-fancybox="group" data-caption="5.1" class="fancybox"><img alt="5.1" style="zoom:80%;" title="5.1" data-src="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gdrfdqoa6wj30ms0jon5k.jpg" class="lazyload"></a><a href="http://tvax3.sinaimg.cn/mw690/006rkvIPgy1gdrfdxa5bsj30nk05e404.jpg" data-fancybox="group" data-caption="alt" class="fancybox"><img alt="alt" style="zoom:80%;" title="alt" data-src="http://tvax3.sinaimg.cn/mw690/006rkvIPgy1gdrfdxa5bsj30nk05e404.jpg" class="lazyload"></a><p>题目意思是输入一个数，输出的数是由1和0组成的输入的数的倍数，既可以用bfs也可以用dfs</p><p>bfs：最初队列里为1，bfs过程：取出后判断是否为倍数，然后enqueue（i*10）和enqueue（i*10+1）;</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="built_in">queue</span>&lt;ll&gt;q;</span><br><span class="line">ll ans=<span class="number">0</span>;</span><br><span class="line">ll s;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(ll i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">q.push(i);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">ll tmp=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">if</span>(tmp%s==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;tmp&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">q.push(tmp*<span class="number">10</span>);</span><br><span class="line">q.push(tmp*<span class="number">10</span>+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;s)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(s==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//flag=false;</span></span><br><span class="line">ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">q.pop();</span><br><span class="line"> &#125;</span><br><span class="line"> bfs(<span class="number">1</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/355899#problem/F" target="_blank" rel="noopener">Prime Path</a></p><a href="//tva2.sinaimg.cn/mw690/006rkvIPgy1gdrfennjqdj30ko0mztkk.jpg" data-fancybox="group" data-caption="6.1" class="fancybox"><img alt="6.1" style="zoom:80%;" title="6.1" data-src="//tva2.sinaimg.cn/mw690/006rkvIPgy1gdrfennjqdj30ko0mztkk.jpg" class="lazyload"></a><a href="//tva2.sinaimg.cn/mw690/006rkvIPgy1gdrfj3mw7zj30lh0hvahk.jpg" data-fancybox="group" data-caption="6.2" class="fancybox"><img alt="6.2" style="zoom:80%;" title="6.2" data-src="//tva2.sinaimg.cn/mw690/006rkvIPgy1gdrfj3mw7zj30lh0hvahk.jpg" class="lazyload"></a><p>题目大意：给两个素数，要求将前一个素数一次改变一位数，改变到另外一个素数，且要求改变过程中的每一个数都是素数。此题先使用筛法求出0到9999之间的素数打标，然后bfs，循环每一位数，判断生成的数是否为目的值，注意判重原则为vis[num],即构成的四位数：</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">step</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line"><span class="keyword">int</span> prim[<span class="number">100001</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">100001</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt;q;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prim_c</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(prim,<span class="number">0</span>,<span class="keyword">sizeof</span>(prim));</span><br><span class="line">prim[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=<span class="number">9999</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(prim[i]!=<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>*i;j&lt;=<span class="number">9999</span>;j+=i)</span><br><span class="line">&#123;</span><br><span class="line">prim[j]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">q.pop();</span><br><span class="line">&#125;</span><br><span class="line">node N;</span><br><span class="line">N.x=a;</span><br><span class="line">N.<span class="built_in">step</span>=<span class="number">0</span>;</span><br><span class="line">q.push(N);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">       node tmp;</span><br><span class="line">   tmp=q.front();</span><br><span class="line">   q.pop();</span><br><span class="line">   <span class="keyword">int</span> tmpx=tmp.x;</span><br><span class="line">   <span class="keyword">int</span> tmps=tmp.<span class="built_in">step</span>;</span><br><span class="line">   <span class="keyword">if</span>(tmpx==b)</span><br><span class="line">   &#123;</span><br><span class="line">   flag=<span class="literal">true</span>;</span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;tmps&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">   <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="keyword">int</span> t[<span class="number">4</span>];</span><br><span class="line">      <span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">  t[<span class="number">0</span>]=tmpx/<span class="number">1000</span>;</span><br><span class="line">  t[<span class="number">1</span>]=tmpx/<span class="number">100</span>%<span class="number">10</span>;</span><br><span class="line">  t[<span class="number">2</span>]=tmpx/<span class="number">10</span>%<span class="number">10</span>;</span><br><span class="line">  t[<span class="number">3</span>]=tmpx%<span class="number">10</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">int</span> temp=t[i];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">if</span>(t[i]!=j)</span><br><span class="line">  &#123;</span><br><span class="line">  t[i]=j;</span><br><span class="line">  num=t[<span class="number">0</span>]*<span class="number">1000</span>+t[<span class="number">1</span>]*<span class="number">100</span>+t[<span class="number">2</span>]*<span class="number">10</span>+t[<span class="number">3</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(prim[num]==<span class="number">0</span>&amp;&amp;!vis[num]&amp;&amp;num&gt;=<span class="number">1000</span>&amp;&amp;num&lt;=<span class="number">9999</span>)</span><br><span class="line">  &#123;</span><br><span class="line">  node insert;</span><br><span class="line">  insert.<span class="built_in">step</span>=tmp.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line">  insert.x=num;</span><br><span class="line">  q.push(insert);</span><br><span class="line">  vis[num]=<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  t[i]=temp;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line"><span class="keyword">int</span> tmp1,tmp2,ans;</span><br><span class="line">prim_c();</span><br><span class="line"><span class="keyword">while</span>(t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;tmp1&gt;&gt;tmp2;</span><br><span class="line">ans=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">bfs(tmp1,tmp2);</span><br><span class="line"><span class="keyword">if</span>(!flag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"Impossible"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;ans&lt;&lt;endl;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/355899#problem/G" target="_blank" rel="noopener">G- Shuffle’m Up</a></p><a href="//tva1.sinaimg.cn/mw690/006rkvIPgy1gdrfrsugwdj30kv0mrn86.jpg" data-fancybox="group" data-caption="7.1" class="fancybox"><img alt="7.1" style="zoom:80%;" title="7.1" data-src="//tva1.sinaimg.cn/mw690/006rkvIPgy1gdrfrsugwdj30kv0mrn86.jpg" class="lazyload"></a><a href="https://tvax2.sinaimg.cn/large/006rkvIPgy1gdrft9a5jgj30lg0fzthg.jpg" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" style="zoom: 67%;" title="alt photo" data-src="https://tvax2.sinaimg.cn/large/006rkvIPgy1gdrft9a5jgj30lg0fzthg.jpg" class="lazyload"></a><p>此题是一道模拟题，是洗牌过程，，将s1,s2交叉组成s12,然后从中间对半分，再次进行交叉，循环执行上述操作，问经过多少次操作后能够达到最终状态。此题使用两个数组进行模拟，然后使用set&lt;string&gt; .find来判重，如果有重复会形成无限循环输出impossible，需要注意多组输入每次对字符串的清空问题。</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 100001</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </span><br><span class="line"><span class="built_in">string</span> a,b,c,res;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt; m;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> cases;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;cases;</span><br><span class="line"><span class="keyword">int</span> tmp=cases;</span><br><span class="line"><span class="keyword">while</span>(cases--)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> times=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> num;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;num;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;res;</span><br><span class="line"><span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num;i++)</span><br><span class="line">&#123;</span><br><span class="line">   c+=b[i];</span><br><span class="line">   c+=a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> tmp0=m.<span class="built_in">size</span>();</span><br><span class="line">m.insert(c);</span><br><span class="line"><span class="keyword">int</span> tmp1=m.<span class="built_in">size</span>();</span><br><span class="line">times+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(res==c)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;tmp-cases&lt;&lt;<span class="string">" "</span>&lt;&lt;times&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">times=<span class="number">0</span>;</span><br><span class="line">m.<span class="built_in">clear</span>();</span><br><span class="line">c.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp0==tmp1)</span><br><span class="line">&#123;</span><br><span class="line">times=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;tmp-cases&lt;&lt;<span class="string">" -1"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">m.<span class="built_in">clear</span>();</span><br><span class="line">c.<span class="built_in">clear</span>();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num;i++)</span><br><span class="line">&#123;</span><br><span class="line">a[i]=c[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=num;i&lt;<span class="number">2</span>*num;i++)</span><br><span class="line">&#123;</span><br><span class="line">b[i-num]=c[i];</span><br><span class="line">&#125;</span><br><span class="line">c=<span class="string">""</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/355899#problem/H" target="_blank" rel="noopener">H- Pots</a></p><p><a href="//tvax2.sinaimg.cn/mw690/006rkvIPgy1gds6hxbvtwj30ns0lmn70.jpg" data-fancybox="group" data-caption="8.1" class="fancybox"><img alt="8.1" style="zoom:80%;" title="8.1" data-src="//tvax2.sinaimg.cn/mw690/006rkvIPgy1gds6hxbvtwj30ns0lmn70.jpg" class="lazyload"></a><a href="//tva1.sinaimg.cn/mw690/006rkvIPgy1gds6i2klvfj30n30bw780.jpg" data-fancybox="group" data-caption="8.2" class="fancybox"><img alt="8.2" title="8.2" data-src="//tva1.sinaimg.cn/mw690/006rkvIPgy1gds6i2klvfj30n30bw780.jpg" class="lazyload"></a></p><a href="//tvax2.sinaimg.cn/mw690/006rkvIPgy1gds6i2klvfj30n30bw780.jpg" data-fancybox="group" data-caption="8.2" class="fancybox"><img alt="8.2" style="zoom:80%;" title="8.2" data-src="//tvax2.sinaimg.cn/mw690/006rkvIPgy1gds6i2klvfj30n30bw780.jpg" class="lazyload"></a><p>bfs打印路径问题，在结构体中加入一个string act用以记录路径方向：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX=<span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> A,B,C;</span><br><span class="line"><span class="keyword">int</span> vis[MAX][MAX];</span><br><span class="line"><span class="built_in">string</span> num[<span class="number">6</span>]=&#123;<span class="string">"FILL(1)"</span>,<span class="string">"DROP(1)"</span>,<span class="string">"POUR(1,2)"</span>,<span class="string">"FILL(2)"</span>,<span class="string">"DROP(2)"</span>,<span class="string">"POUR(2,1)"</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line"><span class="built_in">string</span> act;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">step</span>;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt;q;</span><br><span class="line"><span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> A,<span class="keyword">int</span> B)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vis[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">node a;</span><br><span class="line">a.x=<span class="number">0</span>;</span><br><span class="line">a.y=<span class="number">0</span>;</span><br><span class="line">a.act=<span class="string">""</span>;</span><br><span class="line">a.<span class="built_in">step</span>=<span class="number">0</span>;</span><br><span class="line">q.push(a);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">node tmp=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">int</span> tmpx=tmp.x;</span><br><span class="line"><span class="keyword">int</span> tmpy=tmp.y;</span><br><span class="line"><span class="built_in">string</span> tmpa=tmp.act;</span><br><span class="line"><span class="keyword">int</span> tmps=tmp.<span class="built_in">step</span>;</span><br><span class="line"><span class="keyword">if</span>(tmpx==C||tmpy==C)</span><br><span class="line">&#123;</span><br><span class="line">flag=<span class="literal">true</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;tmps&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tmp.act.length();i++)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">int</span> I=(tmp.act[i]-<span class="string">'1'</span>+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;num[I]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">node in;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">in=tmp;</span><br><span class="line"><span class="keyword">int</span> tx,ty,ts;</span><br><span class="line"><span class="built_in">string</span> ta;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">  in.x=A;</span><br><span class="line">  in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">  in.act+=<span class="string">"0"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">in.x=<span class="number">0</span>;</span><br><span class="line">in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">in.act+=<span class="string">"1"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(tmpx&gt;=B-tmpy)</span><br><span class="line">    &#123;</span><br><span class="line">    in.x-=(B-in.y);</span><br><span class="line">    in.y=B;</span><br><span class="line">    in.act+=<span class="string">"2"</span>;</span><br><span class="line">    in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(tmpx&lt;B-tmpy)</span><br><span class="line">    &#123;</span><br><span class="line">    in.y+=in.x;</span><br><span class="line">    in.x=<span class="number">0</span>;</span><br><span class="line">    in.act+=<span class="string">"2"</span>;</span><br><span class="line">    in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line">  in.y=B;</span><br><span class="line">    in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">    in.act+=<span class="string">"3"</span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line">in.y=<span class="number">0</span>;</span><br><span class="line">   in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">   in.act+=<span class="string">"4"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">5</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(tmpy&gt;=A-tmpx)</span><br><span class="line">    &#123;</span><br><span class="line">    in.y-=(A-in.x);</span><br><span class="line">        in.x=A;</span><br><span class="line">        in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">        in.act+=<span class="string">"5"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(tmpy&lt;A-tmpx)</span><br><span class="line">    &#123;</span><br><span class="line">    in.x+=in.y;</span><br><span class="line">    in.y=<span class="number">0</span>;</span><br><span class="line">    in.<span class="built_in">step</span>+=<span class="number">1</span>;</span><br><span class="line">    in.act+=<span class="string">"5"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">if</span>(!vis[in.x][in.y])</span><br><span class="line">    &#123;</span><br><span class="line">    vis[in.x][in.y]=<span class="number">1</span>;</span><br><span class="line">    q.push(in);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!flag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"impossible"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;A&gt;&gt;B&gt;&gt;C;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">flag=<span class="literal">false</span>;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*MAX*MAX);</span><br><span class="line">bfs(A,B);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/368000#problem/J" target="_blank" rel="noopener">J- Fire</a></p><a href="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gds6l9e6r2j30gm0luq6z.jpg" data-fancybox="group" data-caption="9" class="fancybox"><img alt="9" style="zoom:80%;" title="9" data-src="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gds6l9e6r2j30gm0luq6z.jpg" class="lazyload"></a><p>两次bfs，第一次判断火烧到每个格子的最早时间，第二次bfs人的路径如果能够在火烧到之前走到相应的格子上就可以继续，否则continue,记录格子被火烧的时间初始值应设为-1，因为存在烧不到的情况，另外注意火可能不止一处。</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">4 4</span></span><br><span class="line"><span class="comment">####</span></span><br><span class="line"><span class="comment">#JF#</span></span><br><span class="line"><span class="comment">#..#</span></span><br><span class="line"><span class="comment">#..#</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">使用两次bfs，注意memset只能初始为0或-1，此题为了判断几步，使用-1比较好。因为存在有无火火火烧不到的情况； </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> ix,iy,gx,gy;</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line"><span class="keyword">int</span> s;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt;q;</span><br><span class="line"><span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line"><span class="keyword">int</span> vis[MAXN][MAXN];</span><br><span class="line"><span class="keyword">int</span> vis1[MAXN][MAXN];</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[MAXN][MAXN];</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> R,C;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs_f</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">node tmp;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">tmp=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="comment">//cout&lt;&lt;"Fire "&lt;&lt;tmp.x&lt;&lt;" "&lt;&lt;tmp.y&lt;&lt;" "&lt;&lt;tmp.s&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmpx=tmp.x+dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> tmpy=tmp.y+dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> tmps=tmp.s+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(vis[tmpx][tmpy]==<span class="number">-1</span>&amp;&amp;<span class="built_in">map</span>[tmpx][tmpy]!=<span class="string">'#'</span>&amp;&amp;tmpx&lt;R&amp;&amp;tmpy&lt;C&amp;&amp;tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpy&gt;=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">        node in;</span><br><span class="line">        in.x=tmpx;</span><br><span class="line">        in.y=tmpy;</span><br><span class="line">        in.s=tmps;</span><br><span class="line">        vis[tmpx][tmpy]=vis[tmp.x][tmp.y]+<span class="number">1</span>;</span><br><span class="line">        q.push(in);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs_p</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">node tmp;</span><br><span class="line">tmp.x=x;</span><br><span class="line">tmp.y=y;</span><br><span class="line">vis1[tmp.x][tmp.y]=<span class="number">1</span>;</span><br><span class="line">tmp.s=<span class="number">0</span>;</span><br><span class="line">q.push(tmp);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">tmp=q.front();</span><br><span class="line">q.pop(); </span><br><span class="line"><span class="comment">//cout&lt;&lt;tmp.x&lt;&lt;" "&lt;&lt;tmp.y&lt;&lt;" "&lt;&lt;tmp.s&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">if</span>(tmp.x==R<span class="number">-1</span>||tmp.y==C<span class="number">-1</span>||tmp.x==<span class="number">0</span>||tmp.y==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">flag=<span class="literal">true</span>;</span><br><span class="line">ans=tmp.s+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> tmpx;</span><br><span class="line"><span class="keyword">int</span> tmpy;</span><br><span class="line"><span class="keyword">int</span> tmps;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">tmpx=tmp.x+dir[i][<span class="number">0</span>];</span><br><span class="line">tmpy=tmp.y+dir[i][<span class="number">1</span>];</span><br><span class="line">tmps=tmp.s+<span class="number">1</span>;</span><br><span class="line"><span class="comment">//cout&lt;&lt;"COm"&lt;&lt;tmpx&lt;&lt;" "&lt;&lt;tmpy&lt;&lt;" "&lt;&lt;tmps&lt;&lt;" "&lt;&lt;vis[tmpx][tmpy]&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">if</span>(tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpx&lt;R&amp;&amp;tmpy&lt;C&amp;&amp;tmpy&gt;=<span class="number">0</span>&amp;&amp;<span class="built_in">map</span>[tmpx][tmpy]==<span class="string">'.'</span>&amp;&amp;!vis1[tmpx][tmpy]&amp;&amp;(tmps&lt;vis[tmpx][tmpy]||vis[tmpx][tmpy]==<span class="number">-1</span>))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   vis1[tmpx][tmpy]=<span class="number">1</span>;</span><br><span class="line">  node in;</span><br><span class="line">  in.x=tmpx;</span><br><span class="line">  in.y=tmpy;</span><br><span class="line">  in.s=tmps;</span><br><span class="line">  q.push(in);</span><br><span class="line">&#125;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">   <span class="keyword">continue</span>;</span><br><span class="line">&#125;    </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> cases;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;cases; </span><br><span class="line"><span class="keyword">while</span>(cases--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;R&gt;&gt;C;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">-1</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*MAXN*MAXN);</span><br><span class="line"><span class="built_in">memset</span>(vis1,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*MAXN*MAXN);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;R;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;C;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;<span class="built_in">map</span>[i][j];</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'J'</span>)</span><br><span class="line">&#123;</span><br><span class="line">ix=i;</span><br><span class="line">iy=j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'F'</span>)</span><br><span class="line">&#123;</span><br><span class="line">node tmp;</span><br><span class="line">tmp.x=i;</span><br><span class="line">tmp.y=j;</span><br><span class="line">tmp.s=<span class="number">0</span>;</span><br><span class="line">vis[i][j]=<span class="number">0</span>;</span><br><span class="line">q.push(tmp);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ans=<span class="number">0</span>; </span><br><span class="line">bfs_f();</span><br><span class="line">flag=<span class="literal">false</span>;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">q.pop();</span><br><span class="line">&#125;</span><br><span class="line">bfs_p(ix,iy);</span><br><span class="line"><span class="keyword">if</span>(flag)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"IMPOSSIBLE"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/368000#problem/K" target="_blank" rel="noopener">K-迷宫问题</a></p><p><a href="//tva3.sinaimg.cn/mw690/006rkvIPgy1gds6perw3aj30mz0m9n4p.jpg" data-fancybox="group" data-caption="11" class="fancybox"><img alt="11" style="zoom:80%;" title="11" data-src="//tva3.sinaimg.cn/mw690/006rkvIPgy1gds6perw3aj30mz0m9n4p.jpg" class="lazyload"></a><a href="//tvax3.sinaimg.cn/mw690/006rkvIPgy1gds6pqh2jfj30nf0gcdl8.jpg" data-fancybox="group" data-caption="11.1" class="fancybox"><img alt="11.1" title="11.1" data-src="//tvax3.sinaimg.cn/mw690/006rkvIPgy1gds6pqh2jfj30nf0gcdl8.jpg" class="lazyload"></a></p><a href="//tvax3.sinaimg.cn/mw690/006rkvIPgy1gds6pqh2jfj30nf0gcdl8.jpg" data-fancybox="group" data-caption="11.1" class="fancybox"><img alt="11.1" style="zoom:80%;" title="11.1" data-src="//tvax3.sinaimg.cn/mw690/006rkvIPgy1gds6pqh2jfj30nf0gcdl8.jpg" class="lazyload"></a><p>同样的bfs求最短路，dfs打印输出路径：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">0 1 0 0 0</span></span><br><span class="line"><span class="comment">0 1 0 1 0</span></span><br><span class="line"><span class="comment">0 0 0 0 0</span></span><br><span class="line"><span class="comment">0 1 1 1 0</span></span><br><span class="line"><span class="comment">0 0 0 1 0</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> gx,gy;</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line">node father[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt;q;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="number">0</span>&amp;&amp;y==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"(0, 0)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">dfs(father[x][y].x,father[x][y].y);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"("</span>&lt;&lt;x&lt;&lt;<span class="string">","</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;y&lt;&lt;<span class="string">")"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">node tmp;</span><br><span class="line">tmp=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">if</span>(tmp.x==<span class="number">4</span>&amp;&amp;tmp.y==<span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line">dfs(tmp.x,tmp.y);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> tmpx;</span><br><span class="line"><span class="keyword">int</span> tmpy;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">tmpx=tmp.x+dir[i][<span class="number">0</span>];</span><br><span class="line">tmpy=tmp.y+dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>(tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpy&gt;=<span class="number">0</span>&amp;&amp;tmpx&lt;<span class="number">5</span>&amp;&amp;tmpy&lt;<span class="number">5</span>&amp;&amp;<span class="built_in">map</span>[tmpx][tmpy]==<span class="number">0</span>&amp;&amp;!vis[tmpx][tmpy])</span><br><span class="line">&#123;</span><br><span class="line">vis[tmpx][tmpy]=<span class="number">1</span>;</span><br><span class="line">father[tmpx][tmpy].x=tmp.x;</span><br><span class="line">father[tmpx][tmpy].y=tmp.y;</span><br><span class="line">node in;</span><br><span class="line">in.x=tmpx;</span><br><span class="line">in.y=tmpy;</span><br><span class="line">q.push(in);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;<span class="built_in">map</span>[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">node a;</span><br><span class="line">a.x=<span class="number">0</span>;</span><br><span class="line">a.y=<span class="number">0</span>;</span><br><span class="line">q.push(a);</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*<span class="number">25</span>);</span><br><span class="line">vis[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">bfs();</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/368000#problem/L" target="_blank" rel="noopener">L -Oil Deposits</a></p><p><a href="//tva2.sinaimg.cn/mw690/006rkvIPgy1gds6r8699rj30q80k5134.jpg" data-fancybox="group" data-caption="12.1" class="fancybox"><img alt="12.1" style="zoom:80%;" title="12.1" data-src="//tva2.sinaimg.cn/mw690/006rkvIPgy1gds6r8699rj30q80k5134.jpg" class="lazyload"></a><a href="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gds6s5v6xlj30q00maqav.jpg" data-fancybox="group" data-caption="12.2" class="fancybox"><img alt="12.2" title="12.2" data-src="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gds6s5v6xlj30q00maqav.jpg" class="lazyload"></a></p><a href="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gds6s5v6xlj30q00maqav.jpg" data-fancybox="group" data-caption="12.2" class="fancybox"><img alt="12.2" style="zoom:80%;" title="12.2" data-src="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gds6s5v6xlj30q00maqav.jpg" class="lazyload"></a><p>典型的dfs求连通分量，注意此题只是比一般的海岛问题多了一个维度而已，只要方向dir拓展为dir[8][2]即可。</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 101</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> m,n;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">int</span> vis[MAXN][MAXN];</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[MAXN][MAXN];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">map</span>[x][y]=<span class="string">'*'</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmpx=x+dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> tmpy=y+dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[tmpx][tmpy]==<span class="string">'@'</span>)</span><br><span class="line">&#123;</span><br><span class="line">dfs(tmpx,tmpy);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;m&gt;&gt;n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">0</span>&amp;&amp;n==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;<span class="built_in">map</span>[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*MAXN*MAXN);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'@'</span>)</span><br><span class="line">&#123;</span><br><span class="line">ans++;</span><br><span class="line">dfs(i,j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>[M-非常可乐]（<a href="https://vjudge.net/contest/368000#problem/M）" target="_blank" rel="noopener">https://vjudge.net/contest/368000#problem/M）</a></p><a href="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gds6uybo13j30pj0kd7ci.jpg" data-fancybox="group" data-caption="13.1" class="fancybox"><img alt="13.1" style="zoom:80%;" title="13.1" data-src="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gds6uybo13j30pj0kd7ci.jpg" class="lazyload"></a><a href="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gds6vn610oj30py054tab.jpg" data-fancybox="group" data-caption="13.2PNG" class="fancybox"><img alt="13.2PNG" style="zoom:80%;" title="13.2PNG" data-src="//tvax4.sinaimg.cn/mw690/006rkvIPgy1gds6vn610oj30py054tab.jpg" class="lazyload"></a><p>也是bfs的实际应用，只要bfs每次列举3个杯子的不同操作即可，即A-&gt;B,A-&gt;C,B-&gt;A,C-&gt;A,B-&gt;C,C-&gt;B;即可，满足条件即可。</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> z;</span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">step</span>;</span><br><span class="line">&#125;;</span><br><span class="line">node tmp,t;</span><br><span class="line"><span class="keyword">int</span> book[<span class="number">105</span>][<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> s,n,m;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;s&gt;&gt;n&gt;&gt;m)&#123;</span><br><span class="line"><span class="keyword">if</span>(s==<span class="number">0</span>&amp;&amp;n==<span class="number">0</span>&amp;&amp;m==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(s%<span class="number">2</span>==<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">flag=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt;q;</span><br><span class="line"><span class="built_in">memset</span>(book,<span class="number">0</span>,<span class="keyword">sizeof</span>(book));</span><br><span class="line">tmp.x=<span class="number">0</span>;</span><br><span class="line">tmp.y=<span class="number">0</span>;</span><br><span class="line">tmp.z=s;</span><br><span class="line">tmp.<span class="built_in">step</span>=<span class="number">0</span>;</span><br><span class="line">book[s][<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">q.push(tmp);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">tmp=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">if</span>(((tmp.x==tmp.y)&amp;&amp;tmp.z==<span class="number">0</span>)||((tmp.x==tmp.z)&amp;&amp;tmp.y==<span class="number">0</span>)||((tmp.y==tmp.z)&amp;&amp;tmp.x==<span class="number">0</span>)) &#123;<span class="comment">//满足条件输出</span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;tmp.<span class="built_in">step</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">flag=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp.x&lt;n&amp;&amp;tmp.z&gt;<span class="number">0</span>) <span class="comment">//A-&gt;B;</span></span><br><span class="line">&#123;</span><br><span class="line">t.x=<span class="built_in">min</span>(n,tmp.z+tmp.x);</span><br><span class="line">t.y=tmp.y;</span><br><span class="line">t.z=tmp.z-(t.x-tmp.x);</span><br><span class="line">t.<span class="built_in">step</span>=tmp.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(book[t.z][t.x][t.y]==<span class="number">0</span>) </span><br><span class="line">&#123;</span><br><span class="line">book[t.z][t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">q.push(t);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp.y&lt;m&amp;&amp;tmp.z&gt;<span class="number">0</span>)<span class="comment">//A-&gt;C;</span></span><br><span class="line">&#123;</span><br><span class="line">t.y=<span class="built_in">min</span>(m,tmp.z+tmp.y);</span><br><span class="line">t.x=tmp.x;</span><br><span class="line">t.z=tmp.z-(t.y-tmp.y);</span><br><span class="line">t.<span class="built_in">step</span>=tmp.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(book[t.z][t.x][t.y]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">book[t.z][t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">q.push(t);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp.z&lt;s&amp;&amp;tmp.x&gt;<span class="number">0</span>)<span class="comment">//B-&gt;A</span></span><br><span class="line">&#123;</span><br><span class="line">t.z=tmp.z+tmp.x;</span><br><span class="line">t.y=tmp.y;</span><br><span class="line">t.x=<span class="number">0</span>;</span><br><span class="line">t.<span class="built_in">step</span>=tmp.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(book[t.z][t.x][t.y]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">book[t.z][t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">q.push(t);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp.z&lt;s&amp;&amp;tmp.y&gt;<span class="number">0</span>)<span class="comment">//C-&gt;A</span></span><br><span class="line">&#123;</span><br><span class="line">t.z=tmp.z+tmp.y;</span><br><span class="line">t.y=<span class="number">0</span>;</span><br><span class="line">t.x=tmp.x;</span><br><span class="line">t.<span class="built_in">step</span>=tmp.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(book[t.z][t.x][t.y]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">book[t.z][t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">q.push(t);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp.x&gt;<span class="number">0</span>&amp;&amp;tmp.y&lt;m)<span class="comment">//B-&gt;c</span></span><br><span class="line">&#123;</span><br><span class="line">t.y=<span class="built_in">min</span>(m,tmp.y+tmp.x);</span><br><span class="line">t.z=tmp.z;</span><br><span class="line">t.x=tmp.x-(t.y-tmp.y);</span><br><span class="line">t.<span class="built_in">step</span>=tmp.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(book[t.z][t.x][t.y]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">book[t.z][t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">q.push(t);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp.x&lt;n&amp;&amp;tmp.y&gt;<span class="number">0</span>)<span class="comment">//C-&gt;B</span></span><br><span class="line">&#123;</span><br><span class="line">t.x=<span class="built_in">min</span>(n,tmp.x+tmp.y);</span><br><span class="line">t.y=tmp.y-(t.x-tmp.x);</span><br><span class="line">t.z=tmp.z;</span><br><span class="line">t.<span class="built_in">step</span>=tmp.<span class="built_in">step</span>+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(book[t.z][t.x][t.y]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">book[t.z][t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">q.push(t);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!flag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://vjudge.net/contest/368000#problem/N" target="_blank" rel="noopener">N- Find A Way</a></p><p><a href="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gds73dh8waj30px0m748z.jpg" data-fancybox="group" data-caption="14.1" class="fancybox"><img alt="14.1" style="zoom:80%;" title="14.1" data-src="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gds73dh8waj30px0m748z.jpg" class="lazyload"></a><a href="//tva1.sinaimg.cn/mw690/006rkvIPgy1gds73jspygj30px0mztgs.jpg" data-fancybox="group" data-caption="14.2PNG" class="fancybox"><img alt="14.2PNG" title="14.2PNG" data-src="//tva1.sinaimg.cn/mw690/006rkvIPgy1gds73jspygj30px0mztgs.jpg" class="lazyload"></a></p><a href="//tva1.sinaimg.cn/mw690/006rkvIPgy1gds73jspygj30px0mztgs.jpg" data-fancybox="group" data-caption="14.2PNG" class="fancybox"><img alt="14.2PNG" style="zoom:80%;" title="14.2PNG" data-src="//tva1.sinaimg.cn/mw690/006rkvIPgy1gds73jspygj30px0mztgs.jpg" class="lazyload"></a><p>两次bfs，使用三维数组记录每个kfc到两者的时间之和，遍历之后取时间和最短的作为结果输出，需要注意的是有的kfc只有一个人能到达，因而初始化时需要注意。</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">要注意初始化最短路径的问题，此外别人家不能走 </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">2 3</span></span><br><span class="line"><span class="comment">YM@</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 300</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[MAXN][MAXN];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> vis[MAXN][MAXN][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> vis1[MAXN][MAXN];</span><br><span class="line"><span class="keyword">int</span> vis2[MAXN][MAXN];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x,y,s;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt; q;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs1</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vis1[x][y]=<span class="number">1</span>;</span><br><span class="line">node tmp;</span><br><span class="line">tmp.x=x;</span><br><span class="line">tmp.y=y;</span><br><span class="line">tmp.s=<span class="number">0</span>;</span><br><span class="line">q.push(tmp);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">tmp=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[tmp.x][tmp.y]==<span class="string">'@'</span>)</span><br><span class="line">&#123;</span><br><span class="line">vis[tmp.x][tmp.y][<span class="number">0</span>]=tmp.s*<span class="number">11</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmpx,tmpy,tmps;</span><br><span class="line">tmpx=tmp.x+dir[i][<span class="number">0</span>];</span><br><span class="line">tmpy=tmp.y+dir[i][<span class="number">1</span>];</span><br><span class="line">tmps=tmp.s+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(!vis1[tmpx][tmpy]&amp;&amp;(<span class="built_in">map</span>[tmpx][tmpy]==<span class="string">'.'</span>||<span class="built_in">map</span>[tmpx][tmpy]==<span class="string">'@'</span>)&amp;&amp;tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpy&gt;=<span class="number">0</span>&amp;&amp;tmpx&lt;n&amp;&amp;tmpy&lt;m)</span><br><span class="line">&#123;</span><br><span class="line">vis1[tmpx][tmpy]=<span class="number">1</span>;</span><br><span class="line">node in;</span><br><span class="line">in.x=tmpx;</span><br><span class="line">in.y=tmpy;</span><br><span class="line">in.s=tmps;</span><br><span class="line">q.push(in);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs2</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vis2[x][y]=<span class="number">1</span>;</span><br><span class="line">node tmp;</span><br><span class="line">tmp.x=x;</span><br><span class="line">tmp.y=y;</span><br><span class="line">tmp.s=<span class="number">0</span>;</span><br><span class="line">q.push(tmp);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">tmp=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[tmp.x][tmp.y]==<span class="string">'@'</span>)</span><br><span class="line">&#123;</span><br><span class="line">vis[tmp.x][tmp.y][<span class="number">1</span>]=tmp.s*<span class="number">11</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmpx,tmpy,tmps;</span><br><span class="line">tmpx=tmp.x+dir[i][<span class="number">0</span>];</span><br><span class="line">tmpy=tmp.y+dir[i][<span class="number">1</span>];</span><br><span class="line">tmps=tmp.s+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(!vis2[tmpx][tmpy]&amp;&amp;(<span class="built_in">map</span>[tmpx][tmpy]==<span class="string">'.'</span>||<span class="built_in">map</span>[tmpx][tmpy]==<span class="string">'@'</span>)&amp;&amp;tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpy&gt;=<span class="number">0</span>&amp;&amp;tmpx&lt;n&amp;&amp;tmpy&lt;m)</span><br><span class="line">&#123;</span><br><span class="line">vis2[tmpx][tmpy]=<span class="number">1</span>;</span><br><span class="line">node in;</span><br><span class="line">in.x=tmpx;</span><br><span class="line">in.y=tmpy;</span><br><span class="line">in.s=tmps;</span><br><span class="line">q.push(in);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> inx1,iny1,inx2,iny2;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;<span class="built_in">map</span>[i][j];</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'Y'</span>)</span><br><span class="line">&#123;</span><br><span class="line">inx1=i;</span><br><span class="line">iny1=j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'M'</span>)</span><br><span class="line">&#123;</span><br><span class="line">inx2=i;</span><br><span class="line">iny2=j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">-1</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*MAXN*MAXN*<span class="number">2</span>);</span><br><span class="line"><span class="built_in">memset</span>(vis1,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*MAXN*MAXN);</span><br><span class="line"><span class="built_in">memset</span>(vis2,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*MAXN*MAXN);</span><br><span class="line">bfs1(inx1,iny1);</span><br><span class="line"><span class="keyword">while</span>(!q.empty())</span><br><span class="line">&#123;</span><br><span class="line">q.pop();</span><br><span class="line">&#125;</span><br><span class="line">bfs2(inx2,iny2);</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">min</span>=<span class="number">4000003</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'@'</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>((vis[i][j][<span class="number">0</span>]+vis[i][j][<span class="number">1</span>]&lt;<span class="built_in">min</span>)&amp;&amp;(vis[i][j][<span class="number">0</span>]!=<span class="number">-1</span>&amp;&amp;!vis[i][j][<span class="number">1</span>]!=<span class="number">-1</span>))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">min</span>=vis[i][j][<span class="number">0</span>]+vis[i][j][<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">min</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搜索 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matlab课程实践一</title>
      <link href="/2020/04/04/matlab%E8%AF%BE%E7%A8%8B%E5%AE%9E%E8%B7%B5%E4%B8%80/"/>
      <url>/2020/04/04/matlab%E8%AF%BE%E7%A8%8B%E5%AE%9E%E8%B7%B5%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<p>Matlab课程实践一：</p><p>一 、设计内容<br>自学 Matlab GUI 编程，设计并实现一个图像空间变换系统。<br>要求： </p><ol><li>能对图像进行平移、旋转、缩放、剪切、投影、仿射变换以<br>及各种复合变换（复合变换指融合前面两种及以上的变换，比如既有<br>平移又有旋转）； </li><li>能将各种变换后结果保存为图像文件； </li><li>各种变换可以采用按钮或者菜单的方式进行； </li><li>变换时的用户可以自行设置简单的变换参数。 </li></ol><p><a href="https://s1.ax1x.com/2020/04/04/GwX2Q0.gif" data-fancybox="group" data-caption="GwX2Q0.gif" class="fancybox"><img alt="GwX2Q0.gif" title="GwX2Q0.gif" data-src="https://s1.ax1x.com/2020/04/04/GwX2Q0.gif" class="lazyload"></a></p><p>打开图像：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[ReadImageFileName,ReadImagePathName,ReadImageFilterIndex] = uigetfile(&#123;<span class="string">'*.jpg;*.png;*.tif'</span>,<span class="string">'ImageFile(*.jpg;*.png;*.tif)'</span>;...  </span><br><span class="line">    <span class="string">'*.jpg'</span>,<span class="string">'JPEGImageFile(*.jpg)'</span>;<span class="string">'*.*'</span>,<span class="string">'AllFile(*.*)'</span>&#125;,<span class="string">'ReadImage'</span>,...  </span><br><span class="line">    <span class="string">'MultiSelect'</span>,<span class="string">'off'</span>,...       </span><br><span class="line">    <span class="string">'C:\Program Files\MATLAB\R2016a\toolbox\images\imdata'</span>);</span><br><span class="line">     FirstImageFullPath = fullfile(ReadImagePathName,ReadImageFileName); </span><br><span class="line">    InputImage=imread(FirstImageFullPath);</span><br><span class="line">    axes(findobj(<span class="string">'tag'</span>, <span class="string">'axes1'</span>));</span><br><span class="line">InputImage=imread(FirstImageFullPath);</span><br><span class="line">imshow(InputImage);  </span><br><span class="line"> axes(findobj(<span class="string">'tag'</span>, <span class="string">'axes2'</span>));</span><br><span class="line">InputImage=imread(FirstImageFullPath);</span><br><span class="line">imshow(InputImage); </span><br><span class="line">msgbox(<span class="string">'图片显示成功！'</span>);</span><br><span class="line">handles.myimage=InputImage;</span><br><span class="line">guidata(hObject,handles);</span><br></pre></td></tr></table></figure></div><p>保存图像：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[FileName,PathName] &#x3D; uiputfile(&#123;&#39;*.jpg&#39;,&#39;JPEG(*.jpg)&#39;;...</span><br><span class="line">                                 &#39;*.bmp&#39;,&#39;Bitmap(*.bmp)&#39;;...</span><br><span class="line">                                 &#39;*.gif&#39;,&#39;GIF(*.gif)&#39;;...</span><br><span class="line">                                 &#39;*.*&#39;,  &#39;All Files (*.*)&#39;&#125;,...</span><br><span class="line">                                 &#39;Save Picture&#39;,&#39;Untitled&#39;);</span><br><span class="line">if FileName&#x3D;&#x3D;0</span><br><span class="line">    return;</span><br><span class="line">else</span><br><span class="line">    h&#x3D;getframe(handles.axes2);</span><br><span class="line">    imwrite(h.cdata,[PathName,FileName]);</span><br><span class="line">end;</span><br></pre></td></tr></table></figure></div><p>平移：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">I=handles.myimage;</span><br><span class="line">[m,n]=<span class="built_in">size</span>(I);</span><br><span class="line">I2=<span class="built_in">zeros</span>(m,n);<span class="comment">%初始化的是double类型的</span></span><br><span class="line">defaulta=&#123;<span class="string">'20'</span>&#125;;</span><br><span class="line">defaultb=&#123;<span class="string">'50'</span>&#125;;</span><br><span class="line">tmpx=inputdlg(<span class="string">'请输入x轴平移距离：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line">tmpy=inputdlg(<span class="string">'请输入y轴平移距离：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaultb);</span><br><span class="line">dx=str2double(tmpx);</span><br><span class="line">dy=str2double(tmpy);</span><br><span class="line">I2(dx+<span class="number">1</span>:m,dy+<span class="number">1</span>:n)=I(<span class="number">1</span>:m-dx,<span class="number">1</span>:n-dy);</span><br><span class="line">axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">imshow(uint8(I2));</span><br></pre></td></tr></table></figure></div><p>旋转：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">I=handles.myimage;</span><br><span class="line">[m n]=<span class="built_in">size</span>(I);</span><br><span class="line">defaulta=&#123;<span class="string">'45'</span>&#125;;</span><br><span class="line">tmpa=inputdlg(<span class="string">'请输入旋转角度：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line"><span class="built_in">angle</span>=str2double(tmpa);</span><br><span class="line">I2=imrotate(I,<span class="built_in">angle</span>);</span><br><span class="line">axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">imshow(I2);</span><br></pre></td></tr></table></figure></div><p>缩放：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">I=handles.myimage;</span><br><span class="line"> defaulta=&#123;<span class="string">'0.5'</span>&#125;;</span><br><span class="line"> times=inputdlg(<span class="string">'请输入放大倍数：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line"> time=str2double(times);</span><br><span class="line"> res=imresize(I,time);</span><br><span class="line"> axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line"> imshow(res);</span><br></pre></td></tr></table></figure></div><p>剪切：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">now =get(hObject,<span class="string">'String'</span>);</span><br><span class="line"><span class="keyword">if</span> ( strcmp(<span class="string">'剪切'</span>,now))</span><br><span class="line">    set(hObject,<span class="string">'String'</span>,<span class="string">'确定'</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    set(hObject,<span class="string">'String'</span>,<span class="string">'剪切'</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></div><p>投影：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">button = questdlg(<span class="string">'请选择投影方式'</span>,<span class="string">'请选择'</span>,<span class="string">'垂直'</span>,<span class="string">'水平'</span>,<span class="string">'垂直水平'</span>,<span class="string">'垂直'</span>);</span><br><span class="line"><span class="keyword">switch</span> button</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'垂直'</span></span><br><span class="line">        <span class="built_in">i</span>=handles.myimage;</span><br><span class="line">        [m,n]=<span class="built_in">size</span>(<span class="built_in">i</span>);</span><br><span class="line">        i2(<span class="number">1</span>:m,<span class="number">1</span>:n)=<span class="built_in">i</span>(m:<span class="number">-1</span>:<span class="number">1</span>,<span class="number">1</span>:n);</span><br><span class="line">        axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">        imshow(i2);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'水平'</span></span><br><span class="line">         <span class="built_in">i</span>=handles.myimage;</span><br><span class="line">        [m,n]=<span class="built_in">size</span>(<span class="built_in">i</span>);</span><br><span class="line">        i2(<span class="number">1</span>:m,<span class="number">1</span>:n)=<span class="built_in">i</span>(<span class="number">1</span>:m,n:<span class="number">-1</span>:<span class="number">1</span>);</span><br><span class="line">        axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">        imshow(i2);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'垂直水平'</span></span><br><span class="line">        <span class="built_in">i</span>=handles.myimage;</span><br><span class="line">        [m,n]=<span class="built_in">size</span>(<span class="built_in">i</span>);</span><br><span class="line">        i2(<span class="number">1</span>:m,<span class="number">1</span>:n)=<span class="built_in">i</span>(m:<span class="number">-1</span>:<span class="number">1</span>,n:<span class="number">-1</span>:<span class="number">1</span>);</span><br><span class="line">        axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">        imshow(i2);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></div><p>仿射</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">I=handles.myimage;</span><br><span class="line">defaulta=&#123;<span class="string">'40'</span>&#125;;</span><br><span class="line">defaultb=&#123;<span class="string">'40'</span>&#125;;</span><br><span class="line">tmpa=inputdlg(<span class="string">'请输入仿射变换矩阵的值一：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line">tmpb=inputdlg(<span class="string">'请输入仿射变换矩阵的值二：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaultb);</span><br><span class="line"> x1=str2double(tmpa);</span><br><span class="line"> y1=str2double(tmpb);</span><br><span class="line">xform=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>;x1,y1,<span class="number">1</span>];</span><br><span class="line">tform_translate=maketform(<span class="string">'affine'</span>,xform);</span><br><span class="line"> res = imtransform(I, tform_translate,<span class="string">'XData'</span>, [<span class="number">1</span> (<span class="built_in">size</span>(I,<span class="number">2</span>)+ xform(<span class="number">3</span>,<span class="number">1</span>))],<span class="string">'YData'</span>, [<span class="number">1</span> (<span class="built_in">size</span>(I,<span class="number">1</span>)+ xform(<span class="number">3</span>,<span class="number">2</span>))]);</span><br><span class="line"> imshow(res);</span><br></pre></td></tr></table></figure></div><p>复合变换：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">I=handles.myimage;</span><br><span class="line">button = questdlg(<span class="string">'请选择复合变换方式第一步'</span>,<span class="string">'请选择'</span>,<span class="string">'平移'</span>,<span class="string">'旋转'</span>,<span class="string">'平移'</span>);</span><br><span class="line"><span class="keyword">switch</span> button</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'平移'</span></span><br><span class="line">    [m,n]=size(I);</span><br><span class="line">    size1=size(I);</span><br><span class="line">dimension=numel(size1)</span><br><span class="line"><span class="keyword">if</span> dimension==<span class="number">3</span></span><br><span class="line">I=rgb2gray(I);</span><br><span class="line">end</span><br><span class="line">I2=zeros(m,n);%初始化的是<span class="keyword">double</span>类型的</span><br><span class="line">defaulta=&#123;<span class="string">'20'</span>&#125;;</span><br><span class="line">defaultb=&#123;<span class="string">'50'</span>&#125;;</span><br><span class="line">tmpx=inputdlg(<span class="string">'请输入x轴平移距离：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line">tmpy=inputdlg(<span class="string">'请输入y轴平移距离：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaultb);</span><br><span class="line">dx=str2double(tmpx);</span><br><span class="line">dy=str2double(tmpy);</span><br><span class="line">I2(dx+<span class="number">1</span>:m,dy+<span class="number">1</span>:n)=I(<span class="number">1</span>:m-dx,<span class="number">1</span>:n-dy);</span><br><span class="line">axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">imshow(uint8(I2));</span><br><span class="line">I2=uint8(I2);</span><br><span class="line">button1 = questdlg(<span class="string">'请选择复合变换方式第二步'</span>,<span class="string">'请选择'</span>,<span class="string">'仿射'</span>,<span class="string">'旋转'</span>,<span class="string">'缩放'</span>,<span class="string">'仿射'</span>);</span><br><span class="line"><span class="keyword">switch</span> button1</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'旋转'</span></span><br><span class="line">        [m n]=size(I2);</span><br><span class="line">defaulta=&#123;<span class="string">'45'</span>&#125;;</span><br><span class="line">tmpa=inputdlg(<span class="string">'请输入旋转角度：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line">angle=str2double(tmpa);</span><br><span class="line">I3=imrotate(I2,angle);</span><br><span class="line">imshow(I3);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'仿射'</span></span><br><span class="line">      I=I2;</span><br><span class="line">defaulta=&#123;<span class="string">'40'</span>&#125;;</span><br><span class="line">defaultb=&#123;<span class="string">'40'</span>&#125;;</span><br><span class="line">tmpa=inputdlg(<span class="string">'请输入仿射变换矩阵的值一：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line">tmpb=inputdlg(<span class="string">'请输入仿射变换矩阵的值二：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaultb);</span><br><span class="line"> x1=str2double(tmpa);</span><br><span class="line"> y1=str2double(tmpb);</span><br><span class="line">xform=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>;x1,y1,<span class="number">1</span>];</span><br><span class="line">tform_translate=maketform(<span class="string">'affine'</span>,xform);</span><br><span class="line"> res = imtransform(I, tform_translate,<span class="string">'XData'</span>, [<span class="number">1</span> (size(I,<span class="number">2</span>)+ xform(<span class="number">3</span>,<span class="number">1</span>))],<span class="string">'YData'</span>, [<span class="number">1</span> (size(I,<span class="number">1</span>)+ xform(<span class="number">3</span>,<span class="number">2</span>))]);</span><br><span class="line"> axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line"> imshow(res);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'缩放'</span></span><br><span class="line">        I=I2;</span><br><span class="line">         defaulta=&#123;<span class="string">'0.05'</span>&#125;;</span><br><span class="line"> times=inputdlg(<span class="string">'请输入缩放倍数：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line"> time=str2double(times);</span><br><span class="line"> res=imresize(I,time);</span><br><span class="line"> axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line"> imshow(res);</span><br><span class="line">end</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'旋转'</span></span><br><span class="line">         [m n]=size(I);</span><br><span class="line">defaulta=&#123;<span class="string">'45'</span>&#125;;</span><br><span class="line">tmpa=inputdlg(<span class="string">'请输入旋转角度：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line">angle=str2double(tmpa);</span><br><span class="line">I2=imrotate(I,angle);</span><br><span class="line">axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">imshow(I2);</span><br><span class="line">button2 = questdlg(<span class="string">'请选择复合变换方式第二步'</span>,<span class="string">'请选择'</span>,<span class="string">'仿射'</span>,<span class="string">'投影'</span>,<span class="string">'仿射'</span>);</span><br><span class="line"><span class="keyword">switch</span> button2</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'仿射'</span></span><br><span class="line">        I=I2;</span><br><span class="line">defaulta=&#123;<span class="string">'40'</span>&#125;;</span><br><span class="line">defaultb=&#123;<span class="string">'40'</span>&#125;;</span><br><span class="line">tmpa=inputdlg(<span class="string">'请输入仿射变换矩阵的值一：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaulta);</span><br><span class="line">tmpb=inputdlg(<span class="string">'请输入仿射变换矩阵的值二：'</span>,<span class="string">''</span>,<span class="number">1</span>,defaultb);</span><br><span class="line"> x1=str2double(tmpa);</span><br><span class="line"> y1=str2double(tmpb);</span><br><span class="line">xform=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>;x1,y1,<span class="number">1</span>];</span><br><span class="line">tform_translate=maketform(<span class="string">'affine'</span>,xform);</span><br><span class="line">res = imtransform(I, tform_translate,<span class="string">'XData'</span>, [<span class="number">1</span> (size(I,<span class="number">2</span>)+ xform(<span class="number">3</span>,<span class="number">1</span>))],<span class="string">'YData'</span>, [<span class="number">1</span> (size(I,<span class="number">1</span>)+ xform(<span class="number">3</span>,<span class="number">2</span>))]);</span><br><span class="line">axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">imshow(res);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'投影'</span></span><br><span class="line">        a=I2;</span><br><span class="line">       button3 = questdlg(<span class="string">'请选择投影方式'</span>,<span class="string">'请选择'</span>,<span class="string">'垂直'</span>,<span class="string">'水平'</span>,<span class="string">'垂直水平'</span>,<span class="string">'垂直'</span>);</span><br><span class="line"><span class="keyword">switch</span> button3</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'垂直'</span></span><br><span class="line">        [m,n]=size(a);</span><br><span class="line">        i2(<span class="number">1</span>:m,<span class="number">1</span>:n)=a(m:-<span class="number">1</span>:<span class="number">1</span>,<span class="number">1</span>:n);</span><br><span class="line">         axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">         imshow(i2);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'水平'</span></span><br><span class="line">        [m,n]=size(a);</span><br><span class="line">        i2(<span class="number">1</span>:m,<span class="number">1</span>:n)=a(<span class="number">1</span>:m,n:-<span class="number">1</span>:<span class="number">1</span>);</span><br><span class="line">        axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">         imshow(i2);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'垂直水平'</span></span><br><span class="line">        [m,n]=size(a);</span><br><span class="line">        i2(<span class="number">1</span>:m,<span class="number">1</span>:n)=a(m:-<span class="number">1</span>:<span class="number">1</span>,n:-<span class="number">1</span>:<span class="number">1</span>);</span><br><span class="line">         axes(findobj(<span class="string">'tag'</span>,<span class="string">'axes2'</span>));</span><br><span class="line">         imshow(i2);</span><br><span class="line">end</span><br><span class="line">end</span><br><span class="line">end</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> 数字图像处理课程实验 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlab基础（一）</title>
      <link href="/2020/03/31/matlab%E5%9F%BA%E7%A1%80%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2020/03/31/matlab%E5%9F%BA%E7%A1%80%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1 id="基本操作与矩阵输入"><a href="#基本操作与矩阵输入" class="headerlink" title="基本操作与矩阵输入"></a>基本操作与矩阵输入</h1><h2 id="Embedding-Functions（嵌入和分布）"><a href="#Embedding-Functions（嵌入和分布）" class="headerlink" title="Embedding Functions（嵌入和分布）"></a>Embedding Functions（嵌入和分布）</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sin(cos(pi))//embedded(嵌入式)</span><br><span class="line"><span class="built_in">cos</span>(<span class="built_in">pi</span>)</span><br><span class="line"><span class="built_in">sin</span>(<span class="built_in">ans</span>)</span><br></pre></td></tr></table></figure></div><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>Matlab区分大小写；</p><p>Matlab default type 是double；</p><p>使用whos可以看到变量的具体数值类型；</p><p>Key words:</p><ul><li>ans</li><li>Inf</li><li>eps:2.2204e-016</li><li>NaN:not a number</li><li>pi:π</li></ul><p>使用iskeyword查看</p><p>Matlab Calling Priority：调用顺序</p><p>High——&gt;Low</p><p>Variable–&gt; Built-in function（内建函数（print））–&gt;  Subfunction –&gt; Private function(</p><ul><li>MEX-file</li><li>P-file</li><li>M-file</li></ul><p>)</p><p>clear+variable（删除workspace的变量）</p><h2 id="Format（格式）"><a href="#Format（格式）" class="headerlink" title="Format（格式）"></a>Format（格式）</h2><p>Numeric Display “Format”:</p><p>格式显示：<br>format long</p><p>pi</p><p>format rat</p><p>ans=1/2+1/3</p><p>得5/6</p><p>显示的是long形式的pi；</p><p>Format：</p><ul><li>short</li><li>long</li><li>shortE(短科学计数法)</li><li>longE(长科学技数法)</li><li>rat(以分数形式显示)</li><li>bank（保留为2位有理数）（3.14）</li><li>hex     （16进制）</li></ul><h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><p>A(8);列优先第8个</p><p>A([1 2 3]);列优先第1,2,3个</p><p>A([1 3;1 3])==A([1 3]) A([1 3])</p><p>A([1 3], [1 3]) ；，之前的[1 3]是行，之后的是[1 3]是列，输出1,3行，1,3列的交集按列优先输出；</p><h3 id="Colon-Operator（分号）"><a href="#Colon-Operator（分号）" class="headerlink" title="Colon Operator（分号）"></a>Colon Operator（分号）</h3><p>输入1-100的值：<br>A=[1:100];</p><p>j:k  ====&gt; [j,j+1,j+2,…,k]</p><p>j:i:k====&gt;[j,j+i,….j+m*i](不一定能到k)</p><p>a(3,:)第三行的所有</p><h3 id="Array-Concatenation-增广矩阵"><a href="#Array-Concatenation-增广矩阵" class="headerlink" title="Array Concatenation(增广矩阵)"></a>Array Concatenation(增广矩阵)</h3><p>a=[1,2,3,4;1,2,3,4];</p><p>b=[1,1,1,1,;1,1,1,1];</p><p>[a b]=(左右联合)</p><p>1 2 3 4 1 1 1 1</p><p>1 2 3 4 1 1 1 1</p><p>[a:b]=(横着)</p><p>=1 2 3 4 1 2 3 4 1 1 1 1 1 1 1 1</p><h3 id="Array-Manipulaiton"><a href="#Array-Manipulaiton" class="headerlink" title="Array Manipulaiton"></a>Array Manipulaiton</h3><p>矩阵叉乘*需要第一个矩阵的列等于第二个行</p><p>点乘是.*是对应元素相乘</p><p>A^2=A*A</p><p>A.^2是每一个元素取二次方</p><h3 id="Some-Special-Matrix"><a href="#Some-Special-Matrix" class="headerlink" title="Some Special Matrix"></a>Some Special Matrix</h3><p>linspace(): linearly spaced vectors：均分指令：linspace(1,5,4)将1-5分成4份</p><p>eye(n): n*n identity matric :单位矩阵</p><p>zeros(n1,n2):n1*n2 zero matrix</p><p>ones(n1,n2) 1矩阵</p><p>diag():对角线矩阵diag([1,2,3]):以1,2,3为对角的矩阵;</p><h3 id="Some-Matrix-Related-Functions"><a href="#Some-Matrix-Related-Functions" class="headerlink" title="Some Matrix Related Functions"></a>Some Matrix Related Functions</h3><p>max（a）:每列的最大值组成的集合</p><p>max(max(a)):最大的值；</p><p>sum(a);//每列的和的集合；所有的和sum(sum(a));</p><p>mean(a);</p><p>sort(a);//对列为单位尽行排列</p><p>sortrows(a);//将行进行比较；先比每一行的第一个相等再比第二个；</p><p>size(a);行和列[i j]=size(a);</p><p>length(a);指的是vector，指的是列数</p><p>find(a);find(a==5)找5在第几个位置</p>]]></content>
      
      
      <categories>
          
          <category> matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matlab灰度图像处理</title>
      <link href="/2020/03/25/Matlab%E7%81%B0%E5%BA%A6%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
      <url>/2020/03/25/Matlab%E7%81%B0%E5%BA%A6%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="Matlab灰度图像处理"><a href="#Matlab灰度图像处理" class="headerlink" title="Matlab灰度图像处理"></a>Matlab灰度图像处理</h1><h2 id="灰度图像二值化："><a href="#灰度图像二值化：" class="headerlink" title="灰度图像二值化："></a>灰度图像二值化：</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line">f=imread(<span class="string">'rice.png'</span>);</span><br><span class="line"><span class="comment">%灰度图二值化</span></span><br><span class="line">imhist(f);</span><br><span class="line">title(<span class="string">'直方图'</span>);</span><br><span class="line">[m n]=<span class="built_in">size</span>(f);</span><br><span class="line">T=<span class="number">128</span>;</span><br><span class="line"><span class="keyword">for</span> x=<span class="number">1</span>:m</span><br><span class="line">    <span class="keyword">for</span> y=<span class="number">1</span>:n</span><br><span class="line">        <span class="keyword">if</span>(f(x,y)&lt;=T)</span><br><span class="line">            g(x,y)=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            g(x,y)=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">figure</span>;</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>),imshow(f);</span><br><span class="line">title(<span class="string">'原图'</span>)</span><br><span class="line"> subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>),imshow(g);</span><br><span class="line"> title(<span class="string">'阀值为128'</span>);</span><br></pre></td></tr></table></figure></div><p><a href="https://s1.ax1x.com/2020/03/25/8jlGXd.png" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" title="alt photo" data-src="https://s1.ax1x.com/2020/03/25/8jlGXd.png" class="lazyload"></a></p><h2 id="非线性灰度变化"><a href="#非线性灰度变化" class="headerlink" title="非线性灰度变化"></a>非线性灰度变化</h2><p>对数变化：</p><p>低灰度扩展高灰度压缩，适合处理过亮的图像；</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">![blacktobi](E:\pblog\blacktobi.PNG)clear;</span><br><span class="line">clc;</span><br><span class="line">s=imread(<span class="string">'Fig0309(a)(fractured_spine).tif'</span>);</span><br><span class="line">r=<span class="number">47</span>;</span><br><span class="line">c=double(s);</span><br><span class="line">d2=r*<span class="built_in">log</span>(<span class="number">1</span>+c);</span><br><span class="line">i2=uint8(d2);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>),imshow(s);</span><br><span class="line">title(<span class="string">'原图'</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>),imshow(i2);</span><br><span class="line">title(<span class="string">'对数变化'</span>);</span><br></pre></td></tr></table></figure></div><p>指数变换：<br>指数大于1时高灰度扩展低灰度压缩，适合整体较暗的图像。指数小于1时低灰度扩展低灰度压缩类似于对数变换。</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line"><span class="built_in">i</span>=imread(<span class="string">'Fig0308(a)(fractured_spine).tif'</span>);</span><br><span class="line">r=double(<span class="built_in">i</span>);</span><br><span class="line">r1=<span class="number">1.1</span>;</span><br><span class="line">c=<span class="number">1</span>;</span><br><span class="line">s=c*<span class="built_in">realpow</span>(r,r1);</span><br><span class="line">i2=uint8(s);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">imshow(<span class="built_in">i</span>);</span><br><span class="line">title(<span class="string">'原图'</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">imshow(i2);</span><br><span class="line">title(<span class="string">'指数变化'</span>);</span><br></pre></td></tr></table></figure></div><h2 id="直方图均匀化"><a href="#直方图均匀化" class="headerlink" title="直方图均匀化"></a>直方图均匀化</h2><p>使灰度分布更为均匀，减少对比度：<br>公式：Gi=INT[(Gmax-Gmin)C(f)+Gmin+0.5];//可以带入某一灰度级通过变化映射为新的灰度级；</p><p>（动态扩展范围）（INT：取整）</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">clc;</span><br><span class="line">clear;</span><br><span class="line">img=imread(<span class="string">'pout.tif'</span>);</span><br><span class="line">N=imhist(img);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>),imshow(img);</span><br><span class="line">title(<span class="string">'原图'</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>),imhist(img);</span><br><span class="line">title(<span class="string">'原直方图'</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">size</span>(N)</span><br><span class="line">    P(<span class="built_in">i</span>)=N(<span class="built_in">i</span>)/sum(N);</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span>==<span class="number">1</span></span><br><span class="line">        S(<span class="number">1</span>)=P(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        S(<span class="built_in">i</span>)=S(<span class="built_in">i</span><span class="number">-1</span>)+P(<span class="built_in">i</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">r=<span class="built_in">round</span>((<span class="number">255</span>).*S+<span class="number">0.5</span>);<span class="comment">%将原先的灰度值变为其他的灰度值，使之分散</span></span><br><span class="line">img1=img;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">size</span>(img1(:))</span><br><span class="line">    value=img1(<span class="built_in">i</span>);</span><br><span class="line">    <span class="keyword">if</span> value==<span class="number">0</span></span><br><span class="line">        img1(<span class="built_in">i</span>)=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        img1(<span class="built_in">i</span>)=r(value);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>),imshow(img1);</span><br><span class="line">title(<span class="string">'均衡图'</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>),imhist(img1);</span><br><span class="line">title(<span class="string">'均衡直方图'</span>);</span><br></pre></td></tr></table></figure></div><p><a href="https://s1.ax1x.com/2020/03/25/8jlGXd.png" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" title="alt photo" data-src="https://s1.ax1x.com/2020/03/25/8jlGXd.png" class="lazyload"></a></p><h2 id="直方图标准化"><a href="#直方图标准化" class="headerlink" title="直方图标准化"></a>直方图标准化</h2><p>直方图标准化指的是用衣服标准图像来对现有图像进行约束限定变化，使它的直方图符合规定新图形的直方图。需要用到histeq函数，histeq函数不仅可以用于直方图标准化，还可以用于均衡化，均衡化的用法是histeq（‘需要均衡化的图像’）；</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">matlab</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line">I1=imread(<span class="string">'pout.tif'</span>);</span><br><span class="line">I2=imread(<span class="string">'cameraman.tif'</span>);</span><br><span class="line">[hgram,x]=imhist(I1);<span class="comment">%hgram为直方图纵坐标，x为横坐标</span></span><br><span class="line">J=histeq(I2,hgram);<span class="comment">%i2是需要进行均衡化的图像，hgram是标准图的各灰度级像素数；</span></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>),imshow(I1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>),imshow(I2);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>),imshow(J);</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>),imhist(I1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>),imhist(I2);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>),imhist(J);</span><br></pre></td></tr></table></figure></div><p>截图：<br><a href="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gd75qoivgtj30hm08kjte.jpg" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" style="zoom: 80%;" title="alt photo" data-src="//tvax1.sinaimg.cn/mw690/006rkvIPgy1gd75qoivgtj30hm08kjte.jpg" class="lazyload"></a></p><a href="//tva1.sinaimg.cn/mw690/006rkvIPgy1gd75rbam2sj30ia0e80tf.jpg" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" style="zoom: 67%;" title="alt photo" data-src="//tva1.sinaimg.cn/mw690/006rkvIPgy1gd75rbam2sj30ia0e80tf.jpg" class="lazyload"></a>]]></content>
      
      
      <categories>
          
          <category> 数字图像处理课程实验 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 灰度图像处理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蓝桥杯校内模拟赛</title>
      <link href="/2020/03/24/%E8%93%9D%E6%A1%A5%E6%9D%AF%E6%A0%A1%E5%86%85%E6%A8%A1%E6%8B%9F%E8%B5%9B/"/>
      <url>/2020/03/24/%E8%93%9D%E6%A1%A5%E6%9D%AF%E6%A0%A1%E5%86%85%E6%A8%A1%E6%8B%9F%E8%B5%9B/</url>
      
        <content type="html"><![CDATA[<h1 id="蓝桥杯校内模拟赛"><a href="#蓝桥杯校内模拟赛" class="headerlink" title="蓝桥杯校内模拟赛"></a>蓝桥杯校内模拟赛</h1><h2 id="单位变换："><a href="#单位变换：" class="headerlink" title="单位变换："></a>单位变换：</h2><p>问题描述<br>　　在计算机存储中，15.125GB是多少MB？<br>答案提交<br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p><p>答案：15.125*1024=15448</p><h2 id="约数"><a href="#约数" class="headerlink" title="约数"></a>约数</h2><p>问题描述<br>　　1200000有多少个约数（只计算正约数）。</p><p>答案：暴力</p><p>96</p><h2 id="多少个数字9"><a href="#多少个数字9" class="headerlink" title="多少个数字9"></a>多少个数字9</h2><p>问题描述<br>　　在1至2019中，有多少个数的数位中包含数字9？<br>　　注意，有的数中的数位中包含多个9，这个数只算一次。例如，1999这个数包含数字9，在计算只是算一个数。<br>答案提交<br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p><p>答案：（暴力）544</p><h2 id="叶节点数"><a href="#叶节点数" class="headerlink" title="叶节点数"></a>叶节点数</h2><p>问题描述<br>　　一棵包含有2019个结点的树，最多包含多少个叶结点？<br>答案提交<br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p><p>答案：2018(一个为根节点，其他全部为子节点)；</p><h2 id="数位递增的数"><a href="#数位递增的数" class="headerlink" title="数位递增的数"></a>数位递增的数</h2><p>问题描述<br>　　一个正整数如果任何一个数位不大于右边相邻的数位，则称为一个数位递增的数，例如1135是一个数位递增的数，而1024不是一个数位递增的数。<br>　　给定正整数 n，请问在整数 1 至 n 中有多少个数位递增的数？<br>输入格式<br>　　输入的第一行包含一个整数 n。<br>输出格式<br>　　输出一行包含一个整数，表示答案。<br>样例输入<br>30<br>样例输出<br>26<br>评测用例规模与约定<br>　　对于 40% 的评测用例，1 &lt;= n &lt;= 1000。<br>　　对于 80% 的评测用例，1 &lt;= n &lt;= 100000。<br>　　对于所有评测用例，1 &lt;= n &lt;= 1000000。</p><p>思路：模拟，使用两个变量分别记录前一个值和现在的值；</p><p>代码:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isri</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> tmp1=<span class="number">100</span>,tmp2=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">bool</span> flag=<span class="literal">true</span>;</span><br><span class="line"><span class="keyword">while</span>(n)</span><br><span class="line">&#123;</span><br><span class="line">tmp1=n%<span class="number">10</span>;</span><br><span class="line">n=n/<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span>(tmp1&lt;=tmp2)</span><br><span class="line">    &#123;</span><br><span class="line">    tmp2=tmp1;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">tmp2=tmp1;</span><br><span class="line">flag=<span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">10</span>;i&lt;=n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(isri(i))</span><br><span class="line">&#123;</span><br><span class="line">ans++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans+<span class="number">9</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//加上一位数</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="元音辅音元音辅音"><a href="#元音辅音元音辅音" class="headerlink" title="元音辅音元音辅音"></a>元音辅音元音辅音</h2><p>问题描述<br>　　小明对类似于 hello 这种单词非常感兴趣，这种单词可以正好分为四段，第一段由一个或多个辅音字母组成，第二段由一个或多个元音字母组成，第三段由一个或多个辅音字母组成，第四段由一个或多个元音字母组成。<br>　　给定一个单词，请判断这个单词是否也是这种单词，如果是请输出yes，否则请输出no。<br>　　元音字母包括 a, e, i, o, u，共五个，其他均为辅音字母。<br>输入格式<br>　　输入一行，包含一个单词，单词中只包含小写英文字母。<br>输出格式<br>　　输出答案，或者为yes，或者为no。<br>样例输入<br>lanqiao<br>样例输出<br>yes<br>样例输入<br>world<br>样例输出<br>no<br>评测用例规模与约定<br>　　对于所有评测用例，单词中的字母个数不超过100。</p><p>思路：模拟，将元音辅音分别换算为1和0，然后计算顺序是否符合要求，具体见代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> vowel[]=&#123;<span class="string">'a'</span>,<span class="string">'e'</span>,<span class="string">'i'</span>,<span class="string">'o'</span>,<span class="string">'u'</span>&#125;;</span><br><span class="line"><span class="built_in">string</span> s;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_in</span><span class="params">(<span class="keyword">char</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(s==<span class="string">'a'</span>||s==<span class="string">'e'</span>||s==<span class="string">'i'</span>||s==<span class="string">'o'</span>||s==<span class="string">'u'</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">string</span> s;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;s;</span><br><span class="line"><span class="keyword">int</span> check[<span class="number">1000</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(is_in(s[i]))</span><br><span class="line">&#123;</span><br><span class="line">check[i]++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> r[<span class="number">1000</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;s.length();i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(check[i]==<span class="number">1</span>&amp;&amp;check[i<span class="number">-1</span>]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">cnt++;</span><br><span class="line">r[k]=<span class="number">1</span>;</span><br><span class="line">k++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(check[i]==<span class="number">0</span>&amp;&amp;check[i<span class="number">-1</span>]==<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cnt++;</span><br><span class="line">r[k]=<span class="number">-1</span>;</span><br><span class="line">k++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(cnt==<span class="number">3</span>&amp;&amp;r[<span class="number">0</span>]==<span class="number">1</span>&amp;&amp;r[<span class="number">1</span>]==<span class="number">-1</span>&amp;&amp;r[<span class="number">2</span>]==<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"yes"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"no"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="递增三元组中心"><a href="#递增三元组中心" class="headerlink" title="递增三元组中心"></a>递增三元组中心</h2><p>问题描述<br>　　在数列 a[1], a[2], …, a[n] 中，如果对于下标 i, j, k 满足 0&lt;i&lt;j&lt;k&lt;n+1 且 a[i]&lt;a[j]&lt;a[k]，则称 a[i], a[j], a[k] 为一组递增三元组，a[j]为递增三元组的中心。<br>　　给定一个数列，请问数列中有多少个元素可能是递增三元组的中心。<br>输入格式<br>　　输入的第一行包含一个整数 n。<br>　　第二行包含 n 个整数 a[1], a[2], …, a[n]，相邻的整数间用空格分隔，表示给定的数列。<br>输出格式<br>　　输出一行包含一个整数，表示答案。<br>样例输入<br>5<br>1 2 5 3 5<br>样例输出<br>2<br>样例说明<br>　　a[2] 和 a[4] 可能是三元组的中心。<br>评测用例规模与约定<br>　　对于 50% 的评测用例，2 &lt;= n &lt;= 100，0 &lt;= 数列中的数 &lt;= 1000。<br>　　对于所有评测用例，2 &lt;= n &lt;= 1000，0 &lt;= 数列中的数 &lt;= 10000。</p><p>思路：可以使用双指针法，一个指针从前向后指向最小的值，另一个指针依次向后遍历，如果指针二后面存在&gt;指针二的值ans++，如果指针二小于指针一，则将指针二设为指针一。</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1001</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">maxa</span><span class="params">(<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=t+<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i]&gt;a[t])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> minn=a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i]&gt;minn&amp;&amp;maxa(i))</span><br><span class="line">&#123;</span><br><span class="line">ans++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(a[i]&lt;minn)</span><br><span class="line">&#123;</span><br><span class="line">minn=a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="种草问题"><a href="#种草问题" class="headerlink" title="种草问题"></a>种草问题</h2><p>题目：</p><p>小明有一块空地， 他将这块空地划分为n行m列的小块，每行和每列的长度都为1。<br>小明选了其中的一些小块空地，种上了草，其他小块仍然保持是空地。<br>这些草长得很快，每个月， 草都会向外长出一些，如果一个小块种了草，则它将向自己的上，下、 左、右四小块空地扩展，这四小块空地都将变为有草的小块。<br>请告诉小明，k个月后空地上哪些地方有草。</p><p>输入格式：<br>输入的第一行包含两个整数m，n。<br>接下来n行，每行包含m个字母，表示初始的空地状态，字母之间没有空格。如果为小数点，表示为空地，如果字母为g，表示种了草。<br>接下来包含一个整数k.</p><p>输出格式：<br>输出n行，每行包含m个字母，表示k个月后空地的状态。如果为小数点，表示为空地，如果字母为g表示长了草。</p><p>样例输入：</p><p>4 5<br>.g…<br>…..<br>…g.<br>…..<br>2</p><p>样例输出：</p><p>gggg.<br>ggggg<br>.gggg<br>..ggg</p><p>典型的bfs类型题，一次一次的累积向周边扩展，需要注意的是每次bfs结束的条件是当前种子区域的值。</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue &gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 1001</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> vis[MAX][MAX]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x,y;</span><br><span class="line">node(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><br><span class="line">&#123;</span><br><span class="line">x=a;</span><br><span class="line">y=b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt; q;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> time=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(!q.empty()&amp;&amp;t--)</span><br><span class="line">&#123;</span><br><span class="line">node a=q.front();</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmpx=a.x+dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> tmpy=a.y+dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>(tmpx&gt;=<span class="number">0</span>&amp;&amp;tmpx&lt;n&amp;&amp;tmpy&gt;=<span class="number">0</span>&amp;&amp;tmpy&lt;m&amp;&amp;vis[tmpx][tmpy]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">vis[tmpx][tmpy]=<span class="number">1</span>;</span><br><span class="line">q.push(node(tmpx,tmpy));</span><br><span class="line"><span class="built_in">map</span>[tmpx][tmpy]=<span class="string">'g'</span>;</span><br><span class="line">    time++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> time;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line"><span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;<span class="built_in">map</span>[i][j];</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'g'</span>)</span><br><span class="line">&#123;</span><br><span class="line">t++;</span><br><span class="line">vis[i][j]=<span class="number">1</span>;</span><br><span class="line">q.push(node(i,j));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> k;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line"><span class="keyword">while</span>(k--)</span><br><span class="line">&#123;</span><br><span class="line">t=bfs(t);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">map</span>[i][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="奇怪的数列"><a href="#奇怪的数列" class="headerlink" title="奇怪的数列"></a>奇怪的数列</h2><p>问题描述<br>　　小明想知道，满足以下条件的正整数序列的数量：</p><ol><li><p>第一项为 n；</p></li><li><p>第二项不超过 n；</p></li></ol><p>　　3. 从第三项开始，每一项小于前两项的差的绝对值。<br>　　请计算，对于给定的 n，有多少种满足条件的序列。<br>输入格式<br>　　输入一行包含一个整数 n。<br>输出格式<br>　　输出一个整数，表示答案。答案可能很大，请输出答案除以10000的余数。<br>样例输入<br>4<br>样例输出<br>7<br>样例说明<br>　　以下是满足条件的序列：<br>　　4 1<br>　　4 1 1<br>　　4 1 2<br>　　4 2<br>　　4 2 1<br>　　4 3<br>　　4 4<br>评测用例规模与约定<br>　　对于 20% 的评测用例，1 &lt;= n &lt;= 5；<br>　　对于 50% 的评测用例，1 &lt;= n &lt;= 10；<br>　　对于 80% 的评测用例，1 &lt;= n &lt;= 100；<br>　　对于所有评测用例，1 &lt;= n &lt;= 1000。</p><p>　　思路：<br>　　<br>　　此题应该是在考察dp，但我是在没有想到什么好的dp思路，于是在网上参考了别人的博客发现也没有太好的dp思路，于是d把fs+剪枝，改成dp数组记录。估计只能通过50%；</p><p>​        代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1001</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; dp(N, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(N, <span class="number">-1</span>));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countSeq</span><span class="params">(<span class="keyword">int</span> first, <span class="keyword">int</span> second)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dp[first][second] != <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> dp[first][second];</span><br><span class="line">    <span class="keyword">int</span> t = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="built_in">abs</span>(first - second); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        t += countSeq(second, i);</span><br><span class="line">    &#125;</span><br><span class="line">    dp[first][second] = t % <span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">return</span> dp[first][second];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, ans(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ans = (ans + countSeq(n, i)) % <span class="number">10000</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="组织晚会"><a href="#组织晚会" class="headerlink" title="组织晚会"></a>组织晚会</h2><p>问题描述<br>　　小明要组织一台晚会，总共准备了 n 个节目。然后晚会的时间有限，他只能最终选择其中的 m 个节目。<br>　　这 n 个节目是按照小明设想的顺序给定的，顺序不能改变。<br>　　小明发现，观众对于晚上的喜欢程度与前几个节目的好看程度有非常大的关系，他希望选出的第一个节目尽可能好看，在此前提下希望第二个节目尽可能好看，依次类推。<br>　　小明给每个节目定义了一个好看值，请你帮助小明选择出 m 个节目，满足他的要求。<br>输入格式<br>　　输入的第一行包含两个整数 n, m ，表示节目的数量和要选择的数量。<br>　　第二行包含 n 个整数，依次为每个节目的好看值。<br>输出格式<br>　　输出一行包含 m 个整数，为选出的节目的好看值。<br>样例输入<br>5 3<br>3 1 2 5 4<br>样例输出<br>3 5 4<br>样例说明<br>　　选择了第1, 4, 5个节目。<br>评测用例规模与约定<br>　　对于 30% 的评测用例，1 &lt;= n &lt;= 20；<br>　　对于 60% 的评测用例，1 &lt;= n &lt;= 100；<br>　　对于所有评测用例，1 &lt;= n &lt;= 100000，0 &lt;= 节目的好看值 &lt;= 100000。</p><p>思路：两次自定义cmp的sort；</p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 100001</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> que;</span><br><span class="line"><span class="keyword">int</span> val;</span><br><span class="line">&#125;;</span><br><span class="line">node a[MAX];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(node a,node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.val&gt;b.val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(node a,node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.que&lt;b.que;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a[i].val;</span><br><span class="line">a[i].que=i;</span><br><span class="line">&#125;</span><br><span class="line">sort(a,a+n,cmp1);</span><br><span class="line">sort(a,a+k,cmp2);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;a[i].val&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 蓝桥杯 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java正则表达式</title>
      <link href="/2020/03/22/java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2020/03/22/java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><p>正则表达式定义了字符串的一种规范模式，它不限制与哪种语言，通常用来处理语言规范以及文本处理。  </p><p>实例：</p><p>检验Email是否正确：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   String str=<span class="string">"service@xsoftlab.net"</span>;<span class="comment">//被验证的字符串</span></span><br><span class="line">   String regEx=<span class="string">"[a-xA-Z_]&#123;1,&#125;[0-9]&#123;0,&#125;@(([a-zA-z0-9]-*)&#123;1,&#125;\\.)&#123;1,3&#125;[a-zA-z\\-]&#123;1,&#125;"</span>;</span><br><span class="line">   <span class="comment">//忽略大小写</span></span><br><span class="line">   <span class="comment">//Pattern pat =Pattern.compile(regEx,PatternCASE_INSENSITIVE);</span></span><br><span class="line">   Pattern pattern=Pattern.compile(regEx);<span class="comment">//编译正则表达式</span></span><br><span class="line">   Matcher matcher=patter.matcher(str);</span><br><span class="line">   <span class="comment">//字符串是否与正则表达式相匹配。</span></span><br><span class="line">   <span class="keyword">boolean</span> rs =matcher.matches();</span><br><span class="line">   System.out.println(rs); </span><br><span class="line">   String s=<span class="string">"baike.xsoftlab.net"</span>;</span><br><span class="line">   String regEx1=<span class="string">"bike.*"</span>;</span><br><span class="line">   Pattern pattern1=Pattern.compile(regEx1);</span><br><span class="line">   Matcher matcher1=pattern.matcher(str);</span><br><span class="line">   <span class="keyword">boolean</span> rs1=matcher1.find();<span class="comment">//查找是否存在此字符串；</span></span><br><span class="line">   System.out.println(<span class="string">"is "</span>+rs+<span class="string">"to have it"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>正则语法：</p><ul><li>普通字符</li></ul><p>字母数字下划线以及没有特殊意义的标点符号都是“普通字符”。表达式中的普通字符，在匹配一个字符串的时候，匹配与之相同的一个字符。</p><ul><li>简单转义字符</li></ul><blockquote><p>\n    换行符</p><p>\t     制表符</p><p>\ \    代表\本身</p><p>^, \ $,  \ (, \ ), \ { ,\ }, \ ?, \ + ,\ *, \ |, \ [, \ ] 都匹配对应的字符本身</p></blockquote><ul><li>标准字符集合(能够与多种字符匹配，注意区分大小写，大写是相反的意思（\ d(数字)\ D(非数字)）)</li></ul><blockquote><p> \ d    任意一个数字，0-9之间的任意一个</p><p>\ w     任意一个字母或下划线，也就是A-Z,a-z,0-9,_中的任意一个；</p><p>\ s       包括空格、制表符、换行符等空白字符的其中任意一个</p><p>.          小数点可以匹配任意一个字符（除了换行符），如果要匹配包括”\n”在内的所有字符，一般要用[\s\S]（任意字符匹配包含换行符）</p></blockquote><ul><li>自定义字符集合：</li></ul><p>—[ ]方括号匹配方式，能够匹配方括号中的任意一个字符</p><blockquote><p>[ab5@] :匹配“a”或“b”或“5”或“@”；</p><p>[^abc ]：匹配“a”,”b”,”c”以外的所有字符；</p><p>[f-k]：匹配”f”-“k”之间的任意字母；</p><p>[^ A-F0-3] :匹配“A”-“F”,”0”-“3”之外的任意字符；</p></blockquote><p>正则表达式的特殊符号（除了^和-之外）包含在中括号中就失去了意义；</p><p>标准字符集合，除了小数点之外，如果被包含于中括号中，自定义字符集合包含该集合：</p><ul><li>[\ d .\ -+]将匹配数字，小数点、+、-；</li></ul><ul><li>量词  </li></ul><p>修饰匹配次数的特殊符号：</p><blockquote><p>{n}   表达重复n次</p><p>{m,n} 表达至少重复m次，最多n次</p><p>{m,} 至少m次</p><p>？  表达式出现0\1次，相当于{0,1}</p><p>+ 表达式至少出现1次，相当于{1,}</p><p>* 表达式不出现或出现任意次，相当于{0,}</p><p>当？放在*，+之后表示尽可能匹配少的字符；</p></blockquote><p>原则：</p><ol><li><p>匹配次数中的贪婪模式（匹配字符越多越好，默认）；</p></li><li><p>匹配次数中的非贪婪模式（匹配次数越少越好，修饰匹配次数的特殊符号后再加上？）</p><p>3.\d \d \d可以匹配3位数字==\d{3}</p></li><li><p>\d\d\d\d\d</p></li><li><p>\d==\d{3}</p><p>5.{}修饰的是直接与之相邻的符号；</p></li></ol><p>​    \d\d{6}7个；</p><p>​    (\d\d){6}12个；</p><p>贪婪匹配的特点：贪婪匹配是看整个字符串是否匹配，如果不匹配它会去掉字符串的最后一个字符然后继续进行匹配，如果还是不行就继续去掉后一个字符再次尝试，知道字符串不剩下字符。</p><p>例如：</p><blockquote><p>var str=’abcdabceba’</p><p>/.+b/    //匹配一个或多个结尾为b的字符</p><p>执行str.match(/.+b/)</p><p>第一次匹配abcdabceba发现不匹配，去掉a,再次进行匹配，结果正确，因而返回abcdabceb；</p></blockquote><p>惰性匹配特点：惰性匹配是从左侧第一个字符向右进行匹配，先看第一个是否匹配不匹配就加上右边一个进行匹配，只要匹配成功就返回结果；</p><p>例如：</p><blockquote><p>str.match(/.+?b/):第一次读入左侧第一个字符a不匹配，再加上b匹配，于是返回ab;</p></blockquote><p>此外当*？出现在字符串最后时可能会出现不进行匹配的现象：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"> </span><br><span class="line">s=<span class="string">'hello 1234567 world/python'</span></span><br><span class="line">res1 = re.match(<span class="string">'he.*?(\d).*rld/(.*?)'</span>,s)</span><br><span class="line">res2 = re.match(<span class="string">'he.*?(\d).*rld/(.*)'</span>,s)</span><br><span class="line"> </span><br><span class="line">print(<span class="string">'res1'</span>,res1.group(<span class="number">2</span>))</span><br><span class="line">print(<span class="string">'res2'</span>,res2.group(<span class="number">2</span>))</span><br></pre></td></tr></table></figure></div><p>运行结果为：</p><p>res1 </p><p>res2 python</p><h2 id="字符边界"><a href="#字符边界" class="headerlink" title="字符边界"></a>字符边界</h2><ul><li>标记匹配的不是字符而是位置，符合某种条件的位置；</li></ul><blockquote><p>^   与字符开始的地方匹配（^i）(i开头)</p><p>$    与字符结束的地方匹配（i$）(i结束)</p><p>\b  匹配一个单词边界</p></blockquote><p>\b匹配的位置是：前面的字符与后面的字符不全是\w</p><p>java正则表达式匹配qq邮箱：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String s1=<span class="string">"[\\w\\-]+@[a-zA-Z]+(\\.[A-Za-z]&#123;2,4&#125;)&#123;1,2&#125;"</span>;</span><br><span class="line">String s2=<span class="string">"111222333@qq.com"</span>;</span><br><span class="line">Pattern patter=Pattern.compile(s1);</span><br><span class="line">Matcher match=patter.matcher(s2);</span><br><span class="line"><span class="keyword">boolean</span> res=match.matches();</span><br><span class="line"><span class="keyword">if</span>(res)</span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(<span class="string">"yes!!!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="选择符和分组"><a href="#选择符和分组" class="headerlink" title="选择符和分组"></a>选择符和分组</h2><blockquote><p>|      代表或 </p><p>()      捕获组：</p><ul><li>在被修饰匹配次数的时候，括号中的表达式可以作为整体被修饰。</li><li>取匹配结果时，括号中的表达式匹配到的内容可以被单独得到。</li><li>每一对括号会分配一个编号，使用（）的捕获根据左括号的顺序从1开始自动匹配编号。捕获元素编号为0的第一个捕获根据左括号的顺序从1开始自动编号。捕获元素为0的第一个捕获是由整个正则表达式模式匹配的文本。</li></ul><p>(?:Expression)   非捕获组，一些表达式中，不得不使用（），但又不需要保存（）中子表达式匹配的内容，这时可以用非捕获组来抵消使用（）带来的副作用。（节省内存，只进行匹配不进行存储，因而无法使用类似\1的方法）</p></blockquote><ul><li>反向引用（\nnn）</li></ul><p>每一对（）会分配一个编号，使用（）的捕获根据左括号的顺序从1开始自动编号。</p><p>通过反向引用，可以对分组已捕获的字符串进行引用。</p><p>()捕获组：</p><blockquote><p>([a-z]{2})\1:(括号内匹配到的字符重复一次)：匹配类似gogo，toto此类字符；（\1匹配第一个括号）</p></blockquote><p>捕获到的东西会存入内存；</p><h2 id="预搜索（零宽断言）"><a href="#预搜索（零宽断言）" class="headerlink" title="预搜索（零宽断言）"></a>预搜索（零宽断言）</h2><ul><li>只进行子表达式的匹配，匹配内容不计入最终结果，零宽度。（只匹配位置，不匹配结果）</li><li>这个位置应该符合某个条件。判断当前位置的前后字符，是否符合指定1的条件，但不匹配前后的字符；</li><li>正则表达式匹配过程中，如果子表达式匹配到的是字符内容，而非位置，并被保存到最终得匹配结果中，那么就认为这个子表达式是占有字符，而与之相反的，匹配到的值不保存到匹配结果中，而只是匹配位置，就认为这个子表达式是零宽度的。</li></ul><blockquote><p>(?=exp)      断言自身出现的位置的后面能匹配表达式exp；</p><p>(?&lt;=exp)    断言自身出现的位置的前面能匹配表达式exp；</p><p>(?!exp)        断言此位置的后面不能匹配表达式exp；</p><p>(?&lt;exp)       断言此位置的前面不能匹配表达式exp；</p></blockquote><p>[a-z]+(?=\d+):a55,asd324;</p><p>mysql使用正则：</p><blockquote><p>select pro_id,por_name,pro_address where por_name REGEXP ‘.000’</p></blockquote><p>java使用正则：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Pattern p=Pattern.compile(<span class="string">"\\w+"</span>);</span><br><span class="line">Matcher m=p.matcher(<span class="string">"adsada&amp;&amp;231"</span>);</span><br><span class="line"><span class="comment">//boolean res=m.matches();//将所有的字符匹配</span></span><br><span class="line"><span class="keyword">boolean</span> res1=m.find();<span class="comment">//该方法扫描输入的序列，查找与该序列匹配的下一个子序列。(true)(adsada)</span></span><br><span class="line"><span class="keyword">boolean</span> res2=m.find()<span class="comment">//(true)(231)</span></span><br><span class="line">String  re=m.gruop();</span><br><span class="line"><span class="keyword">boolean</span> res=m.find()<span class="comment">//false已经没有匹配的子序列了</span></span><br></pre></td></tr></table></figure></div><p>如果使用了find函数后可以使用group返回字符串</p><p>find函数进行多次可以将所有匹配的子串输出；</p><p>可以调用group进行分组查询输出：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Pattern p=Pattern.compile(<span class="string">"([a-z]+)([0-9]+)"</span>);<span class="comment">//（数字字母）表示连在一起的形式</span></span><br><span class="line">Matcher match=Pattern.matcher(<span class="string">"aa232**ssd445*sds223"</span>);</span><br><span class="line">System.out.println(match.group());<span class="comment">//匹配到的整个子串aa232;可以用group（0）==group();</span></span><br><span class="line"><span class="keyword">while</span>(match.find())&#123;</span><br><span class="line">System.out.println(match.group(<span class="number">1</span>));<span class="comment">//aa</span></span><br><span class="line">System.out.println(match.group(<span class="number">2</span>));<span class="comment">//232</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>替换操作：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Pattern p=Pattern.compile(<span class="string">"[0-9]"</span>);</span><br><span class="line">Matcher match=Pattern.matcher(<span class="string">"aa232**ssd445*sds223"</span>);</span><br><span class="line">Stirng newstr=match.replaceAll(<span class="string">"#"</span>);<span class="comment">//字符串替换将所有0-9的数字替换成#</span></span><br><span class="line">System.out.println(newstr);</span><br></pre></td></tr></table></figure></div><p>分割操作：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str=<span class="string">"a232b232c23"</span>;</span><br><span class="line"><span class="comment">//按数字进行切割</span></span><br><span class="line">String []arrs=str.split(<span class="string">"\\d+"</span>);</span><br><span class="line">System.out.println(Arrays.toString(arrs));</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lambda表达式</title>
      <link href="/2020/03/18/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2020/03/18/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="Lambda表达式"><a href="#Lambda表达式" class="headerlink" title="Lambda表达式"></a>Lambda表达式</h1><p>Lamabda表达式也称为闭包，是java8推出的新特性，Lamabda表达式允许吧函数作为一个方法的参数（函数作为参数传递进方法中）。作用是可以使代码变得更加简洁紧凑。  </p><p>特征：</p><ul><li>可选类型声明：不一定要声明类型，编译器可以根据上下文进行自动推断。</li><li>可选的参数括号：有一个参数不需要圆括号，多个则要。</li><li>可选的大括号：主题只有一条语句不需要大括号。</li><li>可选的返回关键字：只有一个表达式返回值编译器会自动返回值，大括号则需要自行定义返回值。</li></ul><p>Lambda例子：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> lambda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Java8Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Java8Test tester=<span class="keyword">new</span> Java8Test();</span><br><span class="line">        MathOperation addition=(<span class="keyword">int</span> a,<span class="keyword">int</span> b)-&gt;a+b;</span><br><span class="line">        MathOperation subtraction=(<span class="keyword">int</span> a,<span class="keyword">int</span> b)-&gt;a-b;</span><br><span class="line">        MathOperation multiplication=(<span class="keyword">int</span> a,<span class="keyword">int</span> b)-&gt;&#123;<span class="keyword">return</span> a*b; &#125;;</span><br><span class="line">        MathOperation division =(<span class="keyword">int</span> a,<span class="keyword">int</span> b)-&gt;a/b;</span><br><span class="line">        System.out.println(<span class="string">"加:"</span>+tester.operate(<span class="number">10</span>,<span class="number">5</span>,addition));</span><br><span class="line">        System.out.println(<span class="string">"减:"</span>+tester.operate(<span class="number">10</span>,<span class="number">5</span>,subtraction));</span><br><span class="line">        System.out.println(<span class="string">"乘:"</span>+tester.operate(<span class="number">10</span>,<span class="number">5</span>,multiplication));</span><br><span class="line">        System.out.println(<span class="string">"除:"</span>+tester.operate(<span class="number">10</span>,<span class="number">5</span>,division));</span><br><span class="line">        GreetingService greetService1=message-&gt;System.out.println(<span class="string">"Hello"</span>+<span class="string">" "</span>+message);</span><br><span class="line">        GreetingService greetService2=(String message)-&gt;System.out.println(<span class="string">"Hello"</span>+<span class="string">" "</span>+message);</span><br><span class="line">        greetService1.greetService(<span class="string">"NIHAO"</span>);</span><br><span class="line">        greetService2.greetService(<span class="string">"BUNZHU"</span>);</span><br><span class="line">        MathOperation add=(<span class="keyword">int</span> a,<span class="keyword">int</span> b)-&gt;a+b;</span><br><span class="line">        System.out.println(add.operation(<span class="number">1</span>,<span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">MathOperation</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">operation</span> <span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">GreetingService</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span>  <span class="title">greetService</span><span class="params">(String message)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">operate</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,MathOperation mathOperation)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mathOperation.operation(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>使用Lambda表达式需要注意以下几点：</p><ul><li>Lambda表达式主要用来执行内执行的方法类型的接口。例如，一个简单方法接口，我们使用了各种类型的Lambda表达式来定义MathOperation接口的方法。然后定义了sayMessage的执行。</li><li>Lambda表达式免去了使用匿名方法的麻烦，并且给予java简单但是强大的函数化编程能力。      </li></ul><p>使用Lambda表达式解决comparable的方法：</p><p>Employee(不需要implement comparator了)</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> songyan.chp6.homework.question7;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String id,String name,<span class="keyword">double</span> salary)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id=id;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.salary=salary;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id=id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSalary</span><span class="params">(<span class="keyword">double</span> salary)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.salary=salary;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> salary;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">/*public int compareTo(Object obj) &#123;//在类的内部可以；</span></span><br><span class="line"><span class="comment">    Employee e = (Employee) obj;</span></span><br><span class="line"><span class="comment">    if (e instanceof Employee) &#123;</span></span><br><span class="line"><span class="comment">       // return this.name.compareTo(e.getName());//比较对象值的大小。按照name来排序；</span></span><br><span class="line"><span class="comment">       return (int)(e.salary-this.salary);//按照工资来排序；</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    else</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        return 0;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="comment">//Comparable e=(Employee a)-&gt;this.getName().length()-a.getName().length();</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> id+<span class="string">","</span>+name+<span class="string">","</span>+salary;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>重点：Test类</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> songyan.chp6.homework.question7;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Employee[] es = <span class="keyword">new</span> Employee[<span class="number">5</span>];</span><br><span class="line">        es[<span class="number">0</span>] = <span class="keyword">new</span> Employee(<span class="string">"001"</span>, <span class="string">"zhang"</span>, <span class="number">5000</span>);</span><br><span class="line">        es[<span class="number">1</span>] = <span class="keyword">new</span> Employee(<span class="string">"002"</span>, <span class="string">"li"</span>, <span class="number">8000</span>);</span><br><span class="line">        es[<span class="number">2</span>] = <span class="keyword">new</span> Employee(<span class="string">"003"</span>, <span class="string">"zhao"</span>, <span class="number">6000</span>);</span><br><span class="line">        es[<span class="number">3</span>] = <span class="keyword">new</span> Employee(<span class="string">"004"</span>, <span class="string">"song"</span>, <span class="number">6500</span>);</span><br><span class="line">        es[<span class="number">4</span>] = <span class="keyword">new</span> Employee(<span class="string">"005"</span>, <span class="string">"zhu"</span>, <span class="number">9500</span>);</span><br><span class="line">        Arrays.sort(es,(o1,o2)-&gt;&#123;<span class="keyword">if</span>(o1.getSalary()&gt;o2.getSalary())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> -<span class="number">1</span>;&#125;);</span><br><span class="line">        <span class="keyword">for</span>(Employee e: es)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(es,(o1,o2)-&gt;&#123;<span class="keyword">if</span>(o1.getName().length()&gt;o2.getName().length())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> -<span class="number">1</span>;&#125;);</span><br><span class="line">        <span class="keyword">for</span>(Employee e: es)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>可以对比lambda表达式和普通接口实现方法的对比。</p><h2 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h2><p>lambda表达式只能引用标记了final的外层局部变量，这就是说不能在lamabda的内部修改定义在域外的局部变量，否则会编译错误。此外不允许在lambda表达式中声明与局部变量同名的参数或者局部变量。</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num = <span class="number">1</span>;  </span><br><span class="line">Converter&lt;Integer, String&gt; s = (param) -&gt; System.out.println(String.valueOf(param + num));</span><br><span class="line">s.convert(<span class="number">2</span>);</span><br><span class="line">num = <span class="number">5</span>;  </span><br><span class="line"><span class="comment">//报错信息：Local variable num defined in an enclosing scope must be final or effectively </span></span><br><span class="line"> <span class="keyword">final</span>       <span class="comment">//局部变量被修改</span></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String first = <span class="string">""</span>;  </span><br><span class="line">Comparator&lt;String&gt; comparator = (first, second) -&gt; Integer.compare(first.length(), second.length());  <span class="comment">//编译会出错</span></span><br></pre></td></tr></table></figure></div><p>声明同名变量。</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lambda表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>接口</title>
      <link href="/2020/03/16/%E6%8E%A5%E5%8F%A3/"/>
      <url>/2020/03/16/%E6%8E%A5%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><p>接口不是类，而是对类的一组需求描述，这些类要遵从接口描述的统一格式进行定义。  </p><p>简单来说：如果类遵从某个特定接口，那么就履行这项义务。例如Arrays类中的sort方法承诺可以对对象数组进行排序，但要求满足的前提是实现Compareable接口：  </p><blockquote><p>public interface Compareable{</p><p>  int compareTo(Object other);</p><p>}</p></blockquote><p>这就是说任何实现CompareTo的接口的类都需要包含compareTo方法，并且这个方法的参数必须是Object对象，返回int类型值。  </p><p>接口的方法不需加上public，默认自动属于public。此外接口中的域将会被自动设置为public static final为了让某个类实现一个接口通常需要两步：  </p><ul><li>将类声明为实现给定的接口。</li><li>对接口中的所有方法进行定义。</li></ul><p>将类声明为实现某个接口时，需要使用关键字implements:</p><blockquote><p>class Empolyee implements Comparable</p></blockquote><p>要让一个类实现排序服务就必须实现compareTo的方法，但为什么不能直接在Employee中定义，而需要在接口中声明呢？</p><p>java是一种<code>强类型</code>语言，在调用方法时编译器会检查这个方法是否存在。在sort方法中可能存在以下的语句：  </p><blockquote><p>if(a[i].compareTo(a[j]&gt;0))</p><p>{</p><p>//rerrange a[i] and a[j];</p><p>}</p></blockquote><p>为此编译器一定要存在compareTo的方法，为了保证一定有compareTo的方法因而Employee要实现接口方法的定义，在此声明接口。  </p><h2 id="接口特性"><a href="#接口特性" class="headerlink" title="接口特性"></a>接口特性</h2><p>接口不是类，不能使用new运算符实例化一个接口，然而却可以声明接口的变量：Compare x;接口变量必须引用实现了接口的类对象。x=new Employee(….);</p><p>如同建立类的继承关系一样，接口也可以被扩展。这里允许存在多条从具有讲稿通用性的接口到较高专用性的接口的链。</p><h2 id="接口与抽象类"><a href="#接口与抽象类" class="headerlink" title="接口与抽象类"></a>接口与抽象类</h2><p>接口与抽象类有诸多相同的特征，但又有所不同。  </p><p>抽象类在表示通用属性时存在一个问题：每个类只能拓展与一个类，然而每个类却可以实现多个接口。</p><blockquote><p>class Employee extends Person</p><p>class Employee implements Person,Man</p></blockquote><p>可以为接口方法定义一个默认实现，必须用default修饰标记这样一个方法。</p><p>例如： </p><blockquote><p>public interface Collection</p><p>{</p><p>int size();</p><p>default boolean isEmpty()</p><p>{</p><p>return size()==0;</p><p>}</p><p>}</p></blockquote><p>如果在default方法中实现了size()==0程序员就无需在后面担心isEmpty（）方法了。</p><h2 id="解决默认冲突"><a href="#解决默认冲突" class="headerlink" title="解决默认冲突"></a>解决默认冲突</h2><p>如果先在一个接口中将一个方法定义为默认方法，然后又在超类或另一个接口中定义了同样的·方法。规则如下：</p><ul><li>超类优先：如果超类提供了一个具体方法，同名而且具有相同的参数类型的默认方法会被忽略（子类被忽略）。</li><li>接口冲突：如果一个超接口提供了一个默认方法，另一个接口提供了一个同名且参数类型相同的方法，必须覆盖这个方法来解决冲突。  </li></ul><p>冲突二：</p><blockquote><p>interface Named{</p><p>default String getName(){</p><p>return getClass().getName();</p><p>}</p><p>class Student implements Person ,Named</p><p>{</p><p>}</p><p>}</p></blockquote><p>解决方法：覆盖： </p><blockquote><p>class Student implements Person,Named{</p><p>public String getName(){</p><p>return Person.super.getName();</p><p>}</p><p>}</p></blockquote><p>如果只在Person中定义了同名方法，Named和Person的冲突仍存在而已性，必须实现。</p><p>而对于继承超类中的接口方法无论如何都是超类优先。  </p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 接口 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jdbc</title>
      <link href="/2020/03/14/jdbc/"/>
      <url>/2020/03/14/jdbc/</url>
      
        <content type="html"><![CDATA[<h1 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h1><h2 id="创建以及插入数据"><a href="#创建以及插入数据" class="headerlink" title="创建以及插入数据"></a>创建以及插入数据</h2><p>JDBC API允许用户访问任何形式的表格数据，尤其是存储在关系数据库中的数据。  </p><p>执行步骤：  </p><ul><li>联接数据源，如：数据库。  </li><li>为数据库传递查询和更新指令。 </li><li>处理数据库响应并返回处理的结果。  </li></ul><p>JDBC编程的步骤：  </p><p>加载驱动程序：  </p><blockquote><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);<span class="comment">//mysql8.0以上</span></span><br><span class="line">Connection conn=DriverManager.getConnection(<span class="string">"jdbc:mysql://localhost:3306/DATABASE"</span>, <span class="string">"UESRNAME"</span>, <span class="string">"PASSWORD"</span>);<span class="comment">//获得数据库连接。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></blockquote><p>创建Statement\PreparedStatement对象：  </p><blockquote><p>conn.createStatement();  //创建sql对象</p><p>conn.prepareStatement(sql);  //预编译sql</p></blockquote><p>实例：  </p><blockquote><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">import</span> java.sql.*;</span><br><span class="line">&gt;<span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line">&gt;<span class="keyword">import</span> java.sql.Statement;</span><br><span class="line">&gt;<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">       Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">       Connection conn = DriverManager.getConnection(<span class="string">"jdbc:mysql://localhost:3306/learn"</span>, <span class="string">"root"</span>, <span class="string">"password"</span>);</span><br><span class="line">       Statement stmt=conn.createStatement();</span><br><span class="line">       String q=<span class="string">"insert into jdbc (num,id) values(?,?)"</span>;</span><br><span class="line">      PreparedStatement t= conn.prepareStatement(q);<span class="comment">//预编译sql，减少sql的执行。</span></span><br><span class="line">       t.setInt(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">       t.setString(<span class="number">2</span>,<span class="string">"rng"</span>);</span><br><span class="line">       t.execute();</span><br><span class="line">       String s=<span class="string">"insert into jdbc (num,id) values(1,'we')"</span>;</span><br><span class="line">       stmt.execute(s);</span><br><span class="line">   &#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">       e.printStackTrace();</span><br><span class="line">   &#125;<span class="keyword">catch</span>(SQLException e)</span><br><span class="line">   &#123;</span><br><span class="line">       System.out.println(<span class="string">"wrong!"</span>);</span><br><span class="line">   &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">   &#123;</span><br><span class="line">       e.printStackTrace();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure></div></blockquote><p>其中的赋值操作t.setInt(1,2);t.setString(..)等等都可以写为：t.setObject(1,2)……;</p><p>下面是jdbc操作与student类的综合使用的实例：    </p><p>建立连接：MysqlDemo： </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MysqlDemo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Connection conn=<span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"开始！"</span>);</span><br><span class="line">            Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);<span class="comment">//加载驱动</span></span><br><span class="line">             <span class="comment">//建立连接;</span></span><br><span class="line">            conn= DriverManager.getConnection(<span class="string">"jdbc:mysql://localhost:3306/jdbc"</span>,<span class="string">"root"</span>,<span class="string">"password"</span>);</span><br><span class="line">           <span class="comment">// System.out.println(conn);</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(SQLException e)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">"Wrong!"</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>Student类：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> id,String name,String address)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id=id;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.address=address;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"id: "</span>+id+<span class="string">" name: "</span>+name+<span class="string">" address: "</span>+address;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>添加数据，Test类：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.plaf.nimbus.State;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn=MysqlDemo.getConnection();</span><br><span class="line">       <span class="comment">// System.out.println(conn);</span></span><br><span class="line">        System.out.println(<span class="string">"请输入学生人数："</span>);</span><br><span class="line">        <span class="keyword">int</span> num;</span><br><span class="line">        Scanner input=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        num=input.nextInt();</span><br><span class="line">        Student st[]=<span class="keyword">new</span> Student[num];</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        String s=<span class="string">"truncate table student"</span>;</span><br><span class="line">        Statement q=conn.createStatement();</span><br><span class="line">        q.execute(s);</span><br><span class="line">        <span class="keyword">while</span>(num!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            num--;</span><br><span class="line">            String sql=<span class="string">"insert into student (id,name,address)values(?,?,?) "</span>;</span><br><span class="line">            System.out.println(<span class="string">"请输入第"</span>+i+<span class="string">"名学生信息： "</span>);</span><br><span class="line">            <span class="keyword">int</span> id=input.nextInt();</span><br><span class="line">            String name=input.next();</span><br><span class="line">            String address=input.next();</span><br><span class="line">            st[i]= <span class="keyword">new</span> Student(id,name,address);</span><br><span class="line">            PreparedStatement ptmt=conn.prepareStatement(sql);</span><br><span class="line">            ptmt.setInt(<span class="number">1</span>,st[i].getId());</span><br><span class="line">            ptmt.setString(<span class="number">2</span>,st[i].getName());</span><br><span class="line">            ptmt.setString(<span class="number">3</span>,st[i].getAddress());</span><br><span class="line">            ptmt.execute();</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>将jdbc应用于面向对象时要注意封装的问题，一般驱动连接的构造最好使用静态初始化块，变量以及方法因而同样也要声明为静态方法以及参数。  </p><h2 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h2><p>下面用两个例子来说明在createStatement和PrepareStatememnt两种有参以及无参的情况：</p><p>无参：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String sql=<span class="string">"select *from student"</span>;</span><br><span class="line">Statement s=conn.createStatement();</span><br><span class="line">ResultSet re=s.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(re.next())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> id=re.getInt(<span class="string">"id"</span>);</span><br><span class="line">String address=re.getString(<span class="string">"address"</span>);</span><br><span class="line">String name=re.getString(<span class="string">"name"</span>);</span><br><span class="line">System.out.println(name+<span class="string">" "</span>+id+<span class="string">" "</span>+address);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>有参：  </p><blockquote><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">String sql=<span class="string">"select *from student where id=?"</span>;</span><br><span class="line">PreparedStatement pst=conn.prepareStatement(sql);</span><br><span class="line">pst.setInt(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">ResultSet re=pst.executeQuery();</span><br><span class="line"><span class="keyword">while</span>(re.next())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> id=re.getInt(<span class="string">"id"</span>);</span><br><span class="line">    String address=re.getString(<span class="string">"address"</span>);</span><br><span class="line">    String name=re.getString(<span class="string">"name"</span>);</span><br><span class="line">    System.out.println(name+<span class="string">" "</span>+id+<span class="string">" "</span>+address);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jdbc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java的重写与重载</title>
      <link href="/2020/03/10/java%E7%9A%84%E9%87%8D%E5%86%99%E4%B8%8E%E9%87%8D%E8%BD%BD/"/>
      <url>/2020/03/10/java%E7%9A%84%E9%87%8D%E5%86%99%E4%B8%8E%E9%87%8D%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="重写与重载"><a href="#重写与重载" class="headerlink" title="重写与重载"></a>重写与重载</h1><p>在java的继承一章，学到了重写这一定义，与重载有很多相似点，因而将他们之间进行对比来看。  </p><p>网上的博客模糊不清，对于子类中的重载和重写方面写的较为模糊，下面是我通过实验自己总结的几点，虽不知正确与否，望有缘人指正。  </p><h2 id="重写定义："><a href="#重写定义：" class="headerlink" title="重写定义："></a>重写定义：</h2><ul><li><p>重写是子类对父类的允许访问的方法的实现过程进行重新编写, 返回值和形参都不能改变。即外壳不变，核心重写！</p></li><li><p>重写的好处在于子类可以根据需要，定义特定于自己的行为。 也就是说子类能够根据需要实现父类的方法。</p></li><li><p>重写方法不能抛出新的检查异常或者比被重写方法申明更加宽泛的异常。</p></li></ul><h2 id="方法的重写规则"><a href="#方法的重写规则" class="headerlink" title="方法的重写规则"></a>方法的重写规则</h2><ul><li><p>参数列表必须完全与被重写方法的相同。</p></li><li><p>返回类型与被重写方法的返回类型可以不相同，但是必须是父类返回值的派生类（java5 及更早版本返回类型要一样，java7 及更高版本可以不同）。</p></li><li><p>访问权限不能比父类中被重写的方法的访问权限更低。例如：如果父类的一个方法被声明为 public，那么在子类中重写该方法就不能声明为 protected。</p></li><li><p>父类的成员方法只能被它的子类重写。</p></li><li><p>声明为 final 的方法不能被重写。</p></li><li><p>声明为 static 的方法不能被重写，但是能够被再次声明。</p></li><li><p>子类和父类在同一个包中，那么子类可以重写父类所有方法，除了声明为 private 和 final 的方法。</p></li><li><p>子类和父类不在同一个包中，那么子类只能够重写父类的声明为 public 和 protected 的非 final 方法。</p></li><li><p>重写的方法能够抛出任何非强制异常，无论被重写的方法是否抛出异常。但是，重写的方法不能抛出新的强制性异常，或者比被重写方法声明的更广泛的强制性异常，反之则可以。</p></li><li><p>构造方法不能被重写。  </p></li><li><p>如果不能继承一个方法，则不能重写这个方法。</p></li></ul><p>在Java核心技术卷中写道：<br>编译器查看对象上应用方法的调用非常重要。下面假设要调用x.f(args)。  </p><ol><li>编译器查看对象的声明类型和方法名。假设调用时存在多个方法f，但参数类型不同。编译器会将c类中名为的方法，以及c类超类中的访问属性为public且名为f的方法列举出来。  </li><li>接下来，编译器会查看调用方法时提供的参数类型。如果在所有名叫f的方法中存在一个与提供的参数类型完全匹配的方法则调用此种方法。</li></ol><p>因而区别子类中的重载和重写，参数的类型数量是区别的关键。  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> a;</span><br><span class="line">        <span class="keyword">protected</span> <span class="keyword">int</span> b;</span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> d;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.a=a;</span><br><span class="line">            <span class="keyword">this</span>.b=b;</span><br><span class="line">            <span class="keyword">this</span>.c=c;</span><br><span class="line">            <span class="keyword">this</span>.d=d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">int</span> <span class="title">method</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a + b;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">short</span> a,<span class="keyword">short</span> b)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> sum(a,b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><p>此为超类A的代码。  </p><p>对于子类B的代码我们来一个一个分析。<br>首先构造方法不能重写，子类不能继承父类的构造方法,但可以调用。因而在子类中的</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c, <span class="keyword">int</span> d,<span class="keyword">int</span> g)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">super</span>(a, b, c, d);</span><br><span class="line">  <span class="keyword">this</span>.g=g;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="keyword">super</span>();</span><br><span class="line">     <span class="keyword">this</span>.g=<span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></div><p>诸如此类的构造器都是重载而非重写。  </p><p>对于方法重写有如下例子：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">method</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c)</span></span>&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;<span class="comment">//重载1</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">return</span> (a+b+<span class="number">1</span>);<span class="comment">//重写2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">sum</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="number">1</span>;<span class="comment">//重载3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p> 重写主要在于参数，对于1,3的参数来说都不匹配因而为重载，而对于2来说由于参数匹配因而是重写。  </p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p> 重载更像一种平行关系，根据参数的类型以及个数的不同来重载。而重写则是一种垂直的关系，对于参数返回值完全相同的方法，通过子类的重新定义，达到换内不换壳的效果。当子类调用统一方法时调用的是子类重新实现的方法，而不再调用超类中的方法。</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql高级联结</title>
      <link href="/2020/03/09/mysql%E9%AB%98%E7%BA%A7%E8%81%94%E7%BB%93/"/>
      <url>/2020/03/09/mysql%E9%AB%98%E7%BA%A7%E8%81%94%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="mysql高级联结"><a href="#mysql高级联结" class="headerlink" title="mysql高级联结"></a>mysql高级联结</h1><p>SQL最强大的功能就是能在数据查询的时候执行联结表，联结可以让多个相关的表联结成一个整体进行运算查询，因而掌握它十分重要。  </p><h2 id="自联结"><a href="#自联结" class="headerlink" title="自联结"></a>自联结</h2><p>顾名思义自联结的意思就是一个表与自己相联结。例如想发送一封信给Jim所在公司的所有客户。因此我们先要查询Jim所在的公司，然后找出为此公司工作的客户。<br>此题有两种解法：子查询以及自联结</p><ul><li><p>1</p><blockquote><p>select cust_id,cust_name,cust_address from customers where cust_name =(select cust_name from customers where cust_contact =’Jim Jones’);  </p></blockquote></li><li><p>2</p></li></ul><blockquote><p>select c1.cust_id,c1.cust_name,c1.cust_address from customers as c1,customers as c2 where c1.cust_name =c2.cust_name and c2.cust_contact=’Jim Jones’  </p></blockquote><h2 id="内联结（等值联结）"><a href="#内联结（等值联结）" class="headerlink" title="内联结（等值联结）"></a>内联结（等值联结）</h2><p>内联结是基于两个表之间的相等测试，这种联结也称为内部联结。它适用于多个表之间存在一定的联系的情况。例如购物者购买了编号为1的商品，购物者位于购物表中，而<br>商品表中恰好也有商品编号，那么就可以将多个表进行联结以便查询。  </p><p>查找订购产品RGAN01的顾客信息:   </p><blockquote><p>select cust_id,cust_name,cust_address from customers where cust_id in (select cust_id from orders where order_num in(select order_num from orderitems where prod_id=’RGAN01’));</p></blockquote><p>  将相关项紧密联结依次查询。  </p><h3 id="自然联结"><a href="#自然联结" class="headerlink" title="自然联结"></a>自然联结</h3><p>无论何时对表进行联结，应该至少有一个列出现在不止一个表中。内联结是联结运算符为“=”时的特例。<br>它是从关系R与S的广义笛卡尔积中选取A，B属性值相等的那些元组，而自然联结又是一种特殊的内联结，它能够自动清除掉在两个表中不同属性的元组。因而自然联结不需要加上最后的on和等于判断。</p><p>内联结：  </p><blockquote><p>select p.*,v.*<br>from productinfo as p inner join vendors as v<br>on p.vendname=v.vendname  </p></blockquote><p><a href="https://s1.ax1x.com/2020/03/13/8KUlp6.png" target="_blank" rel="noopener">alt photo</a></p><p>自然联结：  </p><blockquote><p>select p.*,v.*<br>from productinfo as p natural join vendors as v  </p></blockquote><p><a href="https://s1.ax1x.com/2020/03/13/8KUlp6.png" target="_blank" rel="noopener">alt photo</a></p><p>两者的结果相同，但代码有所不同。  </p><h2 id="外部联结"><a href="#外部联结" class="headerlink" title="外部联结"></a>外部联结</h2><p>许多联结将一个表中的行与另一个表中的行相关联。但有时又需要哪些没有关联行的行。例如：  </p><ul><li>对每个客户下了多少订单进行技术，同时包括尚未下单的客户。  </li><li>列出所有产品以及订购数量，包括没有人订购的商品。  </li><li>计算平均销售规模，包括那些尚未下单的客户。  </li></ul><p>为了检索所有客户，包括未下单的客户：  </p><blockquote><p>select customers.cust_id,orders.order_num from customers left outer join orders on customers.cust_id=orders.cust_id;</p></blockquote><p>结果比正常的内联结多了一项存在于左表却不存在于右表的元组。<br>以次类推有： right outer join … on …  full outer join … on …;    </p><p>其中mysql、SQL SERVER 等不支持full outer join。</p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>poj-3255 次短路</title>
      <link href="/2020/03/09/poj-3255-%E6%AC%A1%E7%9F%AD%E8%B7%AF/"/>
      <url>/2020/03/09/poj-3255-%E6%AC%A1%E7%9F%AD%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="次短路"><a href="#次短路" class="headerlink" title="次短路"></a>次短路</h1><p>poj-3255  </p><p>题目：<br>Bessie has moved to a small farm and sometimes enjoys returning to visit one of her best friends. She does not want to get to her old home too quickly, because she likes the scenery along the way. She has decided to take the second-shortest rather than the shortest path. She knows there must be some second-shortest path.</p><p>The countryside consists of R (1 ≤ R ≤ 100,000) bidirectional roads, each linking two of the N (1 ≤ N ≤ 5000) intersections, conveniently numbered 1..N. Bessie starts at intersection 1, and her friend (the destination) is at intersection N.</p><p>The second-shortest path may share roads with any of the shortest paths, and it may backtrack i.e., use the same road or intersection more than once. The second-shortest path is the shortest path whose length is longer than the shortest path(s) (i.e., if two or more shortest paths exist, the second-shortest path is the one whose length is longer than those but no longer than any other path).  </p><p>input:<br>Line 1: Two space-separated integers: N and R<br>Lines 2.. R+1: Each line contains three space-separated integers: A, B, and D that describe a road that connects intersections A and B and has length D (1 ≤ D ≤ 5000)   </p><p>Output:<br>Line 1: The length of the second shortest path between node 1 and node N   </p><p>Sample input:<br>4 4<br>1 2 100<br>2 4 200<br>2 3 250<br>3 4 100  </p><p>Sample output:<br>450   </p><p>题目大意：给出点以及点之间的距离，求出点1和点n之间次短路的距离。  </p><p>分析：此题是次短路的模板题，要求此短路只需用dij或sfa在跑出最短路径之后加上一个判断此段路径的条件有语句即可。开两个数组，一个储存最短路径，一个储存次短路径。注意：对于有的点可能没有次短路径，因而对于没有次短路径的数组元素，在代码中的体现为无穷大,具体实现实现见代码。  </p><pre><code class="c++"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;<span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">100010</span>;<span class="keyword">int</span> n,m,u,v,w;<span class="keyword">int</span> dis1[maxn],dis2[maxn];<span class="class"><span class="keyword">struct</span> <span class="title">P</span></span><span class="class">{</span><span class="keyword">int</span> to,cost;<span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> P &amp;a) <span class="keyword">const</span>{    <span class="keyword">return</span> cost&gt;a.cost;    }    };<span class="built_in">vector</span>&lt;P&gt; edge[maxn];<span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">()</span></span><span class="function"></span>{    priority_queue&lt;P&gt; qu;    <span class="built_in">fill</span>(dis1,dis1+n+<span class="number">1</span>,INF);    <span class="built_in">fill</span>(dis2,dis2+n+<span class="number">1</span>,INF);    dis1[<span class="number">1</span>]=<span class="number">0</span>;    qu.push(P{<span class="number">1</span>,<span class="number">0</span>});    <span class="keyword">while</span>(!qu.empty())    {        P x=qu.top();        qu.pop();        <span class="keyword">int</span> v=x.to,d=x.cost;        <span class="keyword">if</span>(d&gt;dis2[v])<span class="comment">//此处判断类似于vis数组的作用，取出来的值如果是比次小值还大那么肯定是已经使用过，或没用的值。</span>        {            <span class="keyword">continue</span>;        }        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;edge[v].<span class="built_in">size</span>();i++)        {            P y=edge[v][i];            <span class="keyword">int</span> d2=y.cost+d;            <span class="keyword">if</span>(dis1[y.to]&gt;d2)            {                dis1[y.to]=d2;                qu.push(P{y.to,dis1[y.to]});            }            <span class="keyword">if</span>(dis1[y.to]&lt;d2&amp;&amp;dis2[y.to]&gt;d2)<span class="comment">//次短路的值在小于最短路的前提下，使用与求最短路相同的方法进行计算。</span>            {                dis2[y.to]=d2;                qu.push(P{y.to,dis2[y.to]});            }        }    }}<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><span class="function"></span>{    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)    {        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)        {            edge[i].<span class="built_in">clear</span>();        }        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)        {            <span class="built_in">cin</span>&gt;&gt;u&gt;&gt;v&gt;&gt;w;            edge[u].push_back(P{v,w});            edge[v].push_back(P{u,w});        }        Dijkstra();        <span class="built_in">cout</span>&lt;&lt;dis2[n]&lt;&lt;<span class="built_in">endl</span>;    }    <span class="keyword">return</span> <span class="number">0</span>;}</code></pre>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 次短路 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蓝桥杯模拟：字符串</title>
      <link href="/2020/02/29/%E8%93%9D%E6%A1%A5%E6%9D%AF%E6%A8%A1%E6%8B%9F%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>/2020/02/29/%E8%93%9D%E6%A1%A5%E6%9D%AF%E6%A8%A1%E6%8B%9F%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<h1 id="计蒜客蓝桥杯模拟：字符串"><a href="#计蒜客蓝桥杯模拟：字符串" class="headerlink" title="计蒜客蓝桥杯模拟：字符串"></a>计蒜客蓝桥杯模拟：字符串</h1><p>题目描述：</p><p>有一个长度为 $L$ 的字符串，每个字符是大写字母。如果我们把 $A$ 看做 $0$ ，$B$ 看做 $1$ ，$C$ 看做 $2$ … $Z$ 看做 $25$，那么我们就得到了一个 $26$ 进制的数字串。  </p><p>我们可以对这个字符串做一个操作：将两个位置的字母进行交换。这样得到了一个新的数字串。  </p><p>现在有一个十进制整数 $M$ ，请判断是否可以通过做至多一次（可以不做）操作，使得得到的字符串是 $M$ 的倍数。</p><p><code>输出格式</code>：  </p><p>第一行一个只包含大写字母的字符串。</p><p>第二行一个整数 $M$.  </p><p><code>输出格式</code>:</p><p>如果初始串就可以，那么输出 “0 0”（不加引号）</p><p>如果通过一次操作可以，请输出交换的两个位置的标号（标号小的在前，从 $1$ 开始）。如果有多解，输出字典序最小的。</p><p>如果做不到，那么输出 “-1 -1”（不加引号）</p><p><code>数据范围</code><br>字符串长度为$L$.<br>对于30%的数据：$1 \le L \ge 10$,$1 \le M \ge 100$  </p><p>对于50%的数据：除前面30%外，$1 \le L \ge 500$,$M = 5$或$25$或$260$  </p><p>对于100%的数据：$1 \le L \ge 2000,1 \le M \ge 200,000$  </p><p>样例输入：  </p><blockquote><p>NETTLE<br>35  </p></blockquote><p>样例输出：  </p><blockquote><p>1 2  </p></blockquote><p>样例解释：<br>交换$N$和第一个$E$。  </p><p>分析：  </p><ul><li><p>此题一看就是模拟题，但要注意数据范围以及运算时间的问题，如果使用pow（）函数的话不仅会超时，而且由于pow返回的是double类型的值会导致运算出错。因此使用一个数组在一开始就存储26的次方结果。同时此题还有一个坑就是字典序指的是标号的字典序而不是字符串的字典序。  </p></li><li><p>在求sum的时候只需将交换的两个值在不同位置的值求出来，将现在的两值之和减去原来的两值之和再加上sum，即为交换后的结果。</p></li><li><p>此题为了防止值超出范围还应活用mod。  </p></li></ul><p>关于mod的运算规则有如下几种：  </p><p>$(a + b)$ % $p=(a $% $p + b $%$ p) $%$ p $<br>$(a - b) $% $p=(a $% $p - b $%$ p) $% $p$<br>$(a \times b)$ % $p=(a $% $p \times b $%$ p) $% $p$<br>$(a \div b)$ % $p=(a $% $p \div b $%$ p) $% $p$  </p><p>为了防止出现负数一般对结果使用：<br>$ans = (ans$ % $\bmod$ $+$ $\bmod)$ %  $\bmod$  </p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 0x7fffffff</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll N = <span class="number">2000</span>+<span class="number">10</span>;</span><br><span class="line">ll mod, dic[N];</span><br><span class="line"><span class="keyword">char</span> ss[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s%lld"</span>, ss, &amp;mod);</span><br><span class="line">    ll len = <span class="built_in">strlen</span>(ss), x = <span class="number">1</span>, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=len<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        dic[i] = x, sum += x*(ss[i]-<span class="string">'A'</span>), sum %= mod, x = x*<span class="number">26</span>%mod;</span><br><span class="line">    <span class="keyword">if</span>(!sum)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0 0\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;len; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll j=i+<span class="number">1</span>; j&lt;len; ++j)&#123;</span><br><span class="line">            ll ans = sum;</span><br><span class="line">            ans = ans-dic[i]*(ss[i]-<span class="string">'A'</span>)-dic[j]*(ss[j]-<span class="string">'A'</span>);</span><br><span class="line">            ans = ans+dic[i]*(ss[j]-<span class="string">'A'</span>)+dic[j]*(ss[i]-<span class="string">'A'</span>), ans = ans%mod;</span><br><span class="line">            <span class="keyword">if</span>(!ans)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld %lld\n"</span>, i+<span class="number">1</span>, j+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"-1 -1\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 字符串 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql命令</title>
      <link href="/2020/02/27/mysql%E5%91%BD%E4%BB%A4/"/>
      <url>/2020/02/27/mysql%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h1><h2 id="登录到本机上的mysql"><a href="#登录到本机上的mysql" class="headerlink" title="登录到本机上的mysql:"></a>登录到本机上的mysql:</h2><blockquote><p>在配置好环境变量的前提下，打开命令行窗口：<br>mysql -h localhost -u root -p<br>随后输入mysql密码。  </p></blockquote><h2 id="创建数据库："><a href="#创建数据库：" class="headerlink" title="创建数据库："></a>创建数据库：</h2><blockquote><p>create database &lt;数据库名&gt;  </p></blockquote><h2 id="显示数据库："><a href="#显示数据库：" class="headerlink" title="显示数据库："></a>显示数据库：</h2><blockquote><p>show databases;  </p></blockquote><h2 id="删除数据库："><a href="#删除数据库：" class="headerlink" title="删除数据库："></a>删除数据库：</h2><blockquote><p>drop database &lt;数据库名&gt;  </p></blockquote><h2 id="删除一个不确定是否存在的数据库名："><a href="#删除一个不确定是否存在的数据库名：" class="headerlink" title="删除一个不确定是否存在的数据库名："></a>删除一个不确定是否存在的数据库名：</h2><blockquote><p>drop database if exists tmp  </p></blockquote><p>如果不存在此数据库的话，会返回一个警告显示此数据库不存在。  </p><h2 id="连接数据库："><a href="#连接数据库：" class="headerlink" title="连接数据库："></a>连接数据库：</h2><blockquote><p>use &lt;数据库名&gt;  </p></blockquote><h2 id="显示当前正在使用的数据库"><a href="#显示当前正在使用的数据库" class="headerlink" title="显示当前正在使用的数据库:"></a>显示当前正在使用的数据库:</h2><blockquote><p>select database();  </p></blockquote><h2 id="创建数据表："><a href="#创建数据表：" class="headerlink" title="创建数据表："></a>创建数据表：</h2><blockquote><p>create table&lt;表名&gt;）(&lt;字段名1&gt; &lt;类型1&gt; [,..&lt;字段名n&gt; &lt;类型n&gt;])  </p></blockquote><h2 id="向数据表中添加数据："><a href="#向数据表中添加数据：" class="headerlink" title="向数据表中添加数据："></a>向数据表中添加数据：</h2><blockquote><p>insert into 表名 values(…..);//insert一次只能插入一条记录。   </p></blockquote><h2 id="查看表中所有数据："><a href="#查看表中所有数据：" class="headerlink" title="查看表中所有数据："></a>查看表中所有数据：</h2><blockquote><p>select *from 表名  </p></blockquote><h2 id="按顺序查找（可按多个列查找）："><a href="#按顺序查找（可按多个列查找）：" class="headerlink" title="按顺序查找（可按多个列查找）："></a>按顺序查找（可按多个列查找）：</h2><blockquote><p>select 列名 from 表名 order by 列名1，列名2  </p></blockquote><h2 id="按降序查找："><a href="#按降序查找：" class="headerlink" title="按降序查找："></a>按降序查找：</h2><blockquote><p>select 列名 from 表名 order by 列名1，列名2  desc;<br>想要按照某一列进行降序则在该列后面加上desc的关键字，desc只对直接位于其之前的列名有作用，如果想在多个列上进行降序排序则需要为每个列执行desc关键词。</p></blockquote><h2 id="查询固定某项的数据："><a href="#查询固定某项的数据：" class="headerlink" title="查询固定某项的数据："></a>查询固定某项的数据：</h2><blockquote><p>select 类型 （as 别名） from 表名  </p></blockquote><p>如果想要使得到的数据去重：  </p><blockquote><p>select distinct 类型 from 表名  </p></blockquote><h2 id="删除表中数据"><a href="#删除表中数据" class="headerlink" title="删除表中数据:"></a>删除表中数据:</h2><blockquote><p>delete from 表名 where 类型名 =…  </p></blockquote><h2 id="想要将某些类型进行拼接输出有如下函数："><a href="#想要将某些类型进行拼接输出有如下函数：" class="headerlink" title="想要将某些类型进行拼接输出有如下函数："></a>想要将某些类型进行拼接输出有如下函数：</h2><blockquote><p>select concat(…,…,…) as …(别名) from emp;  </p></blockquote><h2 id="修改表中数据"><a href="#修改表中数据" class="headerlink" title="修改表中数据:"></a>修改表中数据:</h2><blockquote><p>update 表名 set 字段=新值 where 条件<br>update myclass set name=’we’ where id=1;    </p></blockquote><h2 id="过滤数据"><a href="#过滤数据" class="headerlink" title="过滤数据"></a>过滤数据</h2><h3 id="where关键字："><a href="#where关键字：" class="headerlink" title="where关键字："></a>where关键字：</h3><p>where子句操作符：<br>除了常见的=，！=，&lt;=,&gt;=,!&gt;,!&lt;还有between(在指定两值之间)，is null(为null值),&lt;&gt;(不等于)  </p><blockquote><p>between:select price form products where price between 2 and 12;//查找出来的数据的价格处于2~12之间。  </p></blockquote><blockquote><p>is null: select name from products where name is null;//查找名称列为空的数据。    </p></blockquote><h2 id="高级数据过滤"><a href="#高级数据过滤" class="headerlink" title="高级数据过滤"></a>高级数据过滤</h2><h3 id="组合where子句"><a href="#组合where子句" class="headerlink" title="组合where子句"></a>组合where子句</h3><p>AND操作符：<br>为了通过不止一个列进行过滤，可使用AND操作符给where子句附加条件。  </p><blockquote><p>select prod_id,prod_price,prod_name from products where vend_id=’DLL01’ AND prod_price&lt;=4;  </p></blockquote><p>OR操作符：<br>类似于and表示几个条件满足其一。<br>当or与and合用时要注意and的优先级大于or，因而妥善的利用（）至关重要。  </p><p>in操作符：<br>IN操作符用来指定条件范围，范围中的每个条件都可以进行匹配。IN取合法值的由逗号分隔的清单，全部括在括号内。   </p><blockquote><p>select prod_name, prod_price from products where vend_id IN (‘DLL01’,’BRS01’) ;  </p></blockquote><p>not操作符：<br>not操作符等同于&lt;&gt;，它的作用只有一个那就事否定其后的语句。  </p><blockquote><p>select prod_name from products where not vend_id =’DLL01’ order by prod_name;  </p></blockquote><h2 id="通配符过滤"><a href="#通配符过滤" class="headerlink" title="通配符过滤"></a>通配符过滤</h2><p>之前介绍的过滤方法都是已知取值范围或具体数值的，为了适用更普遍的情况，因而引入了通配符。通配符：用来匹配值的一部分的特殊字符。此外通配符只能用于文本字段，非文本数据类型字段则不能使用通配符搜索。  </p><h3 id="LIKE操作符"><a href="#LIKE操作符" class="headerlink" title="LIKE操作符"></a>LIKE操作符</h3><h3 id="通配符"><a href="#通配符" class="headerlink" title="%通配符"></a>%通配符</h3><p>搜索串中，%表示任何字符出现任意次数。为了寻找以Fish起头的产品可以使用如下语句：  </p><blockquote><p>select prod_id,prod_name from products where prod_name like ‘Fish%’;</p></blockquote><p>通配符还可以放在搜索模式的中间，可以用来寻找以一个字母为开头以另外一个字母为结尾的结果。  </p><blockquote><p>select prod_name From products where prod_name like ‘F%y’;//搜寻以F开头以y结尾的结果。  </p></blockquote><h3 id="下划线（——）通配符"><a href="#下划线（——）通配符" class="headerlink" title="下划线（——）通配符"></a>下划线（——）通配符</h3><p>下划线与%用途相同，但下划线只匹配单个字符而不是多个字符。  </p><blockquote><p>select prod_id,prod_name,from products where prod_name like ‘_ inch teddy bear’;  </p></blockquote><h3 id="方括号（-）通配符"><a href="#方括号（-）通配符" class="headerlink" title="方括号（[]）通配符"></a>方括号（[]）通配符</h3><p>[]用来指定一个字符集，它必须匹配指定位置的一个字符。<br>例如，找出所有名字以J或M开头的联系人，可如下查询：  </p><blockquote><p>select cust_contact from customer Like ‘[JM]%’ order by cust_contact;  </p></blockquote><p>但并非所有的DBMS都支持这一语句，mysql就不支持，但在access之类的Microsoft系支持。  </p><h2 id="计算字段"><a href="#计算字段" class="headerlink" title="计算字段"></a>计算字段</h2><h3 id="拼接字段"><a href="#拼接字段" class="headerlink" title="拼接字段"></a>拼接字段</h3><p>concatenate将值连接到一起构成单个值。<br>一般使用+以及||进行拼接。但在mysql使用函数concat（）；</p><blockquote><p>select concat(vend_name,’(‘,vend_country,vend_country,’)’);  </p></blockquote><h3 id="执行算术运算"><a href="#执行算术运算" class="headerlink" title="执行算术运算"></a>执行算术运算</h3><p>计算字段的另一个常见用途是对检索出来的数据进行计算。如下：  </p><blockquote><p>select prod_id,quantity,item_price,quantity*item_price as expanded_price from orderitems where order_num=20008;  </p></blockquote><h2 id="使用函数"><a href="#使用函数" class="headerlink" title="使用函数"></a>使用函数</h2><p>大多数sql实现并支持以下类型的函数：  </p><ol><li>处理文本字符串的函数。  </li><li>用于数值操作的数值函数。  </li><li>用于处理日期以及时间的函数。  </li><li>返回DBMS正在使用的特殊信息的函数（如返回用户登录信息）的系统函数。  </li></ol><h3 id="函数带来的问题"><a href="#函数带来的问题" class="headerlink" title="函数带来的问题"></a>函数带来的问题</h3><p>不同于select操作，不同的数据库管理系统有着不同的函数，因而各个函数的实现各不相同，因而在使用时需要多加注意。在本篇博客中主要使用mysql函数。  </p><h3 id="常用的文本处理函数："><a href="#常用的文本处理函数：" class="headerlink" title="常用的文本处理函数："></a>常用的文本处理函数：</h3><p>left()      返回串左边的字符；<br>length()    返回字符串的长度。<br>lower()     将串转化为小写。<br>ltrim()     去掉串左边的空格。<br>right()     返回串右边的字符。<br>rtrim()     去掉右边的空格。<br>soundex()   返回串的soundex值。<br>upper()     将串转化为大写。<br>其中soundex是一个将任何文本串转换为描述其语言表示的字母数字模式的算法。其一般应用于在对于某项数据出现拼写错误，在获悉其正确名称后用soundex来限定读音相近的结果进行搜索。  </p><blockquote><p>select cust_name,cust_contact from customer where soundex(cust_contact)==soundex(‘Michelle Green’));//搜寻读音同MIchelle Green相近的结果。  </p></blockquote><h3 id="日期处理函数"><a href="#日期处理函数" class="headerlink" title="日期处理函数"></a>日期处理函数</h3><p>mysql用户使用year()的函数从日期中提取年份。<br>select order_num from orders where year(order_date)=2004;  </p><h3 id="数值处理函数"><a href="#数值处理函数" class="headerlink" title="数值处理函数"></a>数值处理函数</h3><p>数值处理函数仅处理数值数据。  </p><p>常用的数值处理函数：<br>ABS()       返回一个数的绝对值<br>COS()       返回一个角度的余弦函数<br>SIN()       返回一个角度的正弦函数<br>EXP()       返回一个数的指数值<br>PI()        返回圆周率<br>SQRT()      返回平方根<br>TAN()       返回一个角度的正切值    </p><h2 id="汇总数据"><a href="#汇总数据" class="headerlink" title="汇总数据"></a>汇总数据</h2><h3 id="聚集函数"><a href="#聚集函数" class="headerlink" title="聚集函数"></a>聚集函数</h3><p>我们经常需要汇总数据却不一定要将他们检索出来，因而sql提供了专门的函数。例如：</p><ul><li>确定表中的行数。  </li><li>获得表中行组的和。  </li><li>找出表列的最大、最小、平均值。  </li></ul><p>聚集函数：<br>AVG()       返回某列的平均值<br>COUNT()     返回某列的行数<br>MAX()       返回某列最大值<br>MIN()       返回某列最小值<br>SUM()       返回某列之和   </p><p>例子：<br>AVG()  </p><blockquote><p>select AVG(prod_price) AS avg_price From products;  </p></blockquote><p>COUNT()  </p><blockquote><p>select count(*) AS num_cust from Customers;//返回行数。  </p></blockquote><h3 id="聚集不同值"><a href="#聚集不同值" class="headerlink" title="聚集不同值"></a>聚集不同值</h3><p>以上的5个聚集函数如果想要将他们全部进行运算，指定ALL参数，或者不指定参数（ALL默认）。如果想对无重复值进行运算需要distinct参数。  </p><blockquote><p>select AVG(DISTINCT prod_price) As avg_price FROM products where vend_id=’DLL01’;//只计算不同价格的平均值。  </p></blockquote><h3 id="创建分组"><a href="#创建分组" class="headerlink" title="创建分组"></a>创建分组</h3><p>分组是在select语句的group by子句中建立的。  </p><blockquote><p>select vend_id ,count(*) as num_prods from products group by vend_id;  </p></blockquote><p>by后面的所有列的组合为唯一的。</p><h3 id="过滤分组"><a href="#过滤分组" class="headerlink" title="过滤分组"></a>过滤分组</h3><p>除了使用group by 进行分组以外，sql还允许过滤分组，规定包括哪些分组，排除哪些分组。在此引用入了HAVING语句，之前所有的where语句均可以使用HAVING语句进行替换。</p><blockquote><p>select cust_id,count(<em>) AS orders from orders group by cust_id Having<br>Count(</em>) &gt;=2;    </p></blockquote><blockquote><p>select vend_id,count(<em>) as num_prods from products where prod_price&gt;=4 group by vend_id having count(\</em>) &gt;=2;  </p></blockquote><p>Having和where的区别：where在数据分组之前进行过滤，Having在数据进行分组之后进行过滤。Where排除的行不包括在分组之中。</p><h3 id="select子句的顺序"><a href="#select子句的顺序" class="headerlink" title="select子句的顺序"></a>select子句的顺序</h3><ul><li>select  </li><li>from   </li><li>where  </li><li>group by  </li><li>having    </li><li>order by  </li></ul><h2 id="使用子查询"><a href="#使用子查询" class="headerlink" title="使用子查询"></a>使用子查询</h2><p>所谓的子查询即为嵌套在其他查询之中的查询。  </p><h3 id="利用子查询进行过滤"><a href="#利用子查询进行过滤" class="headerlink" title="利用子查询进行过滤"></a>利用子查询进行过滤</h3><p>子查询的实质即为将多个查询合并为一个查询。子查询总是由内向外进行处理的。  </p><blockquote><p>select cust_id from orders where order_num in(select order_num from orderItems where prod_id=’RGAN01’);    </p></blockquote><p>三个查询嵌套：  </p><blockquote><p>select cust_name,cust_contact from customers where cust_id in(select cust_id from orders where order_num in(select order_num from orderItems where prod_id=’RGAN01’));   </p></blockquote><p>值得注意的是作为子查询的select语句只能查询单个列，企图检索多个列将返回错误。</p><h3 id="作为计算字段使用子查询"><a href="#作为计算字段使用子查询" class="headerlink" title="作为计算字段使用子查询"></a>作为计算字段使用子查询</h3><p>使用子查询的另一方法是创建计算字段。  </p><blockquote><p>select cust_name,cust_state,(select count(*) from orders where orders.cust_id==customer.cust_id) as orders from customers order by cust_name;</p></blockquote><h2 id="联结表"><a href="#联结表" class="headerlink" title="联结表"></a>联结表</h2><h3 id="创建联结"><a href="#创建联结" class="headerlink" title="创建联结"></a>创建联结</h3><p>联结的创建非常简单，规定要联结的所有表以及他们如何关联即可。  </p><blockquote><p>select vend_name,prod_name,prod_price from vendors,products where vendors.vend_id==products.vend_id;   </p></blockquote><p>此处代码所检索的列与之前的略有不同，vend_name来自于表vendors,而其他的都来自与products表，引入头from语句指向了两个不同的表，并使用where进行了正确的联结。  </p><h3 id="内部联结"><a href="#内部联结" class="headerlink" title="内部联结"></a>内部联结</h3><p>目前所涉及到的联结都称为等值联结，它基于两个表之间的相等测试。这种联结也称为内部联结，对于这种联结可以使用稍微不同的语法来指明指定联结的类型。  </p><blockquote><p>select vend_name,prod_name,prod_price from vendors INNER JOIN products on vendors.vend_id=products.vend_id;   </p></blockquote><p>此条代码与上面的代码运行结果相同，仅仅是语法不同，此处两表之间的关系是from子句的组成部分，以INNER JOIN指定。在使用这种语法时，联结的条件用特定的语句on子句而不是WHERE子句。  </p><h3 id="联结多个表"><a href="#联结多个表" class="headerlink" title="联结多个表"></a>联结多个表</h3><p>SQL对一条select语句中可以联结的表的数目没有限制。创建联结的规则也基本相同。首先列出所有的表，然后定义表之间的关系。  </p><blockquote><p>select prod_name,vend_name,prod_price,quantity from orderItems,products,vendors where products.vend_id=vendors.vend_id and orderitems.prods_id=products.prod_ids and order_num=2007;</p></blockquote><h2 id="创建高级联结"><a href="#创建高级联结" class="headerlink" title="创建高级联结"></a>创建高级联结</h2><h3 id="使用表别名"><a href="#使用表别名" class="headerlink" title="使用表别名"></a>使用表别名</h3><p>之前介绍过使用列别名，别名除了用于列名以及计算字段之外，sql还允许给表名起别名。理由主要有两个：  </p><ul><li>缩短sql语句  </li><li>允许在单条select语句中多次使用相同的表。  </li></ul><blockquote><p>select cust_name ,cust_concat from customers AS c,orders As o, orderitems as oi where c.cust_id=o.cust_id and oi.order_nam=O.order_num and  pord_id=’RGAN01’;  </p></blockquote><p>需要注意的是表别名只在查询执行中使用。与列别名不同，表别名不返回到客户机之中。   </p><h2 id="组合查询"><a href="#组合查询" class="headerlink" title="组合查询"></a>组合查询</h2><p>多数sql查询都只包含从一个或多个表中返回数据的单条select语句。但是，sql也允许执行多查询，并将结果作为单个查询结果集返回。这些组合查询通常称为并或复合查询。<br>有两种基本情况，其中需要使用组合查询：  </p><ul><li>在单个查询中从不同的表类返回结构数据。   </li><li>对单个表执行多个查询，按单个查询返回数据。  </li></ul><h3 id="创建组合查询"><a href="#创建组合查询" class="headerlink" title="创建组合查询"></a>创建组合查询</h3><p>用UNION操作符来组合数条SQL查询。  </p><p>下面两个例子的结果相同：  </p><blockquote><p>select cust_name,cust_contact from customers where cust_state in(‘IL’,’IN’,’MI’);  </p></blockquote><blockquote><p>select cust_name,cust_contact from customers where cust_name=’Fun4All’;  </p></blockquote><blockquote><p>select cust_name,cust_contact from customers where cust_state in(‘IL’,’IN’,’MI’) UNION<br>select cust_name,cust_contact from customers where cust_name=’Fun4All’;  </p></blockquote><p>当我们使用union后得到的结果会自动去除重复的元组，如果想输出重复的元组只需将union换成union all 即可。<br>另外需要注意的是组合查询中的select语句必须包含相同的列、表达式或聚集函数。</p><p>对于组合查询的排序（order by）只能出现在最后一句的末尾。  </p><h2 id="数据插入"><a href="#数据插入" class="headerlink" title="数据插入"></a>数据插入</h2><p>INSERT可以插入：  </p><ul><li>插入完整的行  </li><li>插入行的一部分  </li><li>插入某些查询的结果  </li></ul><p>insert插入的值不能和已经存在的值的主键的值重复。</p><p>插入完整的行：  </p><blockquote><p>insert into customers<br>values(‘1000006’,’’Toy Land’,’123 any street’,’new york’,’NY’,’11111’,’USA’,NULL,NULL);  </p></blockquote><p>上述语句存在安全性问题：语句高度依赖插入的顺序，更为安全的方法是：  </p><blockquote><p>insert into customers(cust_id,<br>cust_name,<br>cust_address,<br>cust_city,<br>cust_state,<br>cust_zip,<br>cust_country,<br>cust_contact,<br>cust_email)<br>values(‘….’,’..’,….);     </p></blockquote><p>插入部分行：  </p><blockquote><p>insert into customers(cust_id,<br>cust_name)<br>values(‘’,’’);  </p></blockquote><p>需要注意的是没有插入的行必须支持null或存在默认值。  </p><p>插入检索出的数据：<br>insert select 插入搜索出来的值：    </p><blockquote><p>INSERT into customers(cust_id,cust_contact……)<br>select cust_id,cust_contact,cust_email…from custnew; </p></blockquote><p>此处select出的列不一定需要与插入的列一一对应。<br>一般的INSERT语句只插入一行数据，但insert select则是搜寻出来多少项就插入多少。  </p><p>从一个表复制到另一个表：<br>有一种不使用insert语句的数据插入。select into。<br>与insert select增补数据到一个已经存在的表不同，select into将复制数据到一个新表。  </p><blockquote><p>select *into custCopy from customers;    </p></blockquote><p>此处复制的是所有的内容，如果只是想复制单独的几列可以一一列举。<br>mysql语句：  </p><blockquote><p>create Table Custcopy as select *from customers;</p></blockquote><h2 id="更新和删除数据"><a href="#更新和删除数据" class="headerlink" title="更新和删除数据"></a>更新和删除数据</h2><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p>为了更新（删除）表中的数据，可使用update语句。可采用两种方式使用update：</p><ul><li>更新表中特定行；  </li><li>更新表中所有行；</li></ul><p>客户10005现在有了电子邮件地址，因此数据需要更新： </p><blockquote><p>update Customers set cust_email=’Kim@qq.com’ where cust_id=’10005’;  </p></blockquote><p>也可以更新多个列： </p><blockquote><p>update Customers set cust_contact=’sam roberts’ ,cust_email=’sam@gmail.com’ where cust_id=’10006’l;</p></blockquote><p>还可以通过设置null删除某列的值： </p><blockquote><p>update customer set cust_email=NULL where cust_id=’10005’;  </p></blockquote><p>如果想要将删去的某列的某空值加回来</p><blockquote><p>update customer set cust_email=’Sam@gmail.com’ where cust_email is null;</p></blockquote><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>从一个表中删除（去除）数据，使用delete语句：</p><blockquote><p>delete from customers where cust_id=’10005’;</p></blockquote><p>如果想要删除表中的所有数据则需要使用truncate tables;  </p><p>当删除有外链关联的数据或表示，会出现报错：Cannot delete or update a parent row: a foreign key constraint fails  </p><p>解决方法：</p><blockquote><p>set foreign_key-checks=0;//先设置外链约束检查关闭</p></blockquote><blockquote><p>drop table mytable;//删除数据、表或者视图；</p></blockquote><blockquote><p>set foreign_key_checks=1;//开启外检约束检查，以保持表结构的完整性；</p></blockquote><h2 id="创建和操纵表"><a href="#创建和操纵表" class="headerlink" title="创建和操纵表"></a>创建和操纵表</h2><h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><p>例如下面对一个products表的实例：  </p><blockquote><p> create table products(</p><p>prod_id    char(10)        not null,</p><p>vend_id    char(10)        not null,</p><p>prod_name    char(254)   not null,</p><p>prod_price    decimal(8,2)   not null,</p><p>prod_desc varchar(1000)    not null</p><p> );</p></blockquote><p>混合null和not null:</p><blockquote><p>create table products(prod_id    char(10)       ,</p><p>vend_id    char(10)       ,</p><p>prod_name    char(254)   not null,</p><p>prod_price    decimal(8,2)   not null,</p><p>prod_desc varchar(1000)    </p><p> );</p></blockquote><p>不指定null即为not null;  </p><p>指定默认值：  </p><blockquote><p>create table orderitems(</p><p>order_num    integer      not null,</p><p>order_item     integer     not null,</p><p>prod_id           char(10)    not null,</p><p>quantity          integer      not null      default 1,</p><p>item_price       decimal(8,2)      not null</p><p>);</p></blockquote><p>对于日期或时间戳列。可以通过指定引用系统日期的函数或者变量，将系统日期用作默认日期。例如mysql用户指定default current_date();  </p><h3 id="更新表"><a href="#更新表" class="headerlink" title="更新表"></a>更新表</h3><p>为了对表进行更新定义，可以使用alter table语句。  </p><p>给已有的表增加列：  </p><blockquote><p>alter table vendors add vend_phone  char(20);</p></blockquote><p>其他操作，例如更改或删除列，增加约束或增加键，也可以使用类似的语法  </p><blockquote><p>alter table vendors drop column vend_phone;  </p></blockquote><p>注意：删除操作并非所有的DBMS都支持。  </p><h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><blockquote><p>drop table custcopy</p></blockquote><h3 id="重命名表"><a href="#重命名表" class="headerlink" title="重命名表"></a>重命名表</h3><p>每个DBMS所支持的表的重命名有所不同。对于这个操作，不存在严格的标准。DB2、MYSQL、Oracle用户支持rename语句，SQL_SERVER支持sp_rename语句，所有重命名操作的基本语法都要求指定旧表名以及新表名。</p><p>mysql中的rename方法： </p><blockquote><p>rename table customers to customer;</p></blockquote><h2 id="使用视图"><a href="#使用视图" class="headerlink" title="使用视图"></a>使用视图</h2><h3 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h3><p>视图是虚拟的表，与包含数据的表不一样，视图只包含使用时动态检索数据的查询。</p><p>使用视图的优点: </p><ul><li>重用sql语句</li><li>简化复杂的sql操作。在编写查询后，可以方便地重用它而不必知道它的基本查询细节。</li><li>使用表的组成部分而不是整个表。</li><li>保护数据。可以给用户授予表的特定部分的访问权限而不是整个表的访问权限。</li><li>更改数据格式和表示。视图可返回与底层表的表示和格式不同的数据。</li></ul><h3 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h3><p>视图用create view 语句来进行创建，create view只能用于创建不存在的视图。使用drop view viewname来删除视图。若要更新或覆盖视图：必须先drop它，然后再重建它。</p><h3 id="利用视图简化复杂的联结"><a href="#利用视图简化复杂的联结" class="headerlink" title="利用视图简化复杂的联结"></a>利用视图简化复杂的联结</h3><p>视图最常见的应用之一是隐藏复杂的sql，这通常都涉及联结；</p><blockquote><p>create view productcustomers as select cust_name,cust_contact,prod_id from customers,orders ,orderitems where customers.cust_id=orders.cust_id and orderitems.order_num=orders.order_num;</p></blockquote><p>掌握了创建视图的方法以后视图的使用，搜索就和正常的表一样了，可以进行条件查找，运算，需要注意的是视图的使用在有的时候会造成效率的低下。</p><h3 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h3><blockquote><p>drop view  productcustomers;</p></blockquote><h2 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h2><blockquote><p>create procedure mailinglistcount(listcount out number)</p><p>is </p><p>begin</p><p>​        select * from customers</p><p>​        where not cust_email is null;</p><p>​        Listcount:=SQL%ROWCOUNT;</p><p>END;</p></blockquote><p>此处是oracle版本的代码，此存储过程中有一个名为ListCount的参数。此参数从存储过程返回一个值而不是传递一个值给存储过程。</p><p>所谓的存储过程与普通查询的区别就类似于python在pycharm编程和在命令行编程的区别，使用存储过程就是将一组查询或修改语句封装成一个函数，可以选择输入输出，方便对大量，大批数据的操作。</p><p>下面通过mysql的可视化工具Navicat进行举例，在Navicat新建函数，选择过程，选择输入选项，设置变量名称，在函数体中实现简单的查询操作：</p><blockquote><p>CREATE DEFINER=<code>root</code>@<code>localhost</code> PROCEDURE <code>NewProc</code>(IN <code>numofor</code> int)<br>BEGIN<br>#Routine body goes here…<br>select order_num,cust_id,order_date from orders where order_num=numofor;<br>select cust_id,count(cust_id) from orders group<br>by cust_id;<br>END</p></blockquote><h2 id="管理事务处理"><a href="#管理事务处理" class="headerlink" title="管理事务处理"></a>管理事务处理</h2><h3 id="事务处理"><a href="#事务处理" class="headerlink" title="事务处理"></a>事务处理</h3><p>事务处理可以用来维护数据库的完整性，它保证成批的sql操作要么完全执行，要么完全不执行。事务处理是一种机制，用来管理必须成批执行的sql操作，以保证数据库不包含不完整的操作结果。利用事务处理，可以保证一组操作不会中途停止，他们或者作为整体执行，或者完全不执行。如果没有错误发生，整组语句提交给数据库表。如果发生错误，则进行回退以恢复数据库到某个已知的安全状态。</p><p>事务处理有几大术语：</p><ul><li>事物：指一组sql语句；</li><li>回退：指撤销指定sql语句的过程；</li><li>提交：指将为存储的sql语句结果写入数据库表；</li><li>保留点：值事务处理中设置的临时站位符，你可以对它发布回退。        </li></ul><h3 id="控制事务处理"><a href="#控制事务处理" class="headerlink" title="控制事务处理"></a>控制事务处理</h3><p>管理事务处理的关键在于将sql语句组分解为逻辑块，并明确规定数据应当何时回退，何时不应回退。</p><p>mysql：</p><blockquote><p>START TRANSACTION</p><p>…………</p><p>COMMIT TRANSACTION</p></blockquote><h3 id="使用ROLLBACK"><a href="#使用ROLLBACK" class="headerlink" title="使用ROLLBACK"></a>使用ROLLBACK</h3><p>sql的ROLLBACK命令用来回退（撤销）sql语句：</p><blockquote><p>delete erom orders;</p><p>rollback;</p></blockquote><p>需要注意的是事务处理用来管理insert、update、delete语句。不能回退selete（没有意义），也不能回退create和drop操作（已经成为最终结果）。</p><h3 id="使用commit"><a href="#使用commit" class="headerlink" title="使用commit"></a>使用commit</h3><p>一般的mysql语句都是直接针对数据库表执行编写的。这就是所谓的隐含提交，及提交操作是自动进行的。但在事务处理块中，提交不会隐含德进行。为进行明确的提交，使用commit语句，</p><p>当commit或rollback语句执行后，事物会自动关闭（将来的更改会隐含提交）；</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">start transaction;</span><br><span class="line">delete from orderitems where order_num &#x3D; 20010;</span><br><span class="line">delete from orders where order_num &#x3D; 20010;</span><br><span class="line">commit;</span><br></pre></td></tr></table></figure></div><p>因为涉及了两个数据库表，为了保证订单不被部分删除。最后的commit语句仅在不出错是作出更改，即第一条delete成功，第二条出错，delete也不会被提交（被自动撤销）；</p><h3 id="使用保留点"><a href="#使用保留点" class="headerlink" title="使用保留点"></a>使用保留点</h3><p>简单的rollback和commit语句就可以写入或撤销整个事务处理。但是，只是对简单的事物处理才能这么做，更为复杂的事务可能需要部分提交和回退。</p><p>为了支持回退部分事务处理，必须能在事务处理块中合适的位置放置占位符。这样，如果需要回退，可以回退到某个占位符。 </p><p>创建占位符：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">savepoint delete1;</span><br></pre></td></tr></table></figure></div><p>回退到保留点：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rollback to delete;</span><br></pre></td></tr></table></figure></div><p>tips:</p><p>保留点越多越好，因为可以进行灵活的回退。</p><p>例子：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">delete from student where id&#x3D;3;</span><br><span class="line">savepoint delete1;</span><br><span class="line">delete from student where id&#x3D;4;</span><br><span class="line">savepoint delete2;</span><br><span class="line">insert into student (id,name,address,phone) values(77,&#39;hf&#39;,&#39;vc&#39;,null);</span><br><span class="line">savepoint delete3;</span><br><span class="line">rollback to delete2;</span><br><span class="line">select *from student;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>并查集</title>
      <link href="/2020/02/22/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
      <url>/2020/02/22/%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h1 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h1><p>引爆炸弹：<br><a href="https://res.jisuanke.com/img/upload/20170327/5dba781484cd6db80572f3bd5fe136b93e3b2e60.png" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" title="alt photo" data-src="https://res.jisuanke.com/img/upload/20170327/5dba781484cd6db80572f3bd5fe136b93e3b2e60.png" class="lazyload"></a>  </p><p>题目描述：<br>在一个$n \times n $的方格地图上，某些方格上放置着炸弹。手动引爆一个炸弹以后，炸弹会把炸弹所在的行和列上的所有炸弹引爆，被引爆的炸弹又能引爆其他炸弹，这样连锁下去。  </p><p>现在为了引爆地图上的所有炸弹，需要手动引爆其中一些炸弹，为了把危险程度降到最低，请算出最少手动引爆多少个炸弹可以把地图上的所有炸弹引爆。</p><p>输入格式<br>第一行输两个整数 n,m，用空格隔开。</p><p>接下来 n 行，每行输入一个长度为 m 的字符串，表示地图信息。0表示没有炸弹，1表示炸弹。</p><p>数据约定：</p><p>对于 60%60% 的数据：1 \le n, m \le 1001≤n,m≤100；</p><p>对于 100%100% 的数据：1 \le n, m \le 10001≤n,m≤1000；</p><p>数据量比较大，不建议用cin输入。</p><p>输出格式<br>输出一个整数，表示最少需要手动引爆的炸弹数。  </p><p>此题为并查集，进行归一化处理，将行数与列数看做一种数，所有的炸弹只要行数或列数有一个相同就会归为一个集合，只有行数、列数都不同的炸弹才属于新的集合。只需遍历所有炸弹位置，统计有多少炸弹集合。  </p><p>样例输入：<br>5   5<br>00010  </p><p>00010  </p><p>01001  </p><p>10001  </p><p>01000  </p><p>输出：2</p><p>代码：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 10010</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[<span class="number">10010</span>][<span class="number">10010</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">10010</span>]=&#123;<span class="literal">false</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">10010</span>];</span><br><span class="line"><span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;maxn;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        pre[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a=x;</span><br><span class="line">    <span class="keyword">while</span>(x!=pre[x])</span><br><span class="line">    &#123;</span><br><span class="line">        x=pre[x];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(a!=pre[a])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> z=a;</span><br><span class="line">        a=pre[a];</span><br><span class="line">        pre[z]=x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Union</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Fa=<span class="built_in">find</span>(a);</span><br><span class="line">    <span class="keyword">int</span> Fb=<span class="built_in">find</span>(b);</span><br><span class="line">    <span class="keyword">if</span>(Fa!=Fb)</span><br><span class="line">    pre[Fa]=Fb;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">     <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++) </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,<span class="built_in">map</span>[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'1'</span>) &#123;</span><br><span class="line">                Union(i,j+n);</span><br><span class="line">                <span class="comment">// cout&lt;&lt;i&lt;&lt;" "&lt;&lt;j&lt;&lt;" "&lt;&lt;pre[i]&lt;&lt;endl;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'1'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="keyword">int</span> a=<span class="built_in">find</span>(i);</span><br><span class="line">                <span class="keyword">if</span>(!vis[a])</span><br><span class="line">                &#123;</span><br><span class="line">                    vis[a]=<span class="literal">true</span>;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;res&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>POJ 1182食物链<br>题目：<br>动物王国中有三类动物A,B,C，这三类动物的食物链构成了有趣的环形。A吃B， B吃C，C吃A。  </p><p>现有N个动物，以1－N编号。每个动物都是A,B,C中的一种，但是我们并不知道它到底是哪一种。  </p><p>有人用两种说法对这N个动物所构成的食物链关系进行描述：  </p><p>第一种说法是”1 X Y”，表示X和Y是同类。  </p><p>第二种说法是”2 X Y”，表示X吃Y。  </p><p>此人对N个动物，用上述两种说法，一句接一句地说出K句话，这K句话有的是真的，有的是假的。当一句话满足下列三条之一时，这句话就是假话，否则就是真话。   </p><p>1） 当前的话与前面的某些真的话冲突，就是假话；<br>2） 当前的话中X或Y比N大，就是假话；<br>3） 当前的话表示X吃X，就是假话。<br>你的任务是根据给定的N（1 &lt;= N &lt;= 50,000）和K句话（0 &lt;= K &lt;= 100,000），输出假话的总数。   </p><p>输入：<br>100 7</p><p>1 101 1 </p><p>2 1 2</p><p>2 2 3 </p><p>2 3 3 </p><p>1 1 3 </p><p>2 3 1 </p><p>1 5 5</p><p>输出：<br>3</p><p>此题需明白的点为如果现在的说法与之前矛盾则为假话，因而将一开始最初说的话进行Union，然后每次添加新的情况时都要先进行判断，再进行添加。  </p><p>代码：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">150014</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">finda</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x=a;</span><br><span class="line">    <span class="keyword">while</span>(pre[x]!=x)</span><br><span class="line">    &#123;</span><br><span class="line">        x=pre[x];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">same</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> finda(n)==finda(m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">      <span class="keyword">int</span> f1=finda(x);</span><br><span class="line">      <span class="keyword">int</span> f2=finda(y);</span><br><span class="line">      <span class="keyword">if</span>(f1!=f2)</span><br><span class="line">       pre[f1]=f2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n*<span class="number">3</span>;i++)</span><br><span class="line">        pre[i]=i;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">100005</span>],b[<span class="number">100005</span>],c[<span class="number">100005</span>];</span><br><span class="line">    <span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;a[i],&amp;b[i],&amp;c[i]);</span><br><span class="line">        <span class="keyword">int</span> x=b[i]<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> y=c[i]<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">0</span>||x&gt;=n||y&lt;<span class="number">0</span>||y&gt;=n)</span><br><span class="line">        &#123;</span><br><span class="line">            num++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a[i]==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(same(x,y+n)||same(x,y+<span class="number">2</span>*n))</span><br><span class="line">                num++;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">            &#123;</span><br><span class="line">                merge(x,y);</span><br><span class="line">                merge(x+n,y+n);</span><br><span class="line">                merge(x+<span class="number">2</span>*n,y+<span class="number">2</span>*n);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">if</span>(a[i]==<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(same(x,y)||same(x,y+<span class="number">2</span>*n))</span><br><span class="line">                num++;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">            &#123;</span><br><span class="line">                merge(x,y+n);</span><br><span class="line">                merge(x+n,y+<span class="number">2</span>*n);</span><br><span class="line">                merge(x+<span class="number">2</span>*n,y);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,num);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 并查集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java方法参数</title>
      <link href="/2020/02/21/java%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0/"/>
      <url>/2020/02/21/java%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="java方法参数"><a href="#java方法参数" class="headerlink" title="java方法参数"></a>java方法参数</h1><p>程序设计语言中有关将参数传递给函数的方法有两种，一种是按值调用而另一种是按引用调用。<br>以c++作例子来说。  </p><ul><li><p>值调用：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Swap</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp=a;</span><br><span class="line">    a=b;</span><br><span class="line">    b=tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>引用调用</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Swap</span><span class="params">(<span class="keyword">int</span> &amp;a,<span class="keyword">int</span> &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp=a;</span><br><span class="line">    a=b;</span><br><span class="line">    b=tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>以上两种例子分别代表了大多数语言的参数传递方式，但对于java语言来说，尽管有一部分人认为java也存在引用传递，但通过具体事例来看java只存在值传递一种传递方式。  </p></li></ul><p>现定义一函数：   </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">tripleValue</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x=<span class="number">3</span>*x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//进行调用。</span></span><br><span class="line"><span class="keyword">double</span> percent=<span class="number">10</span>;</span><br><span class="line">tripleValue(percemt);</span><br></pre></td></tr></table></figure></div><p>在上述函数执行之后percent并没有变为原先的二倍，函数的具体过程如下：  </p><ol><li>x被初始化为percent值的一个拷贝。  </li><li>x被乘以3后等于30.但percent仍为10；</li><li>方法结束后局部变量x被丢弃。    </li></ol><p>即等价于：percent=10;x=10;x的变化并不会影响percent值的变化。  </p><p>一个方法不可能修改一个基本数据类型的参数，但作为对象的引用的参数结果就截然不同了。<br>定义了一个Employee类，类中有一薪金提高操作：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">raiseSalary</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    salary=salary*(<span class="number">1</span>+x/<span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>若要使职工新进提高两倍可使用如下方法：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">tripleSalary</span><span class="params">(Employee x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x.raiseSalary(<span class="number">200</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>当调用：</p><blockquote><p>harry=new Employee(…..);<br>tripleSalary(harry);  </p></blockquote><p>即如图所示：<br><a href="https://s2.ax1x.com/2020/03/01/32wYGj.png" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" title="alt photo" data-src="https://s2.ax1x.com/2020/03/01/32wYGj.png" class="lazyload"></a></p><p>具体执行过程为：</p><ol><li>x被初始化为harry值的拷贝，此处为对象的引用  </li><li>raiseSalary方法应用于对象引用时，x和harry同时引用了Employee对象的薪金函数，从而致使salary最终变为3倍。  </li><li>方法结束后，x倍销毁，但harry的引用会使salary一直保持3倍的状态。  </li></ol><p>即等价于：Employee x=harry;x.raiseSalary(200)==harry.raiseSalary(200);<br>当x调用了raiseSalary方法，其由于harry同样引用了Employee里的raiseSalary方法，因而他们都会发生变化。通俗来说是Employee内的东西发生了改变，致使所有引用它的对象都发生了改变。</p><p>使用swap函数仍然可以证明java使用引用传递：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="keyword">static</span> <span class="title">Swap</span><span class="params">(Employee A,Employee B)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Employee tmp=A;</span><br><span class="line">    A=B;</span><br><span class="line">    b=tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//引用：</span></span><br><span class="line">Employee x=<span class="keyword">new</span> Employee(...);</span><br><span class="line">Employee y=<span class="keyword">new</span> Employee(...);</span><br><span class="line">Swap(x,y);</span><br></pre></td></tr></table></figure></div><p>结果对象x与对象y并没有发生变化。  </p><p>其示意图如下：<br><a href="https://s2.ax1x.com/2020/03/01/32wJiQ.png" data-fancybox="group" data-caption="alt photo" class="fancybox"><img alt="alt photo" title="alt photo" data-src="https://s2.ax1x.com/2020/03/01/32wJiQ.png" class="lazyload"></a>  </p><p>其原理即如图所示，通过图示可以看出swap函数改变的仅仅是A和B向Employee指向的线，不论他们如何变化，都始终影响不到对象x和y。</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java：文件输入输出</title>
      <link href="/2020/02/19/java%EF%BC%9A%E6%96%87%E4%BB%B6%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/"/>
      <url>/2020/02/19/java%EF%BC%9A%E6%96%87%E4%BB%B6%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="java的文件输入输出"><a href="#java的文件输入输出" class="headerlink" title="java的文件输入输出"></a>java的文件输入输出</h1><h2 id="文件输入"><a href="#文件输入" class="headerlink" title="文件输入"></a>文件输入</h2><p>在java中要想对文件进行读取则需要使用File对象构造一个Scanner对象：<br><code>Scanner in=new Scanner(Paths.get(&quot;文件名/文件位置&quot;)，&quot;字符编码形式&quot;);</code><br>在文件读取时既可以在相对位置创建文本文件后，使用文件名进行读取，也可以直接使用文件绝对位置进行读取：</p><ol><li><p>使用文件名：<br>当指定一个相对的文件名时，例如”myfile.txt”，文件会位于Java虚拟机启动路径的相对位置（一般位于该java project的同层目录）。可以使用：<br><code>String dir =System.getProperty(&quot;user.dir&quot;);</code><br>文件读取：<br><code>Scanner in=new Scanner(Paths.get(&quot;myfile.txt&quot;)，&quot;UTF-8&quot;);</code>  </p></li><li><p>使用绝对路径：<br><code>Scanner in=new Scanner(Paths.get(&quot;D://Java//Projects//myfile.txt&quot;)，&quot;UTF-8&quot;);</code><br>值得注意的是如果文件名含有反斜杠符号，需要在反斜杠符号之前再添加一个反斜杠。  </p></li></ol><h2 id="文件输出"><a href="#文件输出" class="headerlink" title="文件输出"></a>文件输出</h2><p>要想写入文件则需要构造一个PrintWriter对象：<br><code>PrintWriter out=new PrintWriter(&quot;文件名&quot;，&quot;字符编码&quot;);</code>  </p><p>对于文件明的处理与文件输入时一样。  除此之外在构造完成并进行输出操作之后，还需要对缓存区进行清理并关闭读写流，因而需要使用：<br><code>out.flus()</code>，以及<code>out.close</code> 。如果不使用out.flus则文件不会输出成功，因为数据还会留存在缓冲区里，不会输出在文件中。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>一下是将数据从一个文件读入并输出到另一个文件的代码：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">java</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"><span class="keyword">import</span> java.time.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">       Scanner in =<span class="keyword">new</span> Scanner(Paths.get(<span class="string">"pw.txt"</span>),<span class="string">"UTF-8"</span>);</span><br><span class="line">       PrintWriter out=<span class="keyword">new</span> PrintWriter(<span class="string">"1.txt"</span>,<span class="string">"UTF-8"</span>);</span><br><span class="line">       out.print(in.next());</span><br><span class="line">       out.flush();</span><br><span class="line">       out.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 文件流 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>latex公式总结</title>
      <link href="/2020/02/13/latex%E5%85%AC%E5%BC%8F%E6%80%BB%E7%BB%93/"/>
      <url>/2020/02/13/latex%E5%85%AC%E5%BC%8F%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>在博客撰写的过程中不免会遇到各种数理公式的使用，因而当撰写markdown文档时如需添加数学公式，可以使用两个美元符号$$包裹TeX或LaTeX格式的数学公式来实现，当提交之后，文章页会调用Mathjax对数学公式进行渲染。  </p><h1 id="公式的具体实现"><a href="#公式的具体实现" class="headerlink" title="公式的具体实现"></a>公式的具体实现</h1><p>在行中的公式可以采用单$表示：  </p><blockquote><p><code>$</code> 数学公式 <code>$</code>   </p></blockquote><p>独立公式则采用双$表示：   </p><blockquote><p><code>$$</code> 数学公式 <code>$$</code></p></blockquote><h2 id="声调以及变音符号"><a href="#声调以及变音符号" class="headerlink" title="声调以及变音符号"></a>声调以及变音符号</h2><blockquote><p>\dot{a}(<code>一点a</code>), \ddot{a}（<code>两点a</code>）, \acute{a}（<code>第二声</code>）, \grave{a}（<code>第四声</code>）  </p></blockquote><p>$\dot{a}, \ddot{a}, \acute{a}, \grave{a} $  </p><blockquote><p>\check{a}（<code>第三声</code>）, \breve{a}, \tilde{a}, \bar{a}（<code>第一声</code>）  </p></blockquote><p>$ \check{a}, \breve{a}, \tilde{a}, \bar{a} $  </p><blockquote><p>\hat{a}, \widehat{a}, \vec{a}（<code>向量</code>）  </p></blockquote><p>$ \hat{a}, \widehat{a}, \vec{a} $  </p><h2 id="标准函数"><a href="#标准函数" class="headerlink" title="标准函数"></a>标准函数</h2><p>指数：  </p><blockquote><p>exp_a b =a^b,    \exp b =e^b,    10^m  </p></blockquote><p>$exp_a b= a^b, \exp b =e^b, 10^m $  </p><p>对数：  </p><blockquote><p>\ln c,    \lg d = \log e,    \log_{<code>底数</code>} <code>指数</code>   </p></blockquote><p>$\ln c, \lg d= \log e, \log_{2} 3 $  </p><p>三角函数：  </p><blockquote><p>\sin a, \cos b, \tan c, \cot d, \sec e, \csc f, \arcsin a, \arccos b, \arctan c, \arccot d  </p></blockquote><p>$\sin a, \cos b, \tan c, \cot d, \sec e, \csc f, \arcsin a, \arccos b, \arctan c, arccot d$  </p><h2 id="符号函数，绝对值："><a href="#符号函数，绝对值：" class="headerlink" title="符号函数，绝对值："></a>符号函数，绝对值：</h2><blockquote><p>\sgn r, \left\vert s \right\vert  </p></blockquote><p>$\left\vert s \right\vert$  </p><h2 id="最值和极限："><a href="#最值和极限：" class="headerlink" title="最值和极限："></a>最值和极限：</h2><blockquote><p>\min(x,y) ,\max(x,y)  </p></blockquote><p>$\min(x,y) ,\max(x,y)$  </p><blockquote><p>\min x, \min y, \inf s, \sup t  </p></blockquote><p>$\min x, \min y, \inf s, \sup t$  </p><blockquote><p>\lim u，  lim_{x \to  \infty} \frac{1}{n(n+1)}  </p></blockquote><p>$\lim u,    \lim_{x \to   \infty} \frac{1}{n(n+1)}$  </p><h2 id="微积分及导数"><a href="#微积分及导数" class="headerlink" title="微积分及导数"></a>微积分及导数</h2><blockquote><p>dt  ,\mathrm{d}t,  \partial t,  \nabla\psi  </p></blockquote><p>$dt,  \mathrm{d}t,  \partial t,  \nabla\psi$   </p><blockquote><p>dy/dx,  \mathrm{d}y/\mathrm{d}x,  \frac{\mathrm{d}y}{\mathrm{d}x},  \frac{\partial^2}{\partial x_1\partial x_2}y  </p></blockquote><blockquote><p>\prime, \backprime, f^\prime, f’, f’’, f^{(3)}, \dot y, \ddot y  </p></blockquote><p>$\prime,  \backprime, f^\prime, f’, f’’ ,f^{(3)}, \dot y, \ddot y$  </p><blockquote><p>\infty<br>$\infty$   </p></blockquote><h2 id="根号"><a href="#根号" class="headerlink" title="根号"></a>根号</h2><blockquote><p>\surd,  \sqrt{2},  \sqrt[n]{},  \sqrt[3]{\frac{x^3+y^3}{2}}  </p></blockquote><p>$\surd,   \sqrt{2},   \sqrt[n]{2},  \sqrt[3]{\frac{x^3+y^3}{2}}$  </p><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><blockquote><p>+, -, \pm, \mp, \dotplus   </p></blockquote><p>$+ , - , \pm, \mp, \dotplus$  </p><blockquote><p>\times,  \div, \divideontimes, /, \backslash   </p></blockquote><p>$\times , \div, \divideontimes, / , \backslash$  </p><blockquote><p>\oplus, \ominus, \otimes, \oslash, \odot</p></blockquote><p>$\oplus, \ominus, \otimes, \oslash, \odot$</p><blockquote><p>\bigoplus,  \bigotimes, \bigodot  </p></blockquote><p>$\bigoplus, \bigotimes, \bigodot$  </p><h2 id="模运算"><a href="#模运算" class="headerlink" title="模运算"></a>模运算</h2><blockquote><p>s_k \equiv 0 \pmod{m}  </p></blockquote><p>$s_k \equiv 0 \pmod{m}$  </p><blockquote><p>a \bmod b  </p></blockquote><p>$a \bmod b$  </p><blockquote><p>\gcd(m,n), \operatorname{lcm}(m,n)  </p></blockquote><p>$\gcd(m,n), \operatorname{lcm}(m,n)$  </p><blockquote><p>\mid, \nmid, \shortmid, \nshortmid</p></blockquote><p>$\mid, \nmid, \shortmid, \nshortmid$  </p><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><blockquote><p>\emptyset, \varnothing  </p></blockquote><p>$\emptyset, \varnothing$  </p><blockquote><p>\in, \notin  \not\in, \ni, \not\ni  </p></blockquote><p>$\in, \notin  \not\in,\ni,\not\ni$  </p><blockquote><p>\cap, \Cap, \sqcap, \bigcap</p></blockquote><p>$\cap, \Cap, \sqcap, \bigcap$</p><blockquote><p>\cup, \Cup, \sqcup, \bigcup </p></blockquote><p>$\cup, \Cup, \sqcup, \bigcup$</p><blockquote><p>\setminus ,\times  </p></blockquote><p>$\setminus ,\times$  </p><blockquote><p>\subset, \Subset, \sqsubset </p></blockquote><p>$\subset, \Subset, \sqsubset$</p><blockquote><p>\supset, \Supset, \sqsupset</p></blockquote><p>$\supset, \Supset, \sqsupset$</p><blockquote><p>\subseteq, \nsubseteq</p></blockquote><p>$\subseteq, \nsubseteq$  </p><blockquote><p>\supseteq, \nsupseteq </p></blockquote><p>$\supseteq, \nsupseteq$</p><blockquote><p>\subseteqq, \nsubseteqq </p></blockquote><p>$\subseteqq, \nsubseteqq$  </p><blockquote><p>\supseteqq, \nsupseteqq  </p></blockquote><p>$\supseteqq, \nsupseteqq$ </p><h2 id="关系符号"><a href="#关系符号" class="headerlink" title="关系符号"></a>关系符号</h2><blockquote><p>=, \ne, \neq, \equiv, \not\equiv  </p></blockquote><p>$=, \ne, \neq, \equiv, \not\equiv$  </p><blockquote><p>\doteq, \doteqdot  </p></blockquote><p>$\doteq, \doteqdot$  </p><blockquote><p>\sim, \nsim, \backsim, \thicksim, \simeq, \backsimeq, \eqsim, \cong, \ncong  </p></blockquote><p>$\sim, \nsim, \backsim, \thicksim, \simeq, \backsimeq, \eqsim, \cong, \ncong$  </p><blockquote><p>\approx, \thickqpprox, \approxeq, \propto, \varpropto  </p></blockquote><p>$\approx, \thickapprox, \approxeq, \propto, \varpropto$  </p><blockquote><p>&lt;, \nless, \ll, \not\ll, \lll, \not\lll,\lessdot  </p></blockquote><p>$&lt;, \nless, \ll, \not\ll, \lll, \not\lll,\lessdot$  </p><blockquote><p>/&gt;, \ngte, \gg, \not\gg, \ggg, \not\ggg, \gtrdot  </p></blockquote><p>$&gt;, \ngtr, \gg, \not\gg, \ggg, \not\ggg, \gtrdot$</p><blockquote><p>\le, \leq, \lneq, \leqq  </p></blockquote><p>$\le, \leq, \lneq, \leqq$  </p><blockquote><p>\ge, \geq, \gneq, \geqq  </p></blockquote><p>$\ge, \geq, \gneq, \geqq$  </p>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> latex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>康托展开</title>
      <link href="/2020/02/10/%E5%BA%B7%E6%89%98%E5%B1%95%E5%BC%80/"/>
      <url>/2020/02/10/%E5%BA%B7%E6%89%98%E5%B1%95%E5%BC%80/</url>
      
        <content type="html"><![CDATA[<h1 id="康托展开"><a href="#康托展开" class="headerlink" title="康托展开"></a>康托展开</h1><h2 id="定义即公式"><a href="#定义即公式" class="headerlink" title="定义即公式"></a>定义即公式</h2><p>康托展开表示的是全排列到自然数的映射，康托展开的本质即为某一全排列在整个全排列序列中的顺序。即<code>1 3 2</code>在由<code>1,2,3</code>三个数组成的全排列中的顺序为2。同时此项展开是一个可逆的过程，存在正向运算以及逆向运算。公式为：  </p><blockquote><p>X= a[n] * (n-1)! + a[n-1]*(n-2)!+ … +a[i] * (i-1)! + … + a[1] * 0!   </p></blockquote><p>其中a[i]为整数，并且 0&lt;= a[i]  &lt; i, 1&lt;= i &lt;=n.<br>a[i]:设x为一串数字或字符串中第i个元素，a[i]即表示x之后的元素中比x小的元素的个数。<br>例如序列： 3 2 1<br>X=2 * 2！+1 * 1!+ 0 * 0!=5;  </p><h2 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h2><p>由康托展开的公式可知：n位（0~n-1）全排列后，其康托展开唯一且最大约为n!，因此可以由更小的空间来储存这些排列。由公式可将X逆推出对应的全排列。因此康托展开多用于构建哈希表时的空间压缩。  </p><h2 id="例题代码"><a href="#例题代码" class="headerlink" title="例题代码"></a>例题代码</h2><p>现在有”abcdefghijkl”12个字符，将其所有的排列中按字典序排列，给出任意一种排列，说出这个排列在所有的排列中是第几小的？<br>  <strong><em>输入</em></strong> ： </p><p>每行输入一行字符串，保证是a~l这12个字符的某种排列<br>EOF结束</p><p><strong><em>输出</em></strong>：  </p><p>输出一个整数，代表这个排列排在第几位。<br>样例输入：<br>abcdefghijkl<br>abcdefghiklj<br>gfkedhjblcia  </p><p>样例输出1：<br>0<br>3<br>260726925  </p><p>代码：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll ans;</span><br><span class="line"><span class="built_in">string</span> s;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">0</span>||i==<span class="number">1</span>) <span class="keyword">return</span> i;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> i*factorial(i<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"> &#125; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;s)&#123;</span><br><span class="line">ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;s.<span class="built_in">size</span>();j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(s[j]&lt;s[i])</span><br><span class="line">&#123;</span><br><span class="line">tmp++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ans+=factorial(s.<span class="built_in">size</span>()-i<span class="number">-1</span>)*tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>逆康托公式：即给出序号，输出排列：<br>代码：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factor</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(k == <span class="number">0</span> || k == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> k * factor(k<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">105</span>], book[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, k, m, key, x, j;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line"><span class="built_in">memset</span>(book, <span class="number">0</span>, <span class="keyword">sizeof</span> book);</span><br><span class="line">--n;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=m;++i)&#123;</span><br><span class="line">k = factor(m-i);</span><br><span class="line">key = n/k+<span class="number">1</span>;</span><br><span class="line">n %= k;</span><br><span class="line">j = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(key)&#123;</span><br><span class="line"><span class="keyword">if</span>(!book[j]) --key;</span><br><span class="line">++j;</span><br><span class="line">&#125;</span><br><span class="line">ans[i] = j<span class="number">-1</span>;</span><br><span class="line">book[j<span class="number">-1</span>] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 康托展开 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bitset的用法（十进制转二进制）</title>
      <link href="/2020/02/04/bitset%E7%9A%84%E7%94%A8%E6%B3%95/"/>
      <url>/2020/02/04/bitset%E7%9A%84%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="bitset的用法（十进制转二进制）"><a href="#bitset的用法（十进制转二进制）" class="headerlink" title="bitset的用法（十进制转二进制）"></a>bitset的用法（十进制转二进制）</h1><p>C++的bitset存在于<code>&lt;bitset&gt;</code>的头文件中，是一种类似于数组的结构，它的每一个元素只能是0或1，因而多用于十进制到二进制的转化类问题的解决。bitset的基本格式为:  </p><blockquote><p>bitset&lt;保留的位数&gt; b(要求的十进制数)  </p></blockquote><p>bitset常见构造：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bitset</span>&lt;2&gt; b(<span class="number">11</span>);<span class="comment">//11的二进制1011，保留后两位为为11；</span></span><br><span class="line"><span class="built_in">bitset</span>&lt;5&gt; b(<span class="number">11</span>);<span class="comment">//5位超过4位，所以添加0，为01011；  </span></span><br><span class="line">b.to_string();<span class="comment">//将其转化为字符串类型；</span></span><br></pre></td></tr></table></figure></div><h2 id="在例题中的使用："><a href="#在例题中的使用：" class="headerlink" title="在例题中的使用："></a>在例题中的使用：</h2><h3 id="蓝桥杯明码："><a href="#蓝桥杯明码：" class="headerlink" title="蓝桥杯明码："></a>蓝桥杯明码：</h3><p>标题：明码  </p><p>汉字的字形存在于字库中，即便在今天，16点阵的字库也仍然使用广泛。<br>16点阵的字库把每个汉字看成是16x16个像素信息。并把这些信息记录在字节中。  </p><p>一个字节可以存储8位信息，用32个字节就可以存一个汉字的字形了。<br>把每个字节转为2进制表示，1表示墨迹，0表示底色。每行2个字节，<br>一共16行，布局是：  </p><p>第1字节，第2字节  </p><p>第3字节，第4字节  </p><p>….  </p><p>第31字节, 第32字节  </p><p>1  </p><p>2  </p><p>3  </p><p>4  </p><p>这道题目是给你一段多个汉字组成的信息，每个汉字用32个字节表示，这里给出了字节作为有符号整数的值。<br>题目的要求隐藏在这些信息中。你的任务是复原这些汉字的字形，从中看出题目的要求，并根据要求填写答案。  </p><p>这段信息是（一共10个汉字）：  </p><p>4 0 4 0 4 0 4 32 -1 -16 4 32 4 32 4 32 4 32 4 32 8 32 8 32 16 34 16 34 32 30 -64 0  </p><p>16 64 16 64 34 68 127 126 66 -124 67 4 66 4 66 -124 126 100 66 36 66 4 66 4 66 4 126 4 66 40 0 16  </p><p>4 0 4 0 4 0 4 32 -1 -16 4 32 4 32 4 32 4 32 4 32 8 32 8 32 16 34 16 34 32 30 -64 0  </p><p>0 -128 64 -128 48 -128 17 8 1 -4 2 8 8 80 16 64 32 64 -32 64 32 -96 32 -96 33 16 34 8 36 14 40 4  </p><p>4 0 3 0 1 0 0 4 -1 -2 4 0 4 16 7 -8 4 16 4 16 4 16 8 16 8 16 16 16 32 -96 64 64  </p><p>16 64 20 72 62 -4 73 32 5 16 1 0 63 -8 1 0 -1 -2 0 64 0 80 63 -8 8 64 4 64 1 64 0 -128  </p><p>0 16 63 -8 1 0 1 0 1 0 1 4 -1 -2 1 0 1 0 1 0 1 0 1 0 1 0 1 0 5 0 2 0  </p><p>2 0 2 0 7 -16 8 32 24 64 37 -128 2 -128 12 -128 113 -4 2 8 12 16 18 32 33 -64 1 0 14 0 112 0  </p><p>1 0 1 0 1 0 9 32 9 16 17 12 17 4 33 16 65 16 1 32 1 64 0 -128 1 0 2 0 12 0 112 0  </p><p>0 0 0 0 7 -16 24 24 48 12 56 12 0 56 0 -32 0 -64 0 -128 0 0 0 0 1 -128 3 -64 1 -128 0 0<br>用上述的库函数可以很简单的解决：<br>代码：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="built_in">string</span> s;</span><br><span class="line">   <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">bitset</span>&lt;8&gt; b(n);</span><br><span class="line">   s=b.to_string();</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="keyword">if</span>(s[i]==<span class="string">'0'</span>)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span> </span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;<span class="string">"*"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">bitset</span>&lt;8&gt; q(m);</span><br><span class="line">   s=q.to_string();</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="keyword">if</span>(s[i]==<span class="string">'0'</span>)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">'1'</span>)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;<span class="string">"*"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>结果显示为：   </p><p><a href="http://q4wxf2l6s.bkt.clouddn.com/20180402083607793.png" data-fancybox="group" data-caption="RUNOOB tu" class="fancybox"><img alt="RUNOOB tu" title="RUNOOB tu" data-src="http://q4wxf2l6s.bkt.clouddn.com/20180402083607793.png" class="lazyload"></a>    </p>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> 二进制转换 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dp背包问题</title>
      <link href="/2020/01/31/dp%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/"/>
      <url>/2020/01/31/dp%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="背包问题"><a href="#背包问题" class="headerlink" title="背包问题"></a>背包问题</h1><h2 id="0-1背包问题"><a href="#0-1背包问题" class="headerlink" title="0-1背包问题"></a>0-1背包问题</h2><ul><li>问题描述：<br>有一个包和n个物品，包的容量为m，每个物品都有各自的体积和价值，问当从这n个物品中选择多个物品放在包里而物品体积总数不超过包的容量m时，能够得到的最大价值是多少？<code>(对于每个物品不可以取多次，最多只能取一次，之所以叫做0-1背包，0表示不取，1表示取)</code><br>此题的每个物品的数量是有限的，对于每个物体只有两种可能，要么不取，要么取。  </li><li>状态转移方程为：<blockquote><p>dp[i+1][j]=dp[i][j] ( j &lt; w[i] ); //即第i个物品的重量太大，不选<br>dp[i+1][j]=max(dp[i][j-w[i]]+v[i],dp[i][j])( 其他 ) //即第i个物品满足，可以选择，也可以不选择；  </p></blockquote></li></ul><p>其中<code>dp[i+1][j]</code>表示从前i个物品中选出总重量不超过j的物品时总价值的最大值，且<code>dp[0][j]=0</code>。  </p><ul><li>代码：<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10010</span></span><br><span class="line"><span class="keyword">int</span> dp[MAXN][MAXN];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> W;</span><br><span class="line"><span class="keyword">int</span> w[MAXN],v[MAXN];</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=W;j++)</span><br><span class="line">&#123;</span><br><span class="line">dp[<span class="number">0</span>][j]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=W;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(j&lt;w[i])</span><br><span class="line">&#123;</span><br><span class="line">dp[i+<span class="number">1</span>][j]=dp[i][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">dp[i+<span class="number">1</span>][j]=<span class="built_in">max</span>(dp[i][j],dp[i][j-w[i]]+v[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[n][W]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n&gt;&gt;W;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;w[i]&gt;&gt;v[i];</span><br><span class="line">&#125;</span><br><span class="line">solve();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>此时的时间复杂度为: <strong><em>O（nW）</em></strong>;<h2 id="完全背包问题"><a href="#完全背包问题" class="headerlink" title="完全背包问题"></a>完全背包问题</h2>完全背包问题与0-1背包问题的区别在于完全背包的每个物品的数量为固定数量，因而转移状态方程发生了变化：<blockquote><p>dp[i+1][j]=max{dp[i-k<em>w[i]]+k</em>v[i] | 0&lt;=k}<br>dp[0][j]=0;  </p></blockquote></li></ul><p>其中<code>dp[i+1][j]表示从前i种物品中挑选总重量不超过j时总价值的最大值</code>。<br>代码:  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 101</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> n,m,k;</span><br><span class="line"><span class="keyword">int</span> W;</span><br><span class="line"><span class="keyword">int</span> w[maxn];</span><br><span class="line"><span class="keyword">int</span> v[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=W;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k*w[i]&lt;=j;k++)</span><br><span class="line">&#123;</span><br><span class="line">dp[i+<span class="number">1</span>][j]=<span class="built_in">max</span>(dp[i+<span class="number">1</span>][j],dp[i][j-k*w[i]]+k*v[i]);</span><br><span class="line">&#125;</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[n][W]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n&gt;&gt;W;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;w[i]&gt;&gt;v[i];</span><br><span class="line">&#125;</span><br><span class="line">solve();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>此时形成了一个三重循环，时间复杂度为<strong><em>O(nW^2)</em></strong>,显然不够好，从状态转移方程以及方程意义来看，其中在dp[i+1][j]的计算中选择k(k&gt;=1)的情况，与在dp[i+1][j-w[i]]的计算结果中选择k-1个的情况是一样的，这就造成了大量的重复计算，对状态转移方程进行化简：</p><blockquote><p>&#160;&#160;&#160;max{dp[i][j-k<em>w[i]]+k</em>v[i]|0&lt;=k}<br>= max(dp[i][j],max(dp[i][j-k<em>w[i]]+k</em>v[i]|k&gt;=1))<br>= max(dp[i][j],max{dp[i][j-w[i]-k<em>w[i]]+k</em>v[i]|k&gt;=0}+v[i]<br>= max(dp[i][j],dp[i+1][j-w[i]]+v[i])  </p></blockquote><p>根据化简结果可得优化后的代码为：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 101</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> ap[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> n,m,k;</span><br><span class="line"><span class="keyword">int</span> W;</span><br><span class="line"><span class="keyword">int</span> w[maxn];</span><br><span class="line"><span class="keyword">int</span> v[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=W;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(j&lt;w[i])</span><br><span class="line">&#123;</span><br><span class="line">dp[i+<span class="number">1</span>][j]=dp[i][j]; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">dp[i+<span class="number">1</span>][j]=<span class="built_in">max</span>(dp[i][j],dp[i+<span class="number">1</span>][j-w[i]]+v[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[n][W]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n&gt;&gt;W;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;w[i]&gt;&gt;v[i];</span><br><span class="line">&#125;</span><br><span class="line">solve();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>此时的时间复杂度与0-1背包相同为：<strong><em>O (nW)</em></strong>  </p><h2 id="空间优化"><a href="#空间优化" class="headerlink" title="空间优化"></a>空间优化</h2><p>对于上述的两个问题<strong><em>O (nW)</em></strong>的时间复杂度已经是最优化的状态了，但代码的空间复杂度还可以进行优化。观察上述代码可以将表示状态转移方程的二维数组化为一位，代码如下：<br>0-1背包问题：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10010</span></span><br><span class="line"><span class="keyword">int</span> dp[MAXN];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> W;</span><br><span class="line"><span class="keyword">int</span> w[MAXN],v[MAXN];</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=W;j&gt;=w[i];j--)</span><br><span class="line">&#123;</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-w[i]]+v[i]);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[n][W]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>完全背包问题：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10010</span></span><br><span class="line"><span class="keyword">int</span> dp[MAXN];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> W;</span><br><span class="line"><span class="keyword">int</span> w[MAXN],v[MAXN];</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=w[i];j&lt;=W;j++)</span><br><span class="line">&#123;</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-w[i]]+v[i]);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[n][W]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>由上面的两个代码比较可知一维数组的0-1和完全背包问题的区别仅在于循环的方向，那么为什么0-1背包的方向为逆序而完全背包为正序呢？原因还是在于状态转换方程。对于0-1背包问题来说：<code>dp[i+1][j]=dp[i][j] or dp[i][j-w[i]+v[i]</code>,现状态由且仅由上一个状态的转换方程决定，因而j从W开始，此时的<code>dp[j-w[i]]+v[i]</code>所代表的值由于j是从大到小的顺序，j的每一个取值的结果都是由上一个状态的值推出，但对于完全背包问题：<code>dp[i+1][j]=max(dp[i][j],dp[i+1][j-w[i]]+v[i])</code>,其结果是由当前状态推出。因而j的取值需要从小到大进行，有本次状态转移方程的值推出后续的本次状态转移方程的值，因而会存在逆序的差异。</p>]]></content>
      
      
      <categories>
          
          <category> 算法与数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dp </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git相关操作</title>
      <link href="/2020/01/29/Git%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/"/>
      <url>/2020/01/29/Git%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="Git操作"><a href="#Git操作" class="headerlink" title="Git操作"></a>Git操作</h1><h2 id="创建-Git仓库："><a href="#创建-Git仓库：" class="headerlink" title="创建 Git仓库："></a>创建 Git仓库：</h2><h3 id="在当前目录新建一个Git代码库"><a href="#在当前目录新建一个Git代码库" class="headerlink" title="在当前目录新建一个Git代码库"></a>在当前目录新建一个Git代码库</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure></div><h3 id="新建一个目录，将其初始化为Git代码库"><a href="#新建一个目录，将其初始化为Git代码库" class="headerlink" title="新建一个目录，将其初始化为Git代码库"></a>新建一个目录，将其初始化为Git代码库</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$git init [project-name]</span><br></pre></td></tr></table></figure></div><h2 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h2><p>将文件添加到仓库分为两步：<code>add</code>和<code>commit</code>,其中commit部分可以添加适当的说明文字，以便版本回溯时参考使用。 </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add filename</span><br><span class="line">$ git commit-m&quot;discribtion words&quot;</span><br></pre></td></tr></table></figure></div><p>此外可以add多个文件后再统一commit，也可以add一次，commit一次。  </p><h2 id="状态以及过程"><a href="#状态以及过程" class="headerlink" title="状态以及过程"></a>状态以及过程</h2><h3 id="状态"><a href="#状态" class="headerlink" title="状态"></a>状态</h3><p>可以运行<code>git status</code>命令查看git的提交状态，此外当对文件进行修改之后，还未<code>commit</code>的时候可以使用<code>git diff</code>查看具体修改了什么。   </p><h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log</span><br></pre></td></tr></table></figure></div><p>顾名思义log有航海日记得意思，<code>git log</code>命令是显示最近到最远的提交日志，但这个命令得到的消息较为繁琐。<br>添加’–pretty=oneline’参数：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty&#x3D;online</span><br></pre></td></tr></table></figure></div><p>则将日志信息精简为只有<code>commit id（版本号）</code>的样式。  </p><h2 id="版本回溯"><a href="#版本回溯" class="headerlink" title="版本回溯"></a>版本回溯</h2><p>当出现错误，或想要回到修改提交过的版本时只需要<code>git reset</code>命令即可。</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$git reset --hard HEAD</span><br><span class="line">$git reset --hard HEAD^</span><br></pre></td></tr></table></figure></div><p>第一个指令是回溯到上一个版本，加上一个<code>^</code>则是再向前回溯一个版本，依次类推，加上几个 <code>^</code> 符号就是再次向前回退几个版本。当然这种命令存在一定的局限性，因为命令的格式随着回推的进行变得越来越繁琐，因而在上一条介绍中提到的<strong>版本号</strong>就派上了用场：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard commit id</span><br></pre></td></tr></table></figure></div><p>版本号无需写全，只需写入前4,5位即可。<br>此外除了<code>git log</code>可以查到版本号，使用指令<code>git reflog</code>可以更好更直观的找到之前的版本号，以便进行回溯。</p><h1 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h1><h2 id="提交前"><a href="#提交前" class="headerlink" title="提交前"></a>提交前</h2><p>当尽行修改或是删除之后，过还没有进行提交，则可以使用：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout filename</span><br></pre></td></tr></table></figure></div><p>进行撤销操作，可以丢弃掉工作区的修改，使其恢复修改前的状态。  </p><h2 id="提交后"><a href="#提交后" class="headerlink" title="提交后"></a>提交后</h2><p>当你已经提交，即已经<code>git add</code>但还没有<code>git commit</code>之时，则需：  </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD filename</span><br></pre></td></tr></table></figure></div><p>可以将暂存区的修改撤销，重新放回工作区。  </p><h1 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h1><p>删除操作只有两步，将工作区的文件删去，将版本库中的文件删去。</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ rm filename  </span><br><span class="line">$ git rm filename  </span><br><span class="line">$ git commit -m &quot;discribtions&quot;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的第一篇博客</title>
      <link href="/2020/01/10/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
      <url>/2020/01/10/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="我的一篇博文-markdown编写规则"><a href="#我的一篇博文-markdown编写规则" class="headerlink" title="我的一篇博文(markdown编写规则)"></a>我的一篇博文(markdown编写规则)</h1><h2 id="My-first-blog"><a href="#My-first-blog" class="headerlink" title="My first blog."></a>My first blog.</h2><h3 id="This-is-my-first-article-in-my-blog"><a href="#This-is-my-first-article-in-my-blog" class="headerlink" title="This is my first article in my blog!"></a>This is my first article in my blog!</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">666</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"it's gonna to be successful!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h1 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h1><p>在markdown文档中使用”#”来区分标题，一个”#”表示一级标题，两个”#”表示二级标题，以此类推；<br>例子如下：  </p><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h1 id="分段"><a href="#分段" class="headerlink" title="分段"></a>分段</h1><p>对于markdown文档来说，段落的换行需要两个空格加上一个回车，当然也可以在段落的后面使用一个空行来表示重新开始一个段落。  </p><h1 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h1><p>markdown文档常用的有六种字体表示方法如下：  </p><p><code>*斜体文本*</code><br><code>**粗体文本**</code><br><code>***粗斜体文本***</code>  </p><p>效果如下：<br><em>斜体文本</em><br><strong>粗体文本</strong><br><strong><em>粗斜体文本</em></strong>      </p><h1 id="分隔线"><a href="#分隔线" class="headerlink" title="分隔线"></a>分隔线</h1><p>你可以在一行中用三个以上的星号、减号来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格（<strong><em>减号必须插入空格</em></strong>）。下面每种写法都可以建立分隔线：表示方法方法如下：<br><code>***</code> 或 <code>* * *</code> 或 <code>- - -</code><br>效果如下：  </p><hr><hr><hr><h1 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h1><p>如果段落上的文字要添加删除线，只需要在文字的两端加上两个波浪线 <del>~ 即可，实例如下：<br>`</del>jackeylove<del>`<br>效果如下：<br>~</del>jackeylove~~    </p><h1 id="下划线"><a href="#下划线" class="headerlink" title="下划线"></a>下划线</h1><p><code>通过html中的&lt;u&gt;实现</code>，效果如下：<br><u>The Big Bang Theory</u>    </p><h1 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h1><p>脚注是对文本的补充说明，markdown文档的脚注格式为<code>[^要注明的文本]</code><br>效果如下：<br>创建脚注格式类似这样 <a href="薄雾浓云愁永昼，瑞脑消金兽">^RUNOOB</a>。</p><h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><p>markdown支持有序以及无序列表。</p><h2 id="列表标记"><a href="#列表标记" class="headerlink" title="列表标记"></a>列表标记</h2><p>无序列表使用星号，加号或减号作为列表标记：<br><code>* 第一项</code><br><code>+ 第二项</code><br><code>- 第三项</code><br>效果图如下：  </p><ul><li>第一项  </li></ul><ul><li>第二项  </li></ul><ul><li>第三项     </li></ul><h2 id="列表嵌套"><a href="#列表嵌套" class="headerlink" title="列表嵌套"></a>列表嵌套</h2><p>列表嵌套只需在子列表中的选项添加四个空格即可：<br>如：<code>[space][space][space][space]-嵌套</code><br>效果图为: </p><ol><li>第一项：    <ul><li>第一项嵌套的第一个元素  </li><li>第一项嵌套的第二个元素</li></ul></li><li>第二项：<ul><li>第二项嵌套的第一个元素</li><li>第二项嵌套的第二个元素  <h1 id="区块"><a href="#区块" class="headerlink" title="区块"></a>区块</h1>markdown区块引用是在段落开头使用&gt;符号，然后后面紧跟着一个空格符号。当想要结束区块引用时只需输入两个换行符即可结束区块引用。<br>即：<br><code>&gt; 区块引用</code><br>效果图如下：<blockquote><p>区块引用  </p></blockquote></li></ul></li></ol><p>此外区块还可以进行嵌套，一个&gt;符号是最外层，两个&gt;是第一层嵌套，以此类推：  </p><blockquote><p>最外层  </p><blockquote><p>第二层  </p><blockquote><p>第三层  </p></blockquote></blockquote></blockquote><p>区块中使用列表实例如下：<br><code>&gt;区块中使用列表</code><br><code>&gt;1. 第一项</code><br><code>&gt;2. 第二项</code><br><code>&gt;+ 第一项</code><br><code>&gt;+ 第二项</code><br>效果为：  </p><blockquote><p>区块中使用列表</p><ol><li>第一项  </li></ol><ul><li>第一项  </li><li>第二项</li></ul><ol start="2"><li>第二项</li></ol><ul><li>第一项</li><li>第二项</li><li>第三项</li></ul></blockquote><p>列表中使用区块则需要在&gt;前添加四个空格的缩进。<br>实例如下：<br><code>*第一项</code><br>    <code>&gt;tbbt</code><br>    <code>&gt;lol</code><br><code>*第二项</code><br>    <code>&gt;pop3</code><br>    <code>&gt;bob2</code><br>效果图如下：  </p><ul><li>第一项  <blockquote><p>tbbt<br>lol</p></blockquote></li><li>第二项    <blockquote><p>pop3<br>bob2    </p></blockquote></li></ul><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>如果是段落上的一个函数或代码的一个小片段可以用(`)将其包起来。       </p><blockquote><p>如<u><code>printf</code></u>函数  </p></blockquote><h2 id="代码区块"><a href="#代码区块" class="headerlink" title="代码区块"></a>代码区块</h2><p>代码区块用<strong><em>四个空格</em></strong>或一个<strong>Tab键</strong>  </p><ul><li>若要使代码高亮则在需要高亮的代码块的前一行及后一行使用三个反引（或~ 键）,<u>注意在代码区块的末尾的三个[<code>*</code>,<code>*</code>,<code>*</code>]后要紧跟着回车</u> </li><li>同时第一行反引号后面，输入代码块所使用的语言，实现代码高亮。  <h3 id="代码一："><a href="#代码一：" class="headerlink" title="代码一："></a>代码一：</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">666</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"it's gonna to be successful!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="代码二："><a href="#代码二：" class="headerlink" title="代码二："></a>代码二：</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">666</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"it's gonna to be very very successful!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h1 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h1>链接使用方法如下：  <blockquote><p>[链接名称]（链接地址）<br>或者<br>&lt;链接地址&gt;<br>例如：<br>[Google] (<a href="http://www.google.com" target="_blank" rel="noopener">www.google.com</a>)<br>&lt;<a href="http://www.baidu.com&gt;" target="_blank" rel="noopener">www.baidu.com&gt;</a>  </p></blockquote></li></ul><h1 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h1><p>markdown 图片语法格式如下：  </p><blockquote><p><a href="%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" data-fancybox="group" data-caption="alt 属性文本" class="fancybox"><img alt="alt 属性文本" title="alt 属性文本" data-src="%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" class="lazyload"></a><br>![alt<br><a href="%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" data-fancybox="group" data-caption="alt 属性文本" class="fancybox"><img alt="alt 属性文本" title="alt 属性文本" data-src="%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" class="lazyload"></a>  </p></blockquote><ul><li>开头一个感叹号！  </li><li>接着一个方括号，里面放上图片的替代文字    </li><li>接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上选择性的 ‘title’ 属性的文字。<br>使用实例：  <blockquote><p><a href="http://static.runoob.com/images/runoob-logo.png" data-fancybox="group" data-caption="RUNOOB 图标" class="fancybox"><img alt="RUNOOB 图标" title="RUNOOB 图标" data-src="http://static.runoob.com/images/runoob-logo.png" class="lazyload"></a><br><a href="http://q4wxf2l6s.bkt.clouddn.com/%E6%8D%95%E8%8E%B7.PNG" data-fancybox="group" data-caption="程序 图标" class="fancybox"><img alt="程序 图标" title="程序 图标" data-src="http://q4wxf2l6s.bkt.clouddn.com/%E6%8D%95%E8%8E%B7.PNG" class="lazyload"></a><br><a href="http://static.runoob.com/images/runoob-logo.png" data-fancybox="group" data-caption="RUNOOB 图标" class="fancybox"><img alt="RUNOOB 图标" title="RUNOOB 图标" data-src="http://static.runoob.com/images/runoob-logo.png" class="lazyload"></a></p></blockquote></li></ul><h1 id="结尾语"><a href="#结尾语" class="headerlink" title="结尾语"></a>结尾语</h1><p>对于hexo+git的组合来说，文章通过markdown书写，然后通过hexo g生成静态文件，再部署到服务器上，完成对文章的发布，所以说，markdown在当今html，css大行其道的时候仍能保留有其一席之地。  </p><p>$$<br>\begin{matrix} \lim_{n \to \infty}x_n \end{matrix}<br>$$</p>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown文档格式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/01/10/hello-world/"/>
      <url>/2020/01/10/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
